/*! jQuery UI - v1.12.1 - 2016-09-14
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js, focusable.js, form-reset-mixin.js, jquery-1-7.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/draggable.js, widgets/droppable.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/resizable.js, widgets/selectable.js, widgets/selectmenu.js, widgets/slider.js, widgets/sortable.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */

(function (t) {
  "function" == typeof define && define.amd ? define(["jquery"], t) : t(jQuery)
}
)(function (t) {
  function e(t) {
    for (var e = t.css("visibility"); "inherit" === e;)
      t = t.parent(),
        e = t.css("visibility");
    return "hidden" !== e
  }
  function i(t) {
    for (var e, i; t.length && t[0] !== document;) {
      if (e = t.css("position"),
        ("absolute" === e || "relative" === e || "fixed" === e) && (i = parseInt(t.css("zIndex"), 10),
          !isNaN(i) && 0 !== i))
        return i;
      t = t.parent()
    }
    return 0
  }
  function s() {
    this._curInst = null,
      this._keyEvent = !1,
      this._disabledInputs = [],
      this._datepickerShowing = !1,
      this._inDialog = !1,
      this._mainDivId = "ui-datepicker-div",
      this._inlineClass = "ui-datepicker-inline",
      this._appendClass = "ui-datepicker-append",
      this._triggerClass = "ui-datepicker-trigger",
      this._dialogClass = "ui-datepicker-dialog",
      this._disableClass = "ui-datepicker-disabled",
      this._unselectableClass = "ui-datepicker-unselectable",
      this._currentClass = "ui-datepicker-current-day",
      this._dayOverClass = "ui-datepicker-days-cell-over",
      this.regional = [],
      this.regional[""] = {
        closeText: "Done",
        prevText: "Prev",
        nextText: "Next",
        currentText: "Today",
        monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
        monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
        dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
        dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
        dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
        weekHeader: "Wk",
        dateFormat: "mm/dd/yy",
        firstDay: 0,
        isRTL: !1,
        showMonthAfterYear: !1,
        yearSuffix: ""
      },
      this._defaults = {
        showOn: "focus",
        showAnim: "fadeIn",
        showOptions: {},
        defaultDate: null,
        appendText: "",
        buttonText: "...",
        buttonImage: "",
        buttonImageOnly: !1,
        hideIfNoPrevNext: !1,
        navigationAsDateFormat: !1,
        gotoCurrent: !1,
        changeMonth: !1,
        changeYear: !1,
        yearRange: "c-10:c+10",
        showOtherMonths: !1,
        selectOtherMonths: !1,
        showWeek: !1,
        calculateWeek: this.iso8601Week,
        shortYearCutoff: "+10",
        minDate: null,
        maxDate: null,
        duration: "fast",
        beforeShowDay: null,
        beforeShow: null,
        onSelect: null,
        onChangeMonthYear: null,
        onClose: null,
        numberOfMonths: 1,
        showCurrentAtPos: 0,
        stepMonths: 1,
        stepBigMonths: 12,
        altField: "",
        altFormat: "",
        constrainInput: !0,
        showButtonPanel: !1,
        autoSize: !1,
        disabled: !1
      },
      t.extend(this._defaults, this.regional[""]),
      this.regional.en = t.extend(!0, {}, this.regional[""]),
      this.regional["en-US"] = t.extend(!0, {}, this.regional.en),
      this.dpDiv = n(t("<div id='" + this._mainDivId + "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))
  }
  function n(e) {
    var i = "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
    return e.on("mouseout", i, function () {
      t(this).removeClass("ui-state-hover"),
        -1 !== this.className.indexOf("ui-datepicker-prev") && t(this).removeClass("ui-datepicker-prev-hover"),
        -1 !== this.className.indexOf("ui-datepicker-next") && t(this).removeClass("ui-datepicker-next-hover")
    }).on("mouseover", i, o)
  }
  function o() {
    t.datepicker._isDisabledDatepicker(m.inline ? m.dpDiv.parent()[0] : m.input[0]) || (t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),
      t(this).addClass("ui-state-hover"),
      -1 !== this.className.indexOf("ui-datepicker-prev") && t(this).addClass("ui-datepicker-prev-hover"),
      -1 !== this.className.indexOf("ui-datepicker-next") && t(this).addClass("ui-datepicker-next-hover"))
  }
  function a(e, i) {
    t.extend(e, i);
    for (var s in i)
      null == i[s] && (e[s] = i[s]);
    return e
  }
  function r(t) {
    return function () {
      var e = this.element.val();
      t.apply(this, arguments),
        this._refresh(),
        e !== this.element.val() && this._trigger("change")
    }
  }
  t.ui = t.ui || {},
    t.ui.version = "1.12.1";
  var h = 0
    , l = Array.prototype.slice;
  t.cleanData = function (e) {
    return function (i) {
      var s, n, o;
      for (o = 0; null != (n = i[o]); o++)
        try {
          s = t._data(n, "events"),
            s && s.remove && t(n).triggerHandler("remove")
        } catch (a) { }
      e(i)
    }
  }(t.cleanData),
    t.widget = function (e, i, s) {
      var n, o, a, r = {}, h = e.split(".")[0];
      e = e.split(".")[1];
      var l = h + "-" + e;
      return s || (s = i,
        i = t.Widget),
        t.isArray(s) && (s = t.extend.apply(null, [{}].concat(s))),
        t.expr[":"][l.toLowerCase()] = function (e) {
          return !!t.data(e, l)
        }
        ,
        t[h] = t[h] || {},
        n = t[h][e],
        o = t[h][e] = function (t, e) {
          return this._createWidget ? (arguments.length && this._createWidget(t, e),
            void 0) : new o(t, e)
        }
        ,
        t.extend(o, n, {
          version: s.version,
          _proto: t.extend({}, s),
          _childConstructors: []
        }),
        a = new i,
        a.options = t.widget.extend({}, a.options),
        t.each(s, function (e, s) {
          return t.isFunction(s) ? (r[e] = function () {
            function t() {
              return i.prototype[e].apply(this, arguments)
            }
            function n(t) {
              return i.prototype[e].apply(this, t)
            }
            return function () {
              var e, i = this._super, o = this._superApply;
              return this._super = t,
                this._superApply = n,
                e = s.apply(this, arguments),
                this._super = i,
                this._superApply = o,
                e
            }
          }(),
            void 0) : (r[e] = s,
              void 0)
        }),
        o.prototype = t.widget.extend(a, {
          widgetEventPrefix: n ? a.widgetEventPrefix || e : e
        }, r, {
          constructor: o,
          namespace: h,
          widgetName: e,
          widgetFullName: l
        }),
        n ? (t.each(n._childConstructors, function (e, i) {
          var s = i.prototype;
          t.widget(s.namespace + "." + s.widgetName, o, i._proto)
        }),
          delete n._childConstructors) : i._childConstructors.push(o),
        t.widget.bridge(e, o),
        o
    }
    ,
    t.widget.extend = function (e) {
      for (var i, s, n = l.call(arguments, 1), o = 0, a = n.length; a > o; o++)
        for (i in n[o])
          s = n[o][i],
            n[o].hasOwnProperty(i) && void 0 !== s && (e[i] = t.isPlainObject(s) ? t.isPlainObject(e[i]) ? t.widget.extend({}, e[i], s) : t.widget.extend({}, s) : s);
      return e
    }
    ,
    t.widget.bridge = function (e, i) {
      var s = i.prototype.widgetFullName || e;
      t.fn[e] = function (n) {
        var o = "string" == typeof n
          , a = l.call(arguments, 1)
          , r = this;
        return o ? this.length || "instance" !== n ? this.each(function () {
          var i, o = t.data(this, s);
          return "instance" === n ? (r = o,
            !1) : o ? t.isFunction(o[n]) && "_" !== n.charAt(0) ? (i = o[n].apply(o, a),
              i !== o && void 0 !== i ? (r = i && i.jquery ? r.pushStack(i.get()) : i,
                !1) : void 0) : t.error("no such method '" + n + "' for " + e + " widget instance") : t.error("cannot call methods on " + e + " prior to initialization; " + "attempted to call method '" + n + "'")
        }) : r = void 0 : (a.length && (n = t.widget.extend.apply(null, [n].concat(a))),
          this.each(function () {
            var e = t.data(this, s);
            e ? (e.option(n || {}),
              e._init && e._init()) : t.data(this, s, new i(n, this))
          })),
          r
      }
    }
    ,
    t.Widget = function () { }
    ,
    t.Widget._childConstructors = [],
    t.Widget.prototype = {
      widgetName: "widget",
      widgetEventPrefix: "",
      defaultElement: "<div>",
      options: {
        classes: {},
        disabled: !1,
        create: null
      },
      _createWidget: function (e, i) {
        i = t(i || this.defaultElement || this)[0],
          this.element = t(i),
          this.uuid = h++,
          this.eventNamespace = "." + this.widgetName + this.uuid,
          this.bindings = t(),
          this.hoverable = t(),
          this.focusable = t(),
          this.classesElementLookup = {},
          i !== this && (t.data(i, this.widgetFullName, this),
            this._on(!0, this.element, {
              remove: function (t) {
                t.target === i && this.destroy()
              }
            }),
            this.document = t(i.style ? i.ownerDocument : i.document || i),
            this.window = t(this.document[0].defaultView || this.document[0].parentWindow)),
          this.options = t.widget.extend({}, this.options, this._getCreateOptions(), e),
          this._create(),
          this.options.disabled && this._setOptionDisabled(this.options.disabled),
          this._trigger("create", null, this._getCreateEventData()),
          this._init()
      },
      _getCreateOptions: function () {
        return {}
      },
      _getCreateEventData: t.noop,
      _create: t.noop,
      _init: t.noop,
      destroy: function () {
        var e = this;
        this._destroy(),
          t.each(this.classesElementLookup, function (t, i) {
            e._removeClass(i, t)
          }),
          this.element.off(this.eventNamespace).removeData(this.widgetFullName),
          this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),
          this.bindings.off(this.eventNamespace)
      },
      _destroy: t.noop,
      widget: function () {
        return this.element
      },
      option: function (e, i) {
        var s, n, o, a = e;
        if (0 === arguments.length)
          return t.widget.extend({}, this.options);
        if ("string" == typeof e)
          if (a = {},
            s = e.split("."),
            e = s.shift(),
            s.length) {
            for (n = a[e] = t.widget.extend({}, this.options[e]),
              o = 0; s.length - 1 > o; o++)
              n[s[o]] = n[s[o]] || {},
                n = n[s[o]];
            if (e = s.pop(),
              1 === arguments.length)
              return void 0 === n[e] ? null : n[e];
            n[e] = i
          } else {
            if (1 === arguments.length)
              return void 0 === this.options[e] ? null : this.options[e];
            a[e] = i
          }
        return this._setOptions(a),
          this
      },
      _setOptions: function (t) {
        var e;
        for (e in t)
          this._setOption(e, t[e]);
        return this
      },
      _setOption: function (t, e) {
        return "classes" === t && this._setOptionClasses(e),
          this.options[t] = e,
          "disabled" === t && this._setOptionDisabled(e),
          this
      },
      _setOptionClasses: function (e) {
        var i, s, n;
        for (i in e)
          n = this.classesElementLookup[i],
            e[i] !== this.options.classes[i] && n && n.length && (s = t(n.get()),
              this._removeClass(n, i),
              s.addClass(this._classes({
                element: s,
                keys: i,
                classes: e,
                add: !0
              })))
      },
      _setOptionDisabled: function (t) {
        this._toggleClass(this.widget(), this.widgetFullName + "-disabled", null, !!t),
          t && (this._removeClass(this.hoverable, null, "ui-state-hover"),
            this._removeClass(this.focusable, null, "ui-state-focus"))
      },
      enable: function () {
        return this._setOptions({
          disabled: !1
        })
      },
      disable: function () {
        return this._setOptions({
          disabled: !0
        })
      },
      _classes: function (e) {
        function i(i, o) {
          var a, r;
          for (r = 0; i.length > r; r++)
            a = n.classesElementLookup[i[r]] || t(),
              a = e.add ? t(t.unique(a.get().concat(e.element.get()))) : t(a.not(e.element).get()),
              n.classesElementLookup[i[r]] = a,
              s.push(i[r]),
              o && e.classes[i[r]] && s.push(e.classes[i[r]])
        }
        var s = []
          , n = this;
        return e = t.extend({
          element: this.element,
          classes: this.options.classes || {}
        }, e),
          this._on(e.element, {
            remove: "_untrackClassesElement"
          }),
          e.keys && i(e.keys.match(/\S+/g) || [], !0),
          e.extra && i(e.extra.match(/\S+/g) || []),
          s.join(" ")
      },
      _untrackClassesElement: function (e) {
        var i = this;
        t.each(i.classesElementLookup, function (s, n) {
          -1 !== t.inArray(e.target, n) && (i.classesElementLookup[s] = t(n.not(e.target).get()))
        })
      },
      _removeClass: function (t, e, i) {
        return this._toggleClass(t, e, i, !1)
      },
      _addClass: function (t, e, i) {
        return this._toggleClass(t, e, i, !0)
      },
      _toggleClass: function (t, e, i, s) {
        s = "boolean" == typeof s ? s : i;
        var n = "string" == typeof t || null === t
          , o = {
            extra: n ? e : i,
            keys: n ? t : e,
            element: n ? this.element : t,
            add: s
          };
        return o.element.toggleClass(this._classes(o), s),
          this
      },
      _on: function (e, i, s) {
        var n, o = this;
        "boolean" != typeof e && (s = i,
          i = e,
          e = !1),
          s ? (i = n = t(i),
            this.bindings = this.bindings.add(i)) : (s = i,
              i = this.element,
              n = this.widget()),
          t.each(s, function (s, a) {
            function r() {
              return e || o.options.disabled !== !0 && !t(this).hasClass("ui-state-disabled") ? ("string" == typeof a ? o[a] : a).apply(o, arguments) : void 0
            }
            "string" != typeof a && (r.guid = a.guid = a.guid || r.guid || t.guid++);
            var h = s.match(/^([\w:-]*)\s*(.*)$/)
              , l = h[1] + o.eventNamespace
              , c = h[2];
            c ? n.on(l, c, r) : i.on(l, r)
          })
      },
      _off: function (e, i) {
        i = (i || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace,
          e.off(i).off(i),
          this.bindings = t(this.bindings.not(e).get()),
          this.focusable = t(this.focusable.not(e).get()),
          this.hoverable = t(this.hoverable.not(e).get())
      },
      _delay: function (t, e) {
        function i() {
          return ("string" == typeof t ? s[t] : t).apply(s, arguments)
        }
        var s = this;
        return setTimeout(i, e || 0)
      },
      _hoverable: function (e) {
        this.hoverable = this.hoverable.add(e),
          this._on(e, {
            mouseenter: function (e) {
              this._addClass(t(e.currentTarget), null, "ui-state-hover")
            },
            mouseleave: function (e) {
              this._removeClass(t(e.currentTarget), null, "ui-state-hover")
            }
          })
      },
      _focusable: function (e) {
        this.focusable = this.focusable.add(e),
          this._on(e, {
            focusin: function (e) {
              this._addClass(t(e.currentTarget), null, "ui-state-focus")
            },
            focusout: function (e) {
              this._removeClass(t(e.currentTarget), null, "ui-state-focus")
            }
          })
      },
      _trigger: function (e, i, s) {
        var n, o, a = this.options[e];
        if (s = s || {},
          i = t.Event(i),
          i.type = (e === this.widgetEventPrefix ? e : this.widgetEventPrefix + e).toLowerCase(),
          i.target = this.element[0],
          o = i.originalEvent)
          for (n in o)
            n in i || (i[n] = o[n]);
        return this.element.trigger(i, s),
          !(t.isFunction(a) && a.apply(this.element[0], [i].concat(s)) === !1 || i.isDefaultPrevented())
      }
    },
    t.each({
      show: "fadeIn",
      hide: "fadeOut"
    }, function (e, i) {
      t.Widget.prototype["_" + e] = function (s, n, o) {
        "string" == typeof n && (n = {
          effect: n
        });
        var a, r = n ? n === !0 || "number" == typeof n ? i : n.effect || i : e;
        n = n || {},
          "number" == typeof n && (n = {
            duration: n
          }),
          a = !t.isEmptyObject(n),
          n.complete = o,
          n.delay && s.delay(n.delay),
          a && t.effects && t.effects.effect[r] ? s[e](n) : r !== e && s[r] ? s[r](n.duration, n.easing, o) : s.queue(function (i) {
            t(this)[e](),
              o && o.call(s[0]),
              i()
          })
      }
    }),
    t.widget,
    function () {
      function e(t, e, i) {
        return [parseFloat(t[0]) * (u.test(t[0]) ? e / 100 : 1), parseFloat(t[1]) * (u.test(t[1]) ? i / 100 : 1)]
      }
      function i(e, i) {
        return parseInt(t.css(e, i), 10) || 0
      }
      function s(e) {
        var i = e[0];
        return 9 === i.nodeType ? {
          width: e.width(),
          height: e.height(),
          offset: {
            top: 0,
            left: 0
          }
        } : t.isWindow(i) ? {
          width: e.width(),
          height: e.height(),
          offset: {
            top: e.scrollTop(),
            left: e.scrollLeft()
          }
        } : i.preventDefault ? {
          width: 0,
          height: 0,
          offset: {
            top: i.pageY,
            left: i.pageX
          }
        } : {
          width: e.outerWidth(),
          height: e.outerHeight(),
          offset: e.offset()
        }
      }
      var n, o = Math.max, a = Math.abs, r = /left|center|right/, h = /top|center|bottom/, l = /[\+\-]\d+(\.[\d]+)?%?/, c = /^\w+/, u = /%$/, d = t.fn.position;
      t.position = {
        scrollbarWidth: function () {
          if (void 0 !== n)
            return n;
          var e, i, s = t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"), o = s.children()[0];
          return t("body").append(s),
            e = o.offsetWidth,
            s.css("overflow", "scroll"),
            i = o.offsetWidth,
            e === i && (i = s[0].clientWidth),
            s.remove(),
            n = e - i
        },
        getScrollInfo: function (e) {
          var i = e.isWindow || e.isDocument ? "" : e.element.css("overflow-x")
            , s = e.isWindow || e.isDocument ? "" : e.element.css("overflow-y")
            , n = "scroll" === i || "auto" === i && e.width < e.element[0].scrollWidth
            , o = "scroll" === s || "auto" === s && e.height < e.element[0].scrollHeight;
          return {
            width: o ? t.position.scrollbarWidth() : 0,
            height: n ? t.position.scrollbarWidth() : 0
          }
        },
        getWithinInfo: function (e) {
          var i = t(e || window)
            , s = t.isWindow(i[0])
            , n = !!i[0] && 9 === i[0].nodeType
            , o = !s && !n;
          return {
            element: i,
            isWindow: s,
            isDocument: n,
            offset: o ? t(e).offset() : {
              left: 0,
              top: 0
            },
            scrollLeft: i.scrollLeft(),
            scrollTop: i.scrollTop(),
            width: i.outerWidth(),
            height: i.outerHeight()
          }
        }
      },
        t.fn.position = function (n) {
          if (!n || !n.of)
            return d.apply(this, arguments);
          n = t.extend({}, n);
          var u, p, f, g, m, _, v = t(n.of), b = t.position.getWithinInfo(n.within), y = t.position.getScrollInfo(b), w = (n.collision || "flip").split(" "), k = {};
          return _ = s(v),
            v[0].preventDefault && (n.at = "left top"),
            p = _.width,
            f = _.height,
            g = _.offset,
            m = t.extend({}, g),
            t.each(["my", "at"], function () {
              var t, e, i = (n[this] || "").split(" ");
              1 === i.length && (i = r.test(i[0]) ? i.concat(["center"]) : h.test(i[0]) ? ["center"].concat(i) : ["center", "center"]),
                i[0] = r.test(i[0]) ? i[0] : "center",
                i[1] = h.test(i[1]) ? i[1] : "center",
                t = l.exec(i[0]),
                e = l.exec(i[1]),
                k[this] = [t ? t[0] : 0, e ? e[0] : 0],
                n[this] = [c.exec(i[0])[0], c.exec(i[1])[0]]
            }),
            1 === w.length && (w[1] = w[0]),
            "right" === n.at[0] ? m.left += p : "center" === n.at[0] && (m.left += p / 2),
            "bottom" === n.at[1] ? m.top += f : "center" === n.at[1] && (m.top += f / 2),
            u = e(k.at, p, f),
            m.left += u[0],
            m.top += u[1],
            this.each(function () {
              var s, r, h = t(this), l = h.outerWidth(), c = h.outerHeight(), d = i(this, "marginLeft"), _ = i(this, "marginTop"), x = l + d + i(this, "marginRight") + y.width, C = c + _ + i(this, "marginBottom") + y.height, D = t.extend({}, m), I = e(k.my, h.outerWidth(), h.outerHeight());
              "right" === n.my[0] ? D.left -= l : "center" === n.my[0] && (D.left -= l / 2),
                "bottom" === n.my[1] ? D.top -= c : "center" === n.my[1] && (D.top -= c / 2),
                D.left += I[0],
                D.top += I[1],
                s = {
                  marginLeft: d,
                  marginTop: _
                },
                t.each(["left", "top"], function (e, i) {
                  t.ui.position[w[e]] && t.ui.position[w[e]][i](D, {
                    targetWidth: p,
                    targetHeight: f,
                    elemWidth: l,
                    elemHeight: c,
                    collisionPosition: s,
                    collisionWidth: x,
                    collisionHeight: C,
                    offset: [u[0] + I[0], u[1] + I[1]],
                    my: n.my,
                    at: n.at,
                    within: b,
                    elem: h
                  })
                }),
                n.using && (r = function (t) {
                  var e = g.left - D.left
                    , i = e + p - l
                    , s = g.top - D.top
                    , r = s + f - c
                    , u = {
                      target: {
                        element: v,
                        left: g.left,
                        top: g.top,
                        width: p,
                        height: f
                      },
                      element: {
                        element: h,
                        left: D.left,
                        top: D.top,
                        width: l,
                        height: c
                      },
                      horizontal: 0 > i ? "left" : e > 0 ? "right" : "center",
                      vertical: 0 > r ? "top" : s > 0 ? "bottom" : "middle"
                    };
                  l > p && p > a(e + i) && (u.horizontal = "center"),
                    c > f && f > a(s + r) && (u.vertical = "middle"),
                    u.important = o(a(e), a(i)) > o(a(s), a(r)) ? "horizontal" : "vertical",
                    n.using.call(this, t, u)
                }
                ),
                h.offset(t.extend(D, {
                  using: r
                }))
            })
        }
        ,
        t.ui.position = {
          fit: {
            left: function (t, e) {
              var i, s = e.within, n = s.isWindow ? s.scrollLeft : s.offset.left, a = s.width, r = t.left - e.collisionPosition.marginLeft, h = n - r, l = r + e.collisionWidth - a - n;
              e.collisionWidth > a ? h > 0 && 0 >= l ? (i = t.left + h + e.collisionWidth - a - n,
                t.left += h - i) : t.left = l > 0 && 0 >= h ? n : h > l ? n + a - e.collisionWidth : n : h > 0 ? t.left += h : l > 0 ? t.left -= l : t.left = o(t.left - r, t.left)
            },
            top: function (t, e) {
              var i, s = e.within, n = s.isWindow ? s.scrollTop : s.offset.top, a = e.within.height, r = t.top - e.collisionPosition.marginTop, h = n - r, l = r + e.collisionHeight - a - n;
              e.collisionHeight > a ? h > 0 && 0 >= l ? (i = t.top + h + e.collisionHeight - a - n,
                t.top += h - i) : t.top = l > 0 && 0 >= h ? n : h > l ? n + a - e.collisionHeight : n : h > 0 ? t.top += h : l > 0 ? t.top -= l : t.top = o(t.top - r, t.top)
            }
          },
          flip: {
            left: function (t, e) {
              var i, s, n = e.within, o = n.offset.left + n.scrollLeft, r = n.width, h = n.isWindow ? n.scrollLeft : n.offset.left, l = t.left - e.collisionPosition.marginLeft, c = l - h, u = l + e.collisionWidth - r - h, d = "left" === e.my[0] ? -e.elemWidth : "right" === e.my[0] ? e.elemWidth : 0, p = "left" === e.at[0] ? e.targetWidth : "right" === e.at[0] ? -e.targetWidth : 0, f = -2 * e.offset[0];
              0 > c ? (i = t.left + d + p + f + e.collisionWidth - r - o,
                (0 > i || a(c) > i) && (t.left += d + p + f)) : u > 0 && (s = t.left - e.collisionPosition.marginLeft + d + p + f - h,
                  (s > 0 || u > a(s)) && (t.left += d + p + f))
            },
            top: function (t, e) {
              var i, s, n = e.within, o = n.offset.top + n.scrollTop, r = n.height, h = n.isWindow ? n.scrollTop : n.offset.top, l = t.top - e.collisionPosition.marginTop, c = l - h, u = l + e.collisionHeight - r - h, d = "top" === e.my[1], p = d ? -e.elemHeight : "bottom" === e.my[1] ? e.elemHeight : 0, f = "top" === e.at[1] ? e.targetHeight : "bottom" === e.at[1] ? -e.targetHeight : 0, g = -2 * e.offset[1];
              0 > c ? (s = t.top + p + f + g + e.collisionHeight - r - o,
                (0 > s || a(c) > s) && (t.top += p + f + g)) : u > 0 && (i = t.top - e.collisionPosition.marginTop + p + f + g - h,
                  (i > 0 || u > a(i)) && (t.top += p + f + g))
            }
          },
          flipfit: {
            left: function () {
              t.ui.position.flip.left.apply(this, arguments),
                t.ui.position.fit.left.apply(this, arguments)
            },
            top: function () {
              t.ui.position.flip.top.apply(this, arguments),
                t.ui.position.fit.top.apply(this, arguments)
            }
          }
        }
    }(),
    t.ui.position,
    t.extend(t.expr[":"], {
      data: t.expr.createPseudo ? t.expr.createPseudo(function (e) {
        return function (i) {
          return !!t.data(i, e)
        }
      }) : function (e, i, s) {
        return !!t.data(e, s[3])
      }
    }),
    t.fn.extend({
      disableSelection: function () {
        var t = "onselectstart" in document.createElement("div") ? "selectstart" : "mousedown";
        return function () {
          return this.on(t + ".ui-disableSelection", function (t) {
            t.preventDefault()
          })
        }
      }(),
      enableSelection: function () {
        return this.off(".ui-disableSelection")
      }
    });
  var c = "ui-effects-"
    , u = "ui-effects-style"
    , d = "ui-effects-animated"
    , p = t;
  t.effects = {
    effect: {}
  },
    function (t, e) {
      function i(t, e, i) {
        var s = u[e.type] || {};
        return null == t ? i || !e.def ? null : e.def : (t = s.floor ? ~~t : parseFloat(t),
          isNaN(t) ? e.def : s.mod ? (t + s.mod) % s.mod : 0 > t ? 0 : t > s.max ? s.max : t)
      }
      function s(i) {
        var s = l()
          , n = s._rgba = [];
        return i = i.toLowerCase(),
          f(h, function (t, o) {
            var a, r = o.re.exec(i), h = r && o.parse(r), l = o.space || "rgba";
            return h ? (a = s[l](h),
              s[c[l].cache] = a[c[l].cache],
              n = s._rgba = a._rgba,
              !1) : e
          }),
          n.length ? ("0,0,0,0" === n.join() && t.extend(n, o.transparent),
            s) : o[i]
      }
      function n(t, e, i) {
        return i = (i + 1) % 1,
          1 > 6 * i ? t + 6 * (e - t) * i : 1 > 2 * i ? e : 2 > 3 * i ? t + 6 * (e - t) * (2 / 3 - i) : t
      }
      var o, a = "backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor", r = /^([\-+])=\s*(\d+\.?\d*)/, h = [{
        re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
        parse: function (t) {
          return [t[1], t[2], t[3], t[4]]
        }
      }, {
        re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
        parse: function (t) {
          return [2.55 * t[1], 2.55 * t[2], 2.55 * t[3], t[4]]
        }
      }, {
        re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,
        parse: function (t) {
          return [parseInt(t[1], 16), parseInt(t[2], 16), parseInt(t[3], 16)]
        }
      }, {
        re: /#([a-f0-9])([a-f0-9])([a-f0-9])/,
        parse: function (t) {
          return [parseInt(t[1] + t[1], 16), parseInt(t[2] + t[2], 16), parseInt(t[3] + t[3], 16)]
        }
      }, {
        re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
        space: "hsla",
        parse: function (t) {
          return [t[1], t[2] / 100, t[3] / 100, t[4]]
        }
      }], l = t.Color = function (e, i, s, n) {
        return new t.Color.fn.parse(e, i, s, n)
      }
        , c = {
          rgba: {
            props: {
              red: {
                idx: 0,
                type: "byte"
              },
              green: {
                idx: 1,
                type: "byte"
              },
              blue: {
                idx: 2,
                type: "byte"
              }
            }
          },
          hsla: {
            props: {
              hue: {
                idx: 0,
                type: "degrees"
              },
              saturation: {
                idx: 1,
                type: "percent"
              },
              lightness: {
                idx: 2,
                type: "percent"
              }
            }
          }
        }, u = {
          "byte": {
            floor: !0,
            max: 255
          },
          percent: {
            max: 1
          },
          degrees: {
            mod: 360,
            floor: !0
          }
        }, d = l.support = {}, p = t("<p>")[0], f = t.each;
      p.style.cssText = "background-color:rgba(1,1,1,.5)",
        d.rgba = p.style.backgroundColor.indexOf("rgba") > -1,
        f(c, function (t, e) {
          e.cache = "_" + t,
            e.props.alpha = {
              idx: 3,
              type: "percent",
              def: 1
            }
        }),
        l.fn = t.extend(l.prototype, {
          parse: function (n, a, r, h) {
            if (n === e)
              return this._rgba = [null, null, null, null],
                this;
            (n.jquery || n.nodeType) && (n = t(n).css(a),
              a = e);
            var u = this
              , d = t.type(n)
              , p = this._rgba = [];
            return a !== e && (n = [n, a, r, h],
              d = "array"),
              "string" === d ? this.parse(s(n) || o._default) : "array" === d ? (f(c.rgba.props, function (t, e) {
                p[e.idx] = i(n[e.idx], e)
              }),
                this) : "object" === d ? (n instanceof l ? f(c, function (t, e) {
                  n[e.cache] && (u[e.cache] = n[e.cache].slice())
                }) : f(c, function (e, s) {
                  var o = s.cache;
                  f(s.props, function (t, e) {
                    if (!u[o] && s.to) {
                      if ("alpha" === t || null == n[t])
                        return;
                      u[o] = s.to(u._rgba)
                    }
                    u[o][e.idx] = i(n[t], e, !0)
                  }),
                    u[o] && 0 > t.inArray(null, u[o].slice(0, 3)) && (u[o][3] = 1,
                      s.from && (u._rgba = s.from(u[o])))
                }),
                  this) : e
          },
          is: function (t) {
            var i = l(t)
              , s = !0
              , n = this;
            return f(c, function (t, o) {
              var a, r = i[o.cache];
              return r && (a = n[o.cache] || o.to && o.to(n._rgba) || [],
                f(o.props, function (t, i) {
                  return null != r[i.idx] ? s = r[i.idx] === a[i.idx] : e
                })),
                s
            }),
              s
          },
          _space: function () {
            var t = []
              , e = this;
            return f(c, function (i, s) {
              e[s.cache] && t.push(i)
            }),
              t.pop()
          },
          transition: function (t, e) {
            var s = l(t)
              , n = s._space()
              , o = c[n]
              , a = 0 === this.alpha() ? l("transparent") : this
              , r = a[o.cache] || o.to(a._rgba)
              , h = r.slice();
            return s = s[o.cache],
              f(o.props, function (t, n) {
                var o = n.idx
                  , a = r[o]
                  , l = s[o]
                  , c = u[n.type] || {};
                null !== l && (null === a ? h[o] = l : (c.mod && (l - a > c.mod / 2 ? a += c.mod : a - l > c.mod / 2 && (a -= c.mod)),
                  h[o] = i((l - a) * e + a, n)))
              }),
              this[n](h)
          },
          blend: function (e) {
            if (1 === this._rgba[3])
              return this;
            var i = this._rgba.slice()
              , s = i.pop()
              , n = l(e)._rgba;
            return l(t.map(i, function (t, e) {
              return (1 - s) * n[e] + s * t
            }))
          },
          toRgbaString: function () {
            var e = "rgba("
              , i = t.map(this._rgba, function (t, e) {
                return null == t ? e > 2 ? 1 : 0 : t
              });
            return 1 === i[3] && (i.pop(),
              e = "rgb("),
              e + i.join() + ")"
          },
          toHslaString: function () {
            var e = "hsla("
              , i = t.map(this.hsla(), function (t, e) {
                return null == t && (t = e > 2 ? 1 : 0),
                  e && 3 > e && (t = Math.round(100 * t) + "%"),
                  t
              });
            return 1 === i[3] && (i.pop(),
              e = "hsl("),
              e + i.join() + ")"
          },
          toHexString: function (e) {
            var i = this._rgba.slice()
              , s = i.pop();
            return e && i.push(~~(255 * s)),
              "#" + t.map(i, function (t) {
                return t = (t || 0).toString(16),
                  1 === t.length ? "0" + t : t
              }).join("")
          },
          toString: function () {
            return 0 === this._rgba[3] ? "transparent" : this.toRgbaString()
          }
        }),
        l.fn.parse.prototype = l.fn,
        c.hsla.to = function (t) {
          if (null == t[0] || null == t[1] || null == t[2])
            return [null, null, null, t[3]];
          var e, i, s = t[0] / 255, n = t[1] / 255, o = t[2] / 255, a = t[3], r = Math.max(s, n, o), h = Math.min(s, n, o), l = r - h, c = r + h, u = .5 * c;
          return e = h === r ? 0 : s === r ? 60 * (n - o) / l + 360 : n === r ? 60 * (o - s) / l + 120 : 60 * (s - n) / l + 240,
            i = 0 === l ? 0 : .5 >= u ? l / c : l / (2 - c),
            [Math.round(e) % 360, i, u, null == a ? 1 : a]
        }
        ,
        c.hsla.from = function (t) {
          if (null == t[0] || null == t[1] || null == t[2])
            return [null, null, null, t[3]];
          var e = t[0] / 360
            , i = t[1]
            , s = t[2]
            , o = t[3]
            , a = .5 >= s ? s * (1 + i) : s + i - s * i
            , r = 2 * s - a;
          return [Math.round(255 * n(r, a, e + 1 / 3)), Math.round(255 * n(r, a, e)), Math.round(255 * n(r, a, e - 1 / 3)), o]
        }
        ,
        f(c, function (s, n) {
          var o = n.props
            , a = n.cache
            , h = n.to
            , c = n.from;
          l.fn[s] = function (s) {
            if (h && !this[a] && (this[a] = h(this._rgba)),
              s === e)
              return this[a].slice();
            var n, r = t.type(s), u = "array" === r || "object" === r ? s : arguments, d = this[a].slice();
            return f(o, function (t, e) {
              var s = u["object" === r ? t : e.idx];
              null == s && (s = d[e.idx]),
                d[e.idx] = i(s, e)
            }),
              c ? (n = l(c(d)),
                n[a] = d,
                n) : l(d)
          }
            ,
            f(o, function (e, i) {
              l.fn[e] || (l.fn[e] = function (n) {
                var o, a = t.type(n), h = "alpha" === e ? this._hsla ? "hsla" : "rgba" : s, l = this[h](), c = l[i.idx];
                return "undefined" === a ? c : ("function" === a && (n = n.call(this, c),
                  a = t.type(n)),
                  null == n && i.empty ? this : ("string" === a && (o = r.exec(n),
                    o && (n = c + parseFloat(o[2]) * ("+" === o[1] ? 1 : -1))),
                    l[i.idx] = n,
                    this[h](l)))
              }
              )
            })
        }),
        l.hook = function (e) {
          var i = e.split(" ");
          f(i, function (e, i) {
            t.cssHooks[i] = {
              set: function (e, n) {
                var o, a, r = "";
                if ("transparent" !== n && ("string" !== t.type(n) || (o = s(n)))) {
                  if (n = l(o || n),
                    !d.rgba && 1 !== n._rgba[3]) {
                    for (a = "backgroundColor" === i ? e.parentNode : e; ("" === r || "transparent" === r) && a && a.style;)
                      try {
                        r = t.css(a, "backgroundColor"),
                          a = a.parentNode
                      } catch (h) { }
                    n = n.blend(r && "transparent" !== r ? r : "_default")
                  }
                  n = n.toRgbaString()
                }
                try {
                  e.style[i] = n
                } catch (h) { }
              }
            },
              t.fx.step[i] = function (e) {
                e.colorInit || (e.start = l(e.elem, i),
                  e.end = l(e.end),
                  e.colorInit = !0),
                  t.cssHooks[i].set(e.elem, e.start.transition(e.end, e.pos))
              }
          })
        }
        ,
        l.hook(a),
        t.cssHooks.borderColor = {
          expand: function (t) {
            var e = {};
            return f(["Top", "Right", "Bottom", "Left"], function (i, s) {
              e["border" + s + "Color"] = t
            }),
              e
          }
        },
        o = t.Color.names = {
          aqua: "#00ffff",
          black: "#000000",
          blue: "#0000ff",
          fuchsia: "#ff00ff",
          gray: "#808080",
          green: "#008000",
          lime: "#00ff00",
          maroon: "#800000",
          navy: "#000080",
          olive: "#808000",
          purple: "#800080",
          red: "#ff0000",
          silver: "#c0c0c0",
          teal: "#008080",
          white: "#ffffff",
          yellow: "#ffff00",
          transparent: [null, null, null, 0],
          _default: "#ffffff"
        }
    }(p),
    function () {
      function e(e) {
        var i, s, n = e.ownerDocument.defaultView ? e.ownerDocument.defaultView.getComputedStyle(e, null) : e.currentStyle, o = {};
        if (n && n.length && n[0] && n[n[0]])
          for (s = n.length; s--;)
            i = n[s],
              "string" == typeof n[i] && (o[t.camelCase(i)] = n[i]);
        else
          for (i in n)
            "string" == typeof n[i] && (o[i] = n[i]);
        return o
      }
      function i(e, i) {
        var s, o, a = {};
        for (s in i)
          o = i[s],
            e[s] !== o && (n[s] || (t.fx.step[s] || !isNaN(parseFloat(o))) && (a[s] = o));
        return a
      }
      var s = ["add", "remove", "toggle"]
        , n = {
          border: 1,
          borderBottom: 1,
          borderColor: 1,
          borderLeft: 1,
          borderRight: 1,
          borderTop: 1,
          borderWidth: 1,
          margin: 1,
          padding: 1
        };
      t.each(["borderLeftStyle", "borderRightStyle", "borderBottomStyle", "borderTopStyle"], function (e, i) {
        t.fx.step[i] = function (t) {
          ("none" !== t.end && !t.setAttr || 1 === t.pos && !t.setAttr) && (p.style(t.elem, i, t.end),
            t.setAttr = !0)
        }
      }),
        t.fn.addBack || (t.fn.addBack = function (t) {
          return this.add(null == t ? this.prevObject : this.prevObject.filter(t))
        }
        ),
        t.effects.animateClass = function (n, o, a, r) {
          var h = t.speed(o, a, r);
          return this.queue(function () {
            var o, a = t(this), r = a.attr("class") || "", l = h.children ? a.find("*").addBack() : a;
            l = l.map(function () {
              var i = t(this);
              return {
                el: i,
                start: e(this)
              }
            }),
              o = function () {
                t.each(s, function (t, e) {
                  n[e] && a[e + "Class"](n[e])
                })
              }
              ,
              o(),
              l = l.map(function () {
                return this.end = e(this.el[0]),
                  this.diff = i(this.start, this.end),
                  this
              }),
              a.attr("class", r),
              l = l.map(function () {
                var e = this
                  , i = t.Deferred()
                  , s = t.extend({}, h, {
                    queue: !1,
                    complete: function () {
                      i.resolve(e)
                    }
                  });
                return this.el.animate(this.diff, s),
                  i.promise()
              }),
              t.when.apply(t, l.get()).done(function () {
                o(),
                  t.each(arguments, function () {
                    var e = this.el;
                    t.each(this.diff, function (t) {
                      e.css(t, "")
                    })
                  }),
                  h.complete.call(a[0])
              })
          })
        }
        ,
        t.fn.extend({
          addClass: function (e) {
            return function (i, s, n, o) {
              return s ? t.effects.animateClass.call(this, {
                add: i
              }, s, n, o) : e.apply(this, arguments)
            }
          }(t.fn.addClass),
          removeClass: function (e) {
            return function (i, s, n, o) {
              return arguments.length > 1 ? t.effects.animateClass.call(this, {
                remove: i
              }, s, n, o) : e.apply(this, arguments)
            }
          }(t.fn.removeClass),
          toggleClass: function (e) {
            return function (i, s, n, o, a) {
              return "boolean" == typeof s || void 0 === s ? n ? t.effects.animateClass.call(this, s ? {
                add: i
              } : {
                remove: i
              }, n, o, a) : e.apply(this, arguments) : t.effects.animateClass.call(this, {
                toggle: i
              }, s, n, o)
            }
          }(t.fn.toggleClass),
          switchClass: function (e, i, s, n, o) {
            return t.effects.animateClass.call(this, {
              add: i,
              remove: e
            }, s, n, o)
          }
        })
    }(),
    function () {
      function e(e, i, s, n) {
        return t.isPlainObject(e) && (i = e,
          e = e.effect),
          e = {
            effect: e
          },
          null == i && (i = {}),
          t.isFunction(i) && (n = i,
            s = null,
            i = {}),
          ("number" == typeof i || t.fx.speeds[i]) && (n = s,
            s = i,
            i = {}),
          t.isFunction(s) && (n = s,
            s = null),
          i && t.extend(e, i),
          s = s || i.duration,
          e.duration = t.fx.off ? 0 : "number" == typeof s ? s : s in t.fx.speeds ? t.fx.speeds[s] : t.fx.speeds._default,
          e.complete = n || i.complete,
          e
      }
      function i(e) {
        return !e || "number" == typeof e || t.fx.speeds[e] ? !0 : "string" != typeof e || t.effects.effect[e] ? t.isFunction(e) ? !0 : "object" != typeof e || e.effect ? !1 : !0 : !0
      }
      function s(t, e) {
        var i = e.outerWidth()
          , s = e.outerHeight()
          , n = /^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/
          , o = n.exec(t) || ["", 0, i, s, 0];
        return {
          top: parseFloat(o[1]) || 0,
          right: "auto" === o[2] ? i : parseFloat(o[2]),
          bottom: "auto" === o[3] ? s : parseFloat(o[3]),
          left: parseFloat(o[4]) || 0
        }
      }
      t.expr && t.expr.filters && t.expr.filters.animated && (t.expr.filters.animated = function (e) {
        return function (i) {
          return !!t(i).data(d) || e(i)
        }
      }(t.expr.filters.animated)),
        t.uiBackCompat !== !1 && t.extend(t.effects, {
          save: function (t, e) {
            for (var i = 0, s = e.length; s > i; i++)
              null !== e[i] && t.data(c + e[i], t[0].style[e[i]])
          },
          restore: function (t, e) {
            for (var i, s = 0, n = e.length; n > s; s++)
              null !== e[s] && (i = t.data(c + e[s]),
                t.css(e[s], i))
          },
          setMode: function (t, e) {
            return "toggle" === e && (e = t.is(":hidden") ? "show" : "hide"),
              e
          },
          createWrapper: function (e) {
            if (e.parent().is(".ui-effects-wrapper"))
              return e.parent();
            var i = {
              width: e.outerWidth(!0),
              height: e.outerHeight(!0),
              "float": e.css("float")
            }
              , s = t("<div></div>").addClass("ui-effects-wrapper").css({
                fontSize: "100%",
                background: "transparent",
                border: "none",
                margin: 0,
                padding: 0
              })
              , n = {
                width: e.width(),
                height: e.height()
              }
              , o = document.activeElement;
            try {
              o.id
            } catch (a) {
              o = document.body
            }
            return e.wrap(s),
              (e[0] === o || t.contains(e[0], o)) && t(o).trigger("focus"),
              s = e.parent(),
              "static" === e.css("position") ? (s.css({
                position: "relative"
              }),
                e.css({
                  position: "relative"
                })) : (t.extend(i, {
                  position: e.css("position"),
                  zIndex: e.css("z-index")
                }),
                  t.each(["top", "left", "bottom", "right"], function (t, s) {
                    i[s] = e.css(s),
                      isNaN(parseInt(i[s], 10)) && (i[s] = "auto")
                  }),
                  e.css({
                    position: "relative",
                    top: 0,
                    left: 0,
                    right: "auto",
                    bottom: "auto"
                  })),
              e.css(n),
              s.css(i).show()
          },
          removeWrapper: function (e) {
            var i = document.activeElement;
            return e.parent().is(".ui-effects-wrapper") && (e.parent().replaceWith(e),
              (e[0] === i || t.contains(e[0], i)) && t(i).trigger("focus")),
              e
          }
        }),
        t.extend(t.effects, {
          version: "1.12.1",
          define: function (e, i, s) {
            return s || (s = i,
              i = "effect"),
              t.effects.effect[e] = s,
              t.effects.effect[e].mode = i,
              s
          },
          scaledDimensions: function (t, e, i) {
            if (0 === e)
              return {
                height: 0,
                width: 0,
                outerHeight: 0,
                outerWidth: 0
              };
            var s = "horizontal" !== i ? (e || 100) / 100 : 1
              , n = "vertical" !== i ? (e || 100) / 100 : 1;
            return {
              height: t.height() * n,
              width: t.width() * s,
              outerHeight: t.outerHeight() * n,
              outerWidth: t.outerWidth() * s
            }
          },
          clipToBox: function (t) {
            return {
              width: t.clip.right - t.clip.left,
              height: t.clip.bottom - t.clip.top,
              left: t.clip.left,
              top: t.clip.top
            }
          },
          unshift: function (t, e, i) {
            var s = t.queue();
            e > 1 && s.splice.apply(s, [1, 0].concat(s.splice(e, i))),
              t.dequeue()
          },
          saveStyle: function (t) {
            t.data(u, t[0].style.cssText)
          },
          restoreStyle: function (t) {
            t[0].style.cssText = t.data(u) || "",
              t.removeData(u)
          },
          mode: function (t, e) {
            var i = t.is(":hidden");
            return "toggle" === e && (e = i ? "show" : "hide"),
              (i ? "hide" === e : "show" === e) && (e = "none"),
              e
          },
          getBaseline: function (t, e) {
            var i, s;
            switch (t[0]) {
              case "top":
                i = 0;
                break;
              case "middle":
                i = .5;
                break;
              case "bottom":
                i = 1;
                break;
              default:
                i = t[0] / e.height
            }
            switch (t[1]) {
              case "left":
                s = 0;
                break;
              case "center":
                s = .5;
                break;
              case "right":
                s = 1;
                break;
              default:
                s = t[1] / e.width
            }
            return {
              x: s,
              y: i
            }
          },
          createPlaceholder: function (e) {
            var i, s = e.css("position"), n = e.position();
            return e.css({
              marginTop: e.css("marginTop"),
              marginBottom: e.css("marginBottom"),
              marginLeft: e.css("marginLeft"),
              marginRight: e.css("marginRight")
            }).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),
              /^(static|relative)/.test(s) && (s = "absolute",
                i = t("<" + e[0].nodeName + ">").insertAfter(e).css({
                  display: /^(inline|ruby)/.test(e.css("display")) ? "inline-block" : "block",
                  visibility: "hidden",
                  marginTop: e.css("marginTop"),
                  marginBottom: e.css("marginBottom"),
                  marginLeft: e.css("marginLeft"),
                  marginRight: e.css("marginRight"),
                  "float": e.css("float")
                }).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),
                e.data(c + "placeholder", i)),
              e.css({
                position: s,
                left: n.left,
                top: n.top
              }),
              i
          },
          removePlaceholder: function (t) {
            var e = c + "placeholder"
              , i = t.data(e);
            i && (i.remove(),
              t.removeData(e))
          },
          cleanUp: function (e) {
            t.effects.restoreStyle(e),
              t.effects.removePlaceholder(e)
          },
          setTransition: function (e, i, s, n) {
            return n = n || {},
              t.each(i, function (t, i) {
                var o = e.cssUnit(i);
                o[0] > 0 && (n[i] = o[0] * s + o[1])
              }),
              n
          }
        }),
        t.fn.extend({
          effect: function () {
            function i(e) {
              function i() {
                r.removeData(d),
                  t.effects.cleanUp(r),
                  "hide" === s.mode && r.hide(),
                  a()
              }
              function a() {
                t.isFunction(h) && h.call(r[0]),
                  t.isFunction(e) && e()
              }
              var r = t(this);
              s.mode = c.shift(),
                t.uiBackCompat === !1 || o ? "none" === s.mode ? (r[l](),
                  a()) : n.call(r[0], s, i) : (r.is(":hidden") ? "hide" === l : "show" === l) ? (r[l](),
                    a()) : n.call(r[0], s, a)
            }
            var s = e.apply(this, arguments)
              , n = t.effects.effect[s.effect]
              , o = n.mode
              , a = s.queue
              , r = a || "fx"
              , h = s.complete
              , l = s.mode
              , c = []
              , u = function (e) {
                var i = t(this)
                  , s = t.effects.mode(i, l) || o;
                i.data(d, !0),
                  c.push(s),
                  o && ("show" === s || s === o && "hide" === s) && i.show(),
                  o && "none" === s || t.effects.saveStyle(i),
                  t.isFunction(e) && e()
              };
            return t.fx.off || !n ? l ? this[l](s.duration, h) : this.each(function () {
              h && h.call(this)
            }) : a === !1 ? this.each(u).each(i) : this.queue(r, u).queue(r, i)
          },
          show: function (t) {
            return function (s) {
              if (i(s))
                return t.apply(this, arguments);
              var n = e.apply(this, arguments);
              return n.mode = "show",
                this.effect.call(this, n)
            }
          }(t.fn.show),
          hide: function (t) {
            return function (s) {
              if (i(s))
                return t.apply(this, arguments);
              var n = e.apply(this, arguments);
              return n.mode = "hide",
                this.effect.call(this, n)
            }
          }(t.fn.hide),
          toggle: function (t) {
            return function (s) {
              if (i(s) || "boolean" == typeof s)
                return t.apply(this, arguments);
              var n = e.apply(this, arguments);
              return n.mode = "toggle",
                this.effect.call(this, n)
            }
          }(t.fn.toggle),
          cssUnit: function (e) {
            var i = this.css(e)
              , s = [];
            return t.each(["em", "px", "%", "pt"], function (t, e) {
              i.indexOf(e) > 0 && (s = [parseFloat(i), e])
            }),
              s
          },
          cssClip: function (t) {
            return t ? this.css("clip", "rect(" + t.top + "px " + t.right + "px " + t.bottom + "px " + t.left + "px)") : s(this.css("clip"), this)
          },
          transfer: function (e, i) {
            var s = t(this)
              , n = t(e.to)
              , o = "fixed" === n.css("position")
              , a = t("body")
              , r = o ? a.scrollTop() : 0
              , h = o ? a.scrollLeft() : 0
              , l = n.offset()
              , c = {
                top: l.top - r,
                left: l.left - h,
                height: n.innerHeight(),
                width: n.innerWidth()
              }
              , u = s.offset()
              , d = t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({
                top: u.top - r,
                left: u.left - h,
                height: s.innerHeight(),
                width: s.innerWidth(),
                position: o ? "fixed" : "absolute"
              }).animate(c, e.duration, e.easing, function () {
                d.remove(),
                  t.isFunction(i) && i()
              })
          }
        }),
        t.fx.step.clip = function (e) {
          e.clipInit || (e.start = t(e.elem).cssClip(),
            "string" == typeof e.end && (e.end = s(e.end, e.elem)),
            e.clipInit = !0),
            t(e.elem).cssClip({
              top: e.pos * (e.end.top - e.start.top) + e.start.top,
              right: e.pos * (e.end.right - e.start.right) + e.start.right,
              bottom: e.pos * (e.end.bottom - e.start.bottom) + e.start.bottom,
              left: e.pos * (e.end.left - e.start.left) + e.start.left
            })
        }
    }(),
    function () {
      var e = {};
      t.each(["Quad", "Cubic", "Quart", "Quint", "Expo"], function (t, i) {
        e[i] = function (e) {
          return Math.pow(e, t + 2)
        }
      }),
        t.extend(e, {
          Sine: function (t) {
            return 1 - Math.cos(t * Math.PI / 2)
          },
          Circ: function (t) {
            return 1 - Math.sqrt(1 - t * t)
          },
          Elastic: function (t) {
            return 0 === t || 1 === t ? t : -Math.pow(2, 8 * (t - 1)) * Math.sin((80 * (t - 1) - 7.5) * Math.PI / 15)
          },
          Back: function (t) {
            return t * t * (3 * t - 2)
          },
          Bounce: function (t) {
            for (var e, i = 4; ((e = Math.pow(2, --i)) - 1) / 11 > t;)
              ;
            return 1 / Math.pow(4, 3 - i) - 7.5625 * Math.pow((3 * e - 2) / 22 - t, 2)
          }
        }),
        t.each(e, function (e, i) {
          t.easing["easeIn" + e] = i,
            t.easing["easeOut" + e] = function (t) {
              return 1 - i(1 - t)
            }
            ,
            t.easing["easeInOut" + e] = function (t) {
              return .5 > t ? i(2 * t) / 2 : 1 - i(-2 * t + 2) / 2
            }
        })
    }();
  var f = t.effects;
  t.effects.define("blind", "hide", function (e, i) {
    var s = {
      up: ["bottom", "top"],
      vertical: ["bottom", "top"],
      down: ["top", "bottom"],
      left: ["right", "left"],
      horizontal: ["right", "left"],
      right: ["left", "right"]
    }
      , n = t(this)
      , o = e.direction || "up"
      , a = n.cssClip()
      , r = {
        clip: t.extend({}, a)
      }
      , h = t.effects.createPlaceholder(n);
    r.clip[s[o][0]] = r.clip[s[o][1]],
      "show" === e.mode && (n.cssClip(r.clip),
        h && h.css(t.effects.clipToBox(r)),
        r.clip = a),
      h && h.animate(t.effects.clipToBox(r), e.duration, e.easing),
      n.animate(r, {
        queue: !1,
        duration: e.duration,
        easing: e.easing,
        complete: i
      })
  }),
    t.effects.define("bounce", function (e, i) {
      var s, n, o, a = t(this), r = e.mode, h = "hide" === r, l = "show" === r, c = e.direction || "up", u = e.distance, d = e.times || 5, p = 2 * d + (l || h ? 1 : 0), f = e.duration / p, g = e.easing, m = "up" === c || "down" === c ? "top" : "left", _ = "up" === c || "left" === c, v = 0, b = a.queue().length;
      for (t.effects.createPlaceholder(a),
        o = a.css(m),
        u || (u = a["top" === m ? "outerHeight" : "outerWidth"]() / 3),
        l && (n = {
          opacity: 1
        },
          n[m] = o,
          a.css("opacity", 0).css(m, _ ? 2 * -u : 2 * u).animate(n, f, g)),
        h && (u /= Math.pow(2, d - 1)),
        n = {},
        n[m] = o; d > v; v++)
        s = {},
          s[m] = (_ ? "-=" : "+=") + u,
          a.animate(s, f, g).animate(n, f, g),
          u = h ? 2 * u : u / 2;
      h && (s = {
        opacity: 0
      },
        s[m] = (_ ? "-=" : "+=") + u,
        a.animate(s, f, g)),
        a.queue(i),
        t.effects.unshift(a, b, p + 1)
    }),
    t.effects.define("clip", "hide", function (e, i) {
      var s, n = {}, o = t(this), a = e.direction || "vertical", r = "both" === a, h = r || "horizontal" === a, l = r || "vertical" === a;
      s = o.cssClip(),
        n.clip = {
          top: l ? (s.bottom - s.top) / 2 : s.top,
          right: h ? (s.right - s.left) / 2 : s.right,
          bottom: l ? (s.bottom - s.top) / 2 : s.bottom,
          left: h ? (s.right - s.left) / 2 : s.left
        },
        t.effects.createPlaceholder(o),
        "show" === e.mode && (o.cssClip(n.clip),
          n.clip = s),
        o.animate(n, {
          queue: !1,
          duration: e.duration,
          easing: e.easing,
          complete: i
        })
    }),
    t.effects.define("drop", "hide", function (e, i) {
      var s, n = t(this), o = e.mode, a = "show" === o, r = e.direction || "left", h = "up" === r || "down" === r ? "top" : "left", l = "up" === r || "left" === r ? "-=" : "+=", c = "+=" === l ? "-=" : "+=", u = {
        opacity: 0
      };
      t.effects.createPlaceholder(n),
        s = e.distance || n["top" === h ? "outerHeight" : "outerWidth"](!0) / 2,
        u[h] = l + s,
        a && (n.css(u),
          u[h] = c + s,
          u.opacity = 1),
        n.animate(u, {
          queue: !1,
          duration: e.duration,
          easing: e.easing,
          complete: i
        })
    }),
    t.effects.define("explode", "hide", function (e, i) {
      function s() {
        b.push(this),
          b.length === u * d && n()
      }
      function n() {
        p.css({
          visibility: "visible"
        }),
          t(b).remove(),
          i()
      }
      var o, a, r, h, l, c, u = e.pieces ? Math.round(Math.sqrt(e.pieces)) : 3, d = u, p = t(this), f = e.mode, g = "show" === f, m = p.show().css("visibility", "hidden").offset(), _ = Math.ceil(p.outerWidth() / d), v = Math.ceil(p.outerHeight() / u), b = [];
      for (o = 0; u > o; o++)
        for (h = m.top + o * v,
          c = o - (u - 1) / 2,
          a = 0; d > a; a++)
          r = m.left + a * _,
            l = a - (d - 1) / 2,
            p.clone().appendTo("body").wrap("<div></div>").css({
              position: "absolute",
              visibility: "visible",
              left: -a * _,
              top: -o * v
            }).parent().addClass("ui-effects-explode").css({
              position: "absolute",
              overflow: "hidden",
              width: _,
              height: v,
              left: r + (g ? l * _ : 0),
              top: h + (g ? c * v : 0),
              opacity: g ? 0 : 1
            }).animate({
              left: r + (g ? 0 : l * _),
              top: h + (g ? 0 : c * v),
              opacity: g ? 1 : 0
            }, e.duration || 500, e.easing, s)
    }),
    t.effects.define("fade", "toggle", function (e, i) {
      var s = "show" === e.mode;
      t(this).css("opacity", s ? 0 : 1).animate({
        opacity: s ? 1 : 0
      }, {
        queue: !1,
        duration: e.duration,
        easing: e.easing,
        complete: i
      })
    }),
    t.effects.define("fold", "hide", function (e, i) {
      var s = t(this)
        , n = e.mode
        , o = "show" === n
        , a = "hide" === n
        , r = e.size || 15
        , h = /([0-9]+)%/.exec(r)
        , l = !!e.horizFirst
        , c = l ? ["right", "bottom"] : ["bottom", "right"]
        , u = e.duration / 2
        , d = t.effects.createPlaceholder(s)
        , p = s.cssClip()
        , f = {
          clip: t.extend({}, p)
        }
        , g = {
          clip: t.extend({}, p)
        }
        , m = [p[c[0]], p[c[1]]]
        , _ = s.queue().length;
      h && (r = parseInt(h[1], 10) / 100 * m[a ? 0 : 1]),
        f.clip[c[0]] = r,
        g.clip[c[0]] = r,
        g.clip[c[1]] = 0,
        o && (s.cssClip(g.clip),
          d && d.css(t.effects.clipToBox(g)),
          g.clip = p),
        s.queue(function (i) {
          d && d.animate(t.effects.clipToBox(f), u, e.easing).animate(t.effects.clipToBox(g), u, e.easing),
            i()
        }).animate(f, u, e.easing).animate(g, u, e.easing).queue(i),
        t.effects.unshift(s, _, 4)
    }),
    t.effects.define("highlight", "show", function (e, i) {
      var s = t(this)
        , n = {
          backgroundColor: s.css("backgroundColor")
        };
      "hide" === e.mode && (n.opacity = 0),
        t.effects.saveStyle(s),
        s.css({
          backgroundImage: "none",
          backgroundColor: e.color || "#ffff99"
        }).animate(n, {
          queue: !1,
          duration: e.duration,
          easing: e.easing,
          complete: i
        })
    }),
    t.effects.define("size", function (e, i) {
      var s, n, o, a = t(this), r = ["fontSize"], h = ["borderTopWidth", "borderBottomWidth", "paddingTop", "paddingBottom"], l = ["borderLeftWidth", "borderRightWidth", "paddingLeft", "paddingRight"], c = e.mode, u = "effect" !== c, d = e.scale || "both", p = e.origin || ["middle", "center"], f = a.css("position"), g = a.position(), m = t.effects.scaledDimensions(a), _ = e.from || m, v = e.to || t.effects.scaledDimensions(a, 0);
      t.effects.createPlaceholder(a),
        "show" === c && (o = _,
          _ = v,
          v = o),
        n = {
          from: {
            y: _.height / m.height,
            x: _.width / m.width
          },
          to: {
            y: v.height / m.height,
            x: v.width / m.width
          }
        },
        ("box" === d || "both" === d) && (n.from.y !== n.to.y && (_ = t.effects.setTransition(a, h, n.from.y, _),
          v = t.effects.setTransition(a, h, n.to.y, v)),
          n.from.x !== n.to.x && (_ = t.effects.setTransition(a, l, n.from.x, _),
            v = t.effects.setTransition(a, l, n.to.x, v))),
        ("content" === d || "both" === d) && n.from.y !== n.to.y && (_ = t.effects.setTransition(a, r, n.from.y, _),
          v = t.effects.setTransition(a, r, n.to.y, v)),
        p && (s = t.effects.getBaseline(p, m),
          _.top = (m.outerHeight - _.outerHeight) * s.y + g.top,
          _.left = (m.outerWidth - _.outerWidth) * s.x + g.left,
          v.top = (m.outerHeight - v.outerHeight) * s.y + g.top,
          v.left = (m.outerWidth - v.outerWidth) * s.x + g.left),
        a.css(_),
        ("content" === d || "both" === d) && (h = h.concat(["marginTop", "marginBottom"]).concat(r),
          l = l.concat(["marginLeft", "marginRight"]),
          a.find("*[width]").each(function () {
            var i = t(this)
              , s = t.effects.scaledDimensions(i)
              , o = {
                height: s.height * n.from.y,
                width: s.width * n.from.x,
                outerHeight: s.outerHeight * n.from.y,
                outerWidth: s.outerWidth * n.from.x
              }
              , a = {
                height: s.height * n.to.y,
                width: s.width * n.to.x,
                outerHeight: s.height * n.to.y,
                outerWidth: s.width * n.to.x
              };
            n.from.y !== n.to.y && (o = t.effects.setTransition(i, h, n.from.y, o),
              a = t.effects.setTransition(i, h, n.to.y, a)),
              n.from.x !== n.to.x && (o = t.effects.setTransition(i, l, n.from.x, o),
                a = t.effects.setTransition(i, l, n.to.x, a)),
              u && t.effects.saveStyle(i),
              i.css(o),
              i.animate(a, e.duration, e.easing, function () {
                u && t.effects.restoreStyle(i)
              })
          })),
        a.animate(v, {
          queue: !1,
          duration: e.duration,
          easing: e.easing,
          complete: function () {
            var e = a.offset();
            0 === v.opacity && a.css("opacity", _.opacity),
              u || (a.css("position", "static" === f ? "relative" : f).offset(e),
                t.effects.saveStyle(a)),
              i()
          }
        })
    }),
    t.effects.define("scale", function (e, i) {
      var s = t(this)
        , n = e.mode
        , o = parseInt(e.percent, 10) || (0 === parseInt(e.percent, 10) ? 0 : "effect" !== n ? 0 : 100)
        , a = t.extend(!0, {
          from: t.effects.scaledDimensions(s),
          to: t.effects.scaledDimensions(s, o, e.direction || "both"),
          origin: e.origin || ["middle", "center"]
        }, e);
      e.fade && (a.from.opacity = 1,
        a.to.opacity = 0),
        t.effects.effect.size.call(this, a, i)
    }),
    t.effects.define("puff", "hide", function (e, i) {
      var s = t.extend(!0, {}, e, {
        fade: !0,
        percent: parseInt(e.percent, 10) || 150
      });
      t.effects.effect.scale.call(this, s, i)
    }),
    t.effects.define("pulsate", "show", function (e, i) {
      var s = t(this)
        , n = e.mode
        , o = "show" === n
        , a = "hide" === n
        , r = o || a
        , h = 2 * (e.times || 5) + (r ? 1 : 0)
        , l = e.duration / h
        , c = 0
        , u = 1
        , d = s.queue().length;
      for ((o || !s.is(":visible")) && (s.css("opacity", 0).show(),
        c = 1); h > u; u++)
        s.animate({
          opacity: c
        }, l, e.easing),
          c = 1 - c;
      s.animate({
        opacity: c
      }, l, e.easing),
        s.queue(i),
        t.effects.unshift(s, d, h + 1)
    }),
    t.effects.define("shake", function (e, i) {
      var s = 1
        , n = t(this)
        , o = e.direction || "left"
        , a = e.distance || 20
        , r = e.times || 3
        , h = 2 * r + 1
        , l = Math.round(e.duration / h)
        , c = "up" === o || "down" === o ? "top" : "left"
        , u = "up" === o || "left" === o
        , d = {}
        , p = {}
        , f = {}
        , g = n.queue().length;
      for (t.effects.createPlaceholder(n),
        d[c] = (u ? "-=" : "+=") + a,
        p[c] = (u ? "+=" : "-=") + 2 * a,
        f[c] = (u ? "-=" : "+=") + 2 * a,
        n.animate(d, l, e.easing); r > s; s++)
        n.animate(p, l, e.easing).animate(f, l, e.easing);
      n.animate(p, l, e.easing).animate(d, l / 2, e.easing).queue(i),
        t.effects.unshift(n, g, h + 1)
    }),
    t.effects.define("slide", "show", function (e, i) {
      var s, n, o = t(this), a = {
        up: ["bottom", "top"],
        down: ["top", "bottom"],
        left: ["right", "left"],
        right: ["left", "right"]
      }, r = e.mode, h = e.direction || "left", l = "up" === h || "down" === h ? "top" : "left", c = "up" === h || "left" === h, u = e.distance || o["top" === l ? "outerHeight" : "outerWidth"](!0), d = {};
      t.effects.createPlaceholder(o),
        s = o.cssClip(),
        n = o.position()[l],
        d[l] = (c ? -1 : 1) * u + n,
        d.clip = o.cssClip(),
        d.clip[a[h][1]] = d.clip[a[h][0]],
        "show" === r && (o.cssClip(d.clip),
          o.css(l, d[l]),
          d.clip = s,
          d[l] = n),
        o.animate(d, {
          queue: !1,
          duration: e.duration,
          easing: e.easing,
          complete: i
        })
    });
  var f;
  t.uiBackCompat !== !1 && (f = t.effects.define("transfer", function (e, i) {
    t(this).transfer(e, i)
  })),
    t.ui.focusable = function (i, s) {
      var n, o, a, r, h, l = i.nodeName.toLowerCase();
      return "area" === l ? (n = i.parentNode,
        o = n.name,
        i.href && o && "map" === n.nodeName.toLowerCase() ? (a = t("img[usemap='#" + o + "']"),
          a.length > 0 && a.is(":visible")) : !1) : (/^(input|select|textarea|button|object)$/.test(l) ? (r = !i.disabled,
            r && (h = t(i).closest("fieldset")[0],
              h && (r = !h.disabled))) : r = "a" === l ? i.href || s : s,
            r && t(i).is(":visible") && e(t(i)))
    }
    ,
    t.extend(t.expr[":"], {
      focusable: function (e) {
        return t.ui.focusable(e, null != t.attr(e, "tabindex"))
      }
    }),
    t.ui.focusable,
    t.fn.form = function () {
      return "string" == typeof this[0].form ? this.closest("form") : t(this[0].form)
    }
    ,
    t.ui.formResetMixin = {
      _formResetHandler: function () {
        var e = t(this);
        setTimeout(function () {
          var i = e.data("ui-form-reset-instances");
          t.each(i, function () {
            this.refresh()
          })
        })
      },
      _bindFormResetHandler: function () {
        if (this.form = this.element.form(),
          this.form.length) {
          var t = this.form.data("ui-form-reset-instances") || [];
          t.length || this.form.on("reset.ui-form-reset", this._formResetHandler),
            t.push(this),
            this.form.data("ui-form-reset-instances", t)
        }
      },
      _unbindFormResetHandler: function () {
        if (this.form.length) {
          var e = this.form.data("ui-form-reset-instances");
          e.splice(t.inArray(this, e), 1),
            e.length ? this.form.data("ui-form-reset-instances", e) : this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")
        }
      }
    },
    "1.7" === t.fn.jquery.substring(0, 3) && (t.each(["Width", "Height"], function (e, i) {
      function s(e, i, s, o) {
        return t.each(n, function () {
          i -= parseFloat(t.css(e, "padding" + this)) || 0,
            s && (i -= parseFloat(t.css(e, "border" + this + "Width")) || 0),
            o && (i -= parseFloat(t.css(e, "margin" + this)) || 0)
        }),
          i
      }
      var n = "Width" === i ? ["Left", "Right"] : ["Top", "Bottom"]
        , o = i.toLowerCase()
        , a = {
          innerWidth: t.fn.innerWidth,
          innerHeight: t.fn.innerHeight,
          outerWidth: t.fn.outerWidth,
          outerHeight: t.fn.outerHeight
        };
      t.fn["inner" + i] = function (e) {
        return void 0 === e ? a["inner" + i].call(this) : this.each(function () {
          t(this).css(o, s(this, e) + "px")
        })
      }
        ,
        t.fn["outer" + i] = function (e, n) {
          return "number" != typeof e ? a["outer" + i].call(this, e) : this.each(function () {
            t(this).css(o, s(this, e, !0, n) + "px")
          })
        }
    }),
      t.fn.addBack = function (t) {
        return this.add(null == t ? this.prevObject : this.prevObject.filter(t))
      }
    ),
    t.ui.keyCode = {
      BACKSPACE: 8,
      COMMA: 188,
      DELETE: 46,
      DOWN: 40,
      END: 35,
      ENTER: 13,
      ESCAPE: 27,
      HOME: 36,
      LEFT: 37,
      PAGE_DOWN: 34,
      PAGE_UP: 33,
      PERIOD: 190,
      RIGHT: 39,
      SPACE: 32,
      TAB: 9,
      UP: 38
    },
    t.ui.escapeSelector = function () {
      var t = /([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;
      return function (e) {
        return e.replace(t, "\\$1")
      }
    }(),
    t.fn.labels = function () {
      var e, i, s, n, o;
      return this[0].labels && this[0].labels.length ? this.pushStack(this[0].labels) : (n = this.eq(0).parents("label"),
        s = this.attr("id"),
        s && (e = this.eq(0).parents().last(),
          o = e.add(e.length ? e.siblings() : this.siblings()),
          i = "label[for='" + t.ui.escapeSelector(s) + "']",
          n = n.add(o.find(i).addBack(i))),
        this.pushStack(n))
    }
    ,
    t.fn.scrollParent = function (e) {
      var i = this.css("position")
        , s = "absolute" === i
        , n = e ? /(auto|scroll|hidden)/ : /(auto|scroll)/
        , o = this.parents().filter(function () {
          var e = t(this);
          return s && "static" === e.css("position") ? !1 : n.test(e.css("overflow") + e.css("overflow-y") + e.css("overflow-x"))
        }).eq(0);
      return "fixed" !== i && o.length ? o : t(this[0].ownerDocument || document)
    }
    ,
    t.extend(t.expr[":"], {
      tabbable: function (e) {
        var i = t.attr(e, "tabindex")
          , s = null != i;
        return (!s || i >= 0) && t.ui.focusable(e, s)
      }
    }),
    t.fn.extend({
      uniqueId: function () {
        var t = 0;
        return function () {
          return this.each(function () {
            this.id || (this.id = "ui-id-" + ++t)
          })
        }
      }(),
      removeUniqueId: function () {
        return this.each(function () {
          /^ui-id-\d+$/.test(this.id) && t(this).removeAttr("id")
        })
      }
    }),
    t.widget("ui.accordion", {
      version: "1.12.1",
      options: {
        active: 0,
        animate: {},
        classes: {
          "ui-accordion-header": "ui-corner-top",
          "ui-accordion-header-collapsed": "ui-corner-all",
          "ui-accordion-content": "ui-corner-bottom"
        },
        collapsible: !1,
        event: "click",
        header: "> li > :first-child, > :not(li):even",
        heightStyle: "auto",
        icons: {
          activeHeader: "ui-icon-triangle-1-s",
          header: "ui-icon-triangle-1-e"
        },
        activate: null,
        beforeActivate: null
      },
      hideProps: {
        borderTopWidth: "hide",
        borderBottomWidth: "hide",
        paddingTop: "hide",
        paddingBottom: "hide",
        height: "hide"
      },
      showProps: {
        borderTopWidth: "show",
        borderBottomWidth: "show",
        paddingTop: "show",
        paddingBottom: "show",
        height: "show"
      },
      _create: function () {
        var e = this.options;
        this.prevShow = this.prevHide = t(),
          this._addClass("ui-accordion", "ui-widget ui-helper-reset"),
          this.element.attr("role", "tablist"),
          e.collapsible || e.active !== !1 && null != e.active || (e.active = 0),
          this._processPanels(),
          0 > e.active && (e.active += this.headers.length),
          this._refresh()
      },
      _getCreateEventData: function () {
        return {
          header: this.active,
          panel: this.active.length ? this.active.next() : t()
        }
      },
      _createIcons: function () {
        var e, i, s = this.options.icons;
        s && (e = t("<span>"),
          this._addClass(e, "ui-accordion-header-icon", "ui-icon " + s.header),
          e.prependTo(this.headers),
          i = this.active.children(".ui-accordion-header-icon"),
          this._removeClass(i, s.header)._addClass(i, null, s.activeHeader)._addClass(this.headers, "ui-accordion-icons"))
      },
      _destroyIcons: function () {
        this._removeClass(this.headers, "ui-accordion-icons"),
          this.headers.children(".ui-accordion-header-icon").remove()
      },
      _destroy: function () {
        var t;
        this.element.removeAttr("role"),
          this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),
          this._destroyIcons(),
          t = this.headers.next().css("display", "").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),
          "content" !== this.options.heightStyle && t.css("height", "")
      },
      _setOption: function (t, e) {
        return "active" === t ? (this._activate(e),
          void 0) : ("event" === t && (this.options.event && this._off(this.headers, this.options.event),
            this._setupEvents(e)),
            this._super(t, e),
            "collapsible" !== t || e || this.options.active !== !1 || this._activate(0),
            "icons" === t && (this._destroyIcons(),
              e && this._createIcons()),
            void 0)
      },
      _setOptionDisabled: function (t) {
        this._super(t),
          this.element.attr("aria-disabled", t),
          this._toggleClass(null, "ui-state-disabled", !!t),
          this._toggleClass(this.headers.add(this.headers.next()), null, "ui-state-disabled", !!t)
      },
      _keydown: function (e) {
        if (!e.altKey && !e.ctrlKey) {
          var i = t.ui.keyCode
            , s = this.headers.length
            , n = this.headers.index(e.target)
            , o = !1;
          switch (e.keyCode) {
            case i.RIGHT:
            case i.DOWN:
              o = this.headers[(n + 1) % s];
              break;
            case i.LEFT:
            case i.UP:
              o = this.headers[(n - 1 + s) % s];
              break;
            case i.SPACE:
            case i.ENTER:
              this._eventHandler(e);
              break;
            case i.HOME:
              o = this.headers[0];
              break;
            case i.END:
              o = this.headers[s - 1]
          }
          o && (t(e.target).attr("tabIndex", -1),
            t(o).attr("tabIndex", 0),
            t(o).trigger("focus"),
            e.preventDefault())
        }
      },
      _panelKeyDown: function (e) {
        e.keyCode === t.ui.keyCode.UP && e.ctrlKey && t(e.currentTarget).prev().trigger("focus")
      },
      refresh: function () {
        var e = this.options;
        this._processPanels(),
          e.active === !1 && e.collapsible === !0 || !this.headers.length ? (e.active = !1,
            this.active = t()) : e.active === !1 ? this._activate(0) : this.active.length && !t.contains(this.element[0], this.active[0]) ? this.headers.length === this.headers.find(".ui-state-disabled").length ? (e.active = !1,
              this.active = t()) : this._activate(Math.max(0, e.active - 1)) : e.active = this.headers.index(this.active),
          this._destroyIcons(),
          this._refresh()
      },
      _processPanels: function () {
        var t = this.headers
          , e = this.panels;
        this.headers = this.element.find(this.options.header),
          this._addClass(this.headers, "ui-accordion-header ui-accordion-header-collapsed", "ui-state-default"),
          this.panels = this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),
          this._addClass(this.panels, "ui-accordion-content", "ui-helper-reset ui-widget-content"),
          e && (this._off(t.not(this.headers)),
            this._off(e.not(this.panels)))
      },
      _refresh: function () {
        var e, i = this.options, s = i.heightStyle, n = this.element.parent();
        this.active = this._findActive(i.active),
          this._addClass(this.active, "ui-accordion-header-active", "ui-state-active")._removeClass(this.active, "ui-accordion-header-collapsed"),
          this._addClass(this.active.next(), "ui-accordion-content-active"),
          this.active.next().show(),
          this.headers.attr("role", "tab").each(function () {
            var e = t(this)
              , i = e.uniqueId().attr("id")
              , s = e.next()
              , n = s.uniqueId().attr("id");
            e.attr("aria-controls", n),
              s.attr("aria-labelledby", i)
          }).next().attr("role", "tabpanel"),
          this.headers.not(this.active).attr({
            "aria-selected": "false",
            "aria-expanded": "false",
            tabIndex: -1
          }).next().attr({
            "aria-hidden": "true"
          }).hide(),
          this.active.length ? this.active.attr({
            "aria-selected": "true",
            "aria-expanded": "true",
            tabIndex: 0
          }).next().attr({
            "aria-hidden": "false"
          }) : this.headers.eq(0).attr("tabIndex", 0),
          this._createIcons(),
          this._setupEvents(i.event),
          "fill" === s ? (e = n.height(),
            this.element.siblings(":visible").each(function () {
              var i = t(this)
                , s = i.css("position");
              "absolute" !== s && "fixed" !== s && (e -= i.outerHeight(!0))
            }),
            this.headers.each(function () {
              e -= t(this).outerHeight(!0)
            }),
            this.headers.next().each(function () {
              t(this).height(Math.max(0, e - t(this).innerHeight() + t(this).height()))
            }).css("overflow", "auto")) : "auto" === s && (e = 0,
              this.headers.next().each(function () {
                var i = t(this).is(":visible");
                i || t(this).show(),
                  e = Math.max(e, t(this).css("height", "").height()),
                  i || t(this).hide()
              }).height(e))
      },
      _activate: function (e) {
        var i = this._findActive(e)[0];
        i !== this.active[0] && (i = i || this.active[0],
          this._eventHandler({
            target: i,
            currentTarget: i,
            preventDefault: t.noop
          }))
      },
      _findActive: function (e) {
        return "number" == typeof e ? this.headers.eq(e) : t()
      },
      _setupEvents: function (e) {
        var i = {
          keydown: "_keydown"
        };
        e && t.each(e.split(" "), function (t, e) {
          i[e] = "_eventHandler"
        }),
          this._off(this.headers.add(this.headers.next())),
          this._on(this.headers, i),
          this._on(this.headers.next(), {
            keydown: "_panelKeyDown"
          }),
          this._hoverable(this.headers),
          this._focusable(this.headers)
      },
      _eventHandler: function (e) {
        var i, s, n = this.options, o = this.active, a = t(e.currentTarget), r = a[0] === o[0], h = r && n.collapsible, l = h ? t() : a.next(), c = o.next(), u = {
          oldHeader: o,
          oldPanel: c,
          newHeader: h ? t() : a,
          newPanel: l
        };
        e.preventDefault(),
          r && !n.collapsible || this._trigger("beforeActivate", e, u) === !1 || (n.active = h ? !1 : this.headers.index(a),
            this.active = r ? t() : a,
            this._toggle(u),
            this._removeClass(o, "ui-accordion-header-active", "ui-state-active"),
            n.icons && (i = o.children(".ui-accordion-header-icon"),
              this._removeClass(i, null, n.icons.activeHeader)._addClass(i, null, n.icons.header)),
            r || (this._removeClass(a, "ui-accordion-header-collapsed")._addClass(a, "ui-accordion-header-active", "ui-state-active"),
              n.icons && (s = a.children(".ui-accordion-header-icon"),
                this._removeClass(s, null, n.icons.header)._addClass(s, null, n.icons.activeHeader)),
              this._addClass(a.next(), "ui-accordion-content-active")))
      },
      _toggle: function (e) {
        var i = e.newPanel
          , s = this.prevShow.length ? this.prevShow : e.oldPanel;
        this.prevShow.add(this.prevHide).stop(!0, !0),
          this.prevShow = i,
          this.prevHide = s,
          this.options.animate ? this._animate(i, s, e) : (s.hide(),
            i.show(),
            this._toggleComplete(e)),
          s.attr({
            "aria-hidden": "true"
          }),
          s.prev().attr({
            "aria-selected": "false",
            "aria-expanded": "false"
          }),
          i.length && s.length ? s.prev().attr({
            tabIndex: -1,
            "aria-expanded": "false"
          }) : i.length && this.headers.filter(function () {
            return 0 === parseInt(t(this).attr("tabIndex"), 10)
          }).attr("tabIndex", -1),
          i.attr("aria-hidden", "false").prev().attr({
            "aria-selected": "true",
            "aria-expanded": "true",
            tabIndex: 0
          })
      },
      _animate: function (t, e, i) {
        var s, n, o, a = this, r = 0, h = t.css("box-sizing"), l = t.length && (!e.length || t.index() < e.index()), c = this.options.animate || {}, u = l && c.down || c, d = function () {
          a._toggleComplete(i)
        };
        return "number" == typeof u && (o = u),
          "string" == typeof u && (n = u),
          n = n || u.easing || c.easing,
          o = o || u.duration || c.duration,
          e.length ? t.length ? (s = t.show().outerHeight(),
            e.animate(this.hideProps, {
              duration: o,
              easing: n,
              step: function (t, e) {
                e.now = Math.round(t)
              }
            }),
            t.hide().animate(this.showProps, {
              duration: o,
              easing: n,
              complete: d,
              step: function (t, i) {
                i.now = Math.round(t),
                  "height" !== i.prop ? "content-box" === h && (r += i.now) : "content" !== a.options.heightStyle && (i.now = Math.round(s - e.outerHeight() - r),
                    r = 0)
              }
            }),
            void 0) : e.animate(this.hideProps, o, n, d) : t.animate(this.showProps, o, n, d)
      },
      _toggleComplete: function (t) {
        var e = t.oldPanel
          , i = e.prev();
        this._removeClass(e, "ui-accordion-content-active"),
          this._removeClass(i, "ui-accordion-header-active")._addClass(i, "ui-accordion-header-collapsed"),
          e.length && (e.parent()[0].className = e.parent()[0].className),
          this._trigger("activate", null, t)
      }
    }),
    t.ui.safeActiveElement = function (t) {
      var e;
      try {
        e = t.activeElement
      } catch (i) {
        e = t.body
      }
      return e || (e = t.body),
        e.nodeName || (e = t.body),
        e
    }
    ,
    t.widget("ui.menu", {
      version: "1.12.1",
      defaultElement: "<ul>",
      delay: 300,
      options: {
        icons: {
          submenu: "ui-icon-caret-1-e"
        },
        items: "> *",
        menus: "ul",
        position: {
          my: "left top",
          at: "right top"
        },
        role: "menu",
        blur: null,
        focus: null,
        select: null
      },
      _create: function () {
        this.activeMenu = this.element,
          this.mouseHandled = !1,
          this.element.uniqueId().attr({
            role: this.options.role,
            tabIndex: 0
          }),
          this._addClass("ui-menu", "ui-widget ui-widget-content"),
          this._on({
            "mousedown .ui-menu-item": function (t) {
              t.preventDefault()
            },
            "click .ui-menu-item": function (e) {
              var i = t(e.target)
                , s = t(t.ui.safeActiveElement(this.document[0]));
              !this.mouseHandled && i.not(".ui-state-disabled").length && (this.select(e),
                e.isPropagationStopped() || (this.mouseHandled = !0),
                i.has(".ui-menu").length ? this.expand(e) : !this.element.is(":focus") && s.closest(".ui-menu").length && (this.element.trigger("focus", [!0]),
                  this.active && 1 === this.active.parents(".ui-menu").length && clearTimeout(this.timer)))
            },
            "mouseenter .ui-menu-item": function (e) {
              if (!this.previousFilter) {
                var i = t(e.target).closest(".ui-menu-item")
                  , s = t(e.currentTarget);
                i[0] === s[0] && (this._removeClass(s.siblings().children(".ui-state-active"), null, "ui-state-active"),
                  this.focus(e, s))
              }
            },
            mouseleave: "collapseAll",
            "mouseleave .ui-menu": "collapseAll",
            focus: function (t, e) {
              var i = this.active || this.element.find(this.options.items).eq(0);
              e || this.focus(t, i)
            },
            blur: function (e) {
              this._delay(function () {
                var i = !t.contains(this.element[0], t.ui.safeActiveElement(this.document[0]));
                i && this.collapseAll(e)
              })
            },
            keydown: "_keydown"
          }),
          this.refresh(),
          this._on(this.document, {
            click: function (t) {
              this._closeOnDocumentClick(t) && this.collapseAll(t),
                this.mouseHandled = !1
            }
          })
      },
      _destroy: function () {
        var e = this.element.find(".ui-menu-item").removeAttr("role aria-disabled")
          , i = e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");
        this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),
          i.children().each(function () {
            var e = t(this);
            e.data("ui-menu-submenu-caret") && e.remove()
          })
      },
      _keydown: function (e) {
        var i, s, n, o, a = !0;
        switch (e.keyCode) {
          case t.ui.keyCode.PAGE_UP:
            this.previousPage(e);
            break;
          case t.ui.keyCode.PAGE_DOWN:
            this.nextPage(e);
            break;
          case t.ui.keyCode.HOME:
            this._move("first", "first", e);
            break;
          case t.ui.keyCode.END:
            this._move("last", "last", e);
            break;
          case t.ui.keyCode.UP:
            this.previous(e);
            break;
          case t.ui.keyCode.DOWN:
            this.next(e);
            break;
          case t.ui.keyCode.LEFT:
            this.collapse(e);
            break;
          case t.ui.keyCode.RIGHT:
            this.active && !this.active.is(".ui-state-disabled") && this.expand(e);
            break;
          case t.ui.keyCode.ENTER:
          case t.ui.keyCode.SPACE:
            this._activate(e);
            break;
          case t.ui.keyCode.ESCAPE:
            this.collapse(e);
            break;
          default:
            a = !1,
              s = this.previousFilter || "",
              o = !1,
              n = e.keyCode >= 96 && 105 >= e.keyCode ? "" + (e.keyCode - 96) : String.fromCharCode(e.keyCode),
              clearTimeout(this.filterTimer),
              n === s ? o = !0 : n = s + n,
              i = this._filterMenuItems(n),
              i = o && -1 !== i.index(this.active.next()) ? this.active.nextAll(".ui-menu-item") : i,
              i.length || (n = String.fromCharCode(e.keyCode),
                i = this._filterMenuItems(n)),
              i.length ? (this.focus(e, i),
                this.previousFilter = n,
                this.filterTimer = this._delay(function () {
                  delete this.previousFilter
                }, 1e3)) : delete this.previousFilter
        }
        a && e.preventDefault()
      },
      _activate: function (t) {
        this.active && !this.active.is(".ui-state-disabled") && (this.active.children("[aria-haspopup='true']").length ? this.expand(t) : this.select(t))
      },
      refresh: function () {
        var e, i, s, n, o, a = this, r = this.options.icons.submenu, h = this.element.find(this.options.menus);
        this._toggleClass("ui-menu-icons", null, !!this.element.find(".ui-icon").length),
          s = h.filter(":not(.ui-menu)").hide().attr({
            role: this.options.role,
            "aria-hidden": "true",
            "aria-expanded": "false"
          }).each(function () {
            var e = t(this)
              , i = e.prev()
              , s = t("<span>").data("ui-menu-submenu-caret", !0);
            a._addClass(s, "ui-menu-icon", "ui-icon " + r),
              i.attr("aria-haspopup", "true").prepend(s),
              e.attr("aria-labelledby", i.attr("id"))
          }),
          this._addClass(s, "ui-menu", "ui-widget ui-widget-content ui-front"),
          e = h.add(this.element),
          i = e.find(this.options.items),
          i.not(".ui-menu-item").each(function () {
            var e = t(this);
            a._isDivider(e) && a._addClass(e, "ui-menu-divider", "ui-widget-content")
          }),
          n = i.not(".ui-menu-item, .ui-menu-divider"),
          o = n.children().not(".ui-menu").uniqueId().attr({
            tabIndex: -1,
            role: this._itemRole()
          }),
          this._addClass(n, "ui-menu-item")._addClass(o, "ui-menu-item-wrapper"),
          i.filter(".ui-state-disabled").attr("aria-disabled", "true"),
          this.active && !t.contains(this.element[0], this.active[0]) && this.blur()
      },
      _itemRole: function () {
        return {
          menu: "menuitem",
          listbox: "option"
        }[this.options.role]
      },
      _setOption: function (t, e) {
        if ("icons" === t) {
          var i = this.element.find(".ui-menu-icon");
          this._removeClass(i, null, this.options.icons.submenu)._addClass(i, null, e.submenu)
        }
        this._super(t, e)
      },
      _setOptionDisabled: function (t) {
        this._super(t),
          this.element.attr("aria-disabled", t + ""),
          this._toggleClass(null, "ui-state-disabled", !!t)
      },
      focus: function (t, e) {
        var i, s, n;
        this.blur(t, t && "focus" === t.type),
          this._scrollIntoView(e),
          this.active = e.first(),
          s = this.active.children(".ui-menu-item-wrapper"),
          this._addClass(s, null, "ui-state-active"),
          this.options.role && this.element.attr("aria-activedescendant", s.attr("id")),
          n = this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),
          this._addClass(n, null, "ui-state-active"),
          t && "keydown" === t.type ? this._close() : this.timer = this._delay(function () {
            this._close()
          }, this.delay),
          i = e.children(".ui-menu"),
          i.length && t && /^mouse/.test(t.type) && this._startOpening(i),
          this.activeMenu = e.parent(),
          this._trigger("focus", t, {
            item: e
          })
      },
      _scrollIntoView: function (e) {
        var i, s, n, o, a, r;
        this._hasScroll() && (i = parseFloat(t.css(this.activeMenu[0], "borderTopWidth")) || 0,
          s = parseFloat(t.css(this.activeMenu[0], "paddingTop")) || 0,
          n = e.offset().top - this.activeMenu.offset().top - i - s,
          o = this.activeMenu.scrollTop(),
          a = this.activeMenu.height(),
          r = e.outerHeight(),
          0 > n ? this.activeMenu.scrollTop(o + n) : n + r > a && this.activeMenu.scrollTop(o + n - a + r))
      },
      blur: function (t, e) {
        e || clearTimeout(this.timer),
          this.active && (this._removeClass(this.active.children(".ui-menu-item-wrapper"), null, "ui-state-active"),
            this._trigger("blur", t, {
              item: this.active
            }),
            this.active = null)
      },
      _startOpening: function (t) {
        clearTimeout(this.timer),
          "true" === t.attr("aria-hidden") && (this.timer = this._delay(function () {
            this._close(),
              this._open(t)
          }, this.delay))
      },
      _open: function (e) {
        var i = t.extend({
          of: this.active
        }, this.options.position);
        clearTimeout(this.timer),
          this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden", "true"),
          e.show().removeAttr("aria-hidden").attr("aria-expanded", "true").position(i)
      },
      collapseAll: function (e, i) {
        clearTimeout(this.timer),
          this.timer = this._delay(function () {
            var s = i ? this.element : t(e && e.target).closest(this.element.find(".ui-menu"));
            s.length || (s = this.element),
              this._close(s),
              this.blur(e),
              this._removeClass(s.find(".ui-state-active"), null, "ui-state-active"),
              this.activeMenu = s
          }, this.delay)
      },
      _close: function (t) {
        t || (t = this.active ? this.active.parent() : this.element),
          t.find(".ui-menu").hide().attr("aria-hidden", "true").attr("aria-expanded", "false")
      },
      _closeOnDocumentClick: function (e) {
        return !t(e.target).closest(".ui-menu").length
      },
      _isDivider: function (t) {
        return !/[^\-\u2014\u2013\s]/.test(t.text())
      },
      collapse: function (t) {
        var e = this.active && this.active.parent().closest(".ui-menu-item", this.element);
        e && e.length && (this._close(),
          this.focus(t, e))
      },
      expand: function (t) {
        var e = this.active && this.active.children(".ui-menu ").find(this.options.items).first();
        e && e.length && (this._open(e.parent()),
          this._delay(function () {
            this.focus(t, e)
          }))
      },
      next: function (t) {
        this._move("next", "first", t)
      },
      previous: function (t) {
        this._move("prev", "last", t)
      },
      isFirstItem: function () {
        return this.active && !this.active.prevAll(".ui-menu-item").length
      },
      isLastItem: function () {
        return this.active && !this.active.nextAll(".ui-menu-item").length
      },
      _move: function (t, e, i) {
        var s;
        this.active && (s = "first" === t || "last" === t ? this.active["first" === t ? "prevAll" : "nextAll"](".ui-menu-item").eq(-1) : this.active[t + "All"](".ui-menu-item").eq(0)),
          s && s.length && this.active || (s = this.activeMenu.find(this.options.items)[e]()),
          this.focus(i, s)
      },
      nextPage: function (e) {
        var i, s, n;
        return this.active ? (this.isLastItem() || (this._hasScroll() ? (s = this.active.offset().top,
          n = this.element.height(),
          this.active.nextAll(".ui-menu-item").each(function () {
            return i = t(this),
              0 > i.offset().top - s - n
          }),
          this.focus(e, i)) : this.focus(e, this.activeMenu.find(this.options.items)[this.active ? "last" : "first"]())),
          void 0) : (this.next(e),
            void 0)
      },
      previousPage: function (e) {
        var i, s, n;
        return this.active ? (this.isFirstItem() || (this._hasScroll() ? (s = this.active.offset().top,
          n = this.element.height(),
          this.active.prevAll(".ui-menu-item").each(function () {
            return i = t(this),
              i.offset().top - s + n > 0
          }),
          this.focus(e, i)) : this.focus(e, this.activeMenu.find(this.options.items).first())),
          void 0) : (this.next(e),
            void 0)
      },
      _hasScroll: function () {
        return this.element.outerHeight() < this.element.prop("scrollHeight")
      },
      select: function (e) {
        this.active = this.active || t(e.target).closest(".ui-menu-item");
        var i = {
          item: this.active
        };
        this.active.has(".ui-menu").length || this.collapseAll(e, !0),
          this._trigger("select", e, i)
      },
      _filterMenuItems: function (e) {
        var i = e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
          , s = RegExp("^" + i, "i");
        return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function () {
          return s.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))
        })
      }
    }),
    t.widget("ui.autocomplete", {
      version: "1.12.1",
      defaultElement: "<input>",
      options: {
        appendTo: null,
        autoFocus: !1,
        delay: 300,
        minLength: 1,
        position: {
          my: "left top",
          at: "left bottom",
          collision: "none"
        },
        source: null,
        change: null,
        close: null,
        focus: null,
        open: null,
        response: null,
        search: null,
        select: null
      },
      requestIndex: 0,
      pending: 0,
      _create: function () {
        var e, i, s, n = this.element[0].nodeName.toLowerCase(), o = "textarea" === n, a = "input" === n;
        this.isMultiLine = o || !a && this._isContentEditable(this.element),
          this.valueMethod = this.element[o || a ? "val" : "text"],
          this.isNewMenu = !0,
          this._addClass("ui-autocomplete-input"),
          this.element.attr("autocomplete", "off"),
          this._on(this.element, {
            keydown: function (n) {
              if (this.element.prop("readOnly"))
                return e = !0,
                  s = !0,
                  i = !0,
                  void 0;
              e = !1,
                s = !1,
                i = !1;
              var o = t.ui.keyCode;
              switch (n.keyCode) {
                case o.PAGE_UP:
                  e = !0,
                    this._move("previousPage", n);
                  break;
                case o.PAGE_DOWN:
                  e = !0,
                    this._move("nextPage", n);
                  break;
                case o.UP:
                  e = !0,
                    this._keyEvent("previous", n);
                  break;
                case o.DOWN:
                  e = !0,
                    this._keyEvent("next", n);
                  break;
                case o.ENTER:
                  this.menu.active && (e = !0,
                    n.preventDefault(),
                    this.menu.select(n));
                  break;
                case o.TAB:
                  this.menu.active && this.menu.select(n);
                  break;
                case o.ESCAPE:
                  this.menu.element.is(":visible") && (this.isMultiLine || this._value(this.term),
                    this.close(n),
                    n.preventDefault());
                  break;
                default:
                  i = !0,
                    this._searchTimeout(n)
              }
            },
            keypress: function (s) {
              if (e)
                return e = !1,
                  (!this.isMultiLine || this.menu.element.is(":visible")) && s.preventDefault(),
                  void 0;
              if (!i) {
                var n = t.ui.keyCode;
                switch (s.keyCode) {
                  case n.PAGE_UP:
                    this._move("previousPage", s);
                    break;
                  case n.PAGE_DOWN:
                    this._move("nextPage", s);
                    break;
                  case n.UP:
                    this._keyEvent("previous", s);
                    break;
                  case n.DOWN:
                    this._keyEvent("next", s)
                }
              }
            },
            input: function (t) {
              return s ? (s = !1,
                t.preventDefault(),
                void 0) : (this._searchTimeout(t),
                  void 0)
            },
            focus: function () {
              this.selectedItem = null,
                this.previous = this._value()
            },
            blur: function (t) {
              return this.cancelBlur ? (delete this.cancelBlur,
                void 0) : (clearTimeout(this.searching),
                  this.close(t),
                  this._change(t),
                  void 0)
            }
          }),
          this._initSource(),
          this.menu = t("<ul>").appendTo(this._appendTo()).menu({
            role: null
          }).hide().menu("instance"),
          this._addClass(this.menu.element, "ui-autocomplete", "ui-front"),
          this._on(this.menu.element, {
            mousedown: function (e) {
              e.preventDefault(),
                this.cancelBlur = !0,
                this._delay(function () {
                  delete this.cancelBlur,
                    this.element[0] !== t.ui.safeActiveElement(this.document[0]) && this.element.trigger("focus")
                })
            },
            menufocus: function (e, i) {
              var s, n;
              return this.isNewMenu && (this.isNewMenu = !1,
                e.originalEvent && /^mouse/.test(e.originalEvent.type)) ? (this.menu.blur(),
                  this.document.one("mousemove", function () {
                    t(e.target).trigger(e.originalEvent)
                  }),
                  void 0) : (n = i.item.data("ui-autocomplete-item"),
                    !1 !== this._trigger("focus", e, {
                      item: n
                    }) && e.originalEvent && /^key/.test(e.originalEvent.type) && this._value(n.value),
                    s = i.item.attr("aria-label") || n.value,
                    s && t.trim(s).length && (this.liveRegion.children().hide(),
                      t("<div>").text(s).appendTo(this.liveRegion)),
                    void 0)
            },
            menuselect: function (e, i) {
              var s = i.item.data("ui-autocomplete-item")
                , n = this.previous;
              this.element[0] !== t.ui.safeActiveElement(this.document[0]) && (this.element.trigger("focus"),
                this.previous = n,
                this._delay(function () {
                  this.previous = n,
                    this.selectedItem = s
                })),
                !1 !== this._trigger("select", e, {
                  item: s
                }) && this._value(s.value),
                this.term = this._value(),
                this.close(e),
                this.selectedItem = s
            }
          }),
          this.liveRegion = t("<div>", {
            role: "status",
            "aria-live": "assertive",
            "aria-relevant": "additions"
          }).appendTo(this.document[0].body),
          this._addClass(this.liveRegion, null, "ui-helper-hidden-accessible"),
          this._on(this.window, {
            beforeunload: function () {
              this.element.removeAttr("autocomplete")
            }
          })
      },
      _destroy: function () {
        clearTimeout(this.searching),
          this.element.removeAttr("autocomplete"),
          this.menu.element.remove(),
          this.liveRegion.remove()
      },
      _setOption: function (t, e) {
        this._super(t, e),
          "source" === t && this._initSource(),
          "appendTo" === t && this.menu.element.appendTo(this._appendTo()),
          "disabled" === t && e && this.xhr && this.xhr.abort()
      },
      _isEventTargetInWidget: function (e) {
        var i = this.menu.element[0];
        return e.target === this.element[0] || e.target === i || t.contains(i, e.target)
      },
      _closeOnClickOutside: function (t) {
        this._isEventTargetInWidget(t) || this.close()
      },
      _appendTo: function () {
        var e = this.options.appendTo;
        return e && (e = e.jquery || e.nodeType ? t(e) : this.document.find(e).eq(0)),
          e && e[0] || (e = this.element.closest(".ui-front, dialog")),
          e.length || (e = this.document[0].body),
          e
      },
      _initSource: function () {
        var e, i, s = this;
        t.isArray(this.options.source) ? (e = this.options.source,
          this.source = function (i, s) {
            s(t.ui.autocomplete.filter(e, i.term))
          }
        ) : "string" == typeof this.options.source ? (i = this.options.source,
          this.source = function (e, n) {
            s.xhr && s.xhr.abort(),
              s.xhr = t.ajax({
                url: i,
                data: e,
                dataType: "json",
                success: function (t) {
                  n(t)
                },
                error: function () {
                  n([])
                }
              })
          }
        ) : this.source = this.options.source
      },
      _searchTimeout: function (t) {
        clearTimeout(this.searching),
          this.searching = this._delay(function () {
            var e = this.term === this._value()
              , i = this.menu.element.is(":visible")
              , s = t.altKey || t.ctrlKey || t.metaKey || t.shiftKey;
            (!e || e && !i && !s) && (this.selectedItem = null,
              this.search(null, t))
          }, this.options.delay)
      },
      search: function (t, e) {
        return t = null != t ? t : this._value(),
          this.term = this._value(),
          t.length < this.options.minLength ? this.close(e) : this._trigger("search", e) !== !1 ? this._search(t) : void 0
      },
      _search: function (t) {
        this.pending++,
          this._addClass("ui-autocomplete-loading"),
          this.cancelSearch = !1,
          this.source({
            term: t
          }, this._response())
      },
      _response: function () {
        var e = ++this.requestIndex;
        return t.proxy(function (t) {
          e === this.requestIndex && this.__response(t),
            this.pending--,
            this.pending || this._removeClass("ui-autocomplete-loading")
        }, this)
      },
      __response: function (t) {
        t && (t = this._normalize(t)),
          this._trigger("response", null, {
            content: t
          }),
          !this.options.disabled && t && t.length && !this.cancelSearch ? (this._suggest(t),
            this._trigger("open")) : this._close()
      },
      close: function (t) {
        this.cancelSearch = !0,
          this._close(t)
      },
      _close: function (t) {
        this._off(this.document, "mousedown"),
          this.menu.element.is(":visible") && (this.menu.element.hide(),
            this.menu.blur(),
            this.isNewMenu = !0,
            this._trigger("close", t))
      },
      _change: function (t) {
        this.previous !== this._value() && this._trigger("change", t, {
          item: this.selectedItem
        })
      },
      _normalize: function (e) {
        return e.length && e[0].label && e[0].value ? e : t.map(e, function (e) {
          return "string" == typeof e ? {
            label: e,
            value: e
          } : t.extend({}, e, {
            label: e.label || e.value,
            value: e.value || e.label
          })
        })
      },
      _suggest: function (e) {
        var i = this.menu.element.empty();
        this._renderMenu(i, e),
          this.isNewMenu = !0,
          this.menu.refresh(),
          i.show(),
          this._resizeMenu(),
          i.position(t.extend({
            of: this.element
          }, this.options.position)),
          this.options.autoFocus && this.menu.next(),
          this._on(this.document, {
            mousedown: "_closeOnClickOutside"
          })
      },
      _resizeMenu: function () {
        var t = this.menu.element;
        t.outerWidth(Math.max(t.width("").outerWidth() + 1, this.element.outerWidth()))
      },
      _renderMenu: function (e, i) {
        var s = this;
        t.each(i, function (t, i) {
          s._renderItemData(e, i)
        })
      },
      _renderItemData: function (t, e) {
        return this._renderItem(t, e).data("ui-autocomplete-item", e)
      },
      _renderItem: function (e, i) {
        return t("<li>").append(t("<div>").text(i.label)).appendTo(e)
      },
      _move: function (t, e) {
        return this.menu.element.is(":visible") ? this.menu.isFirstItem() && /^previous/.test(t) || this.menu.isLastItem() && /^next/.test(t) ? (this.isMultiLine || this._value(this.term),
          this.menu.blur(),
          void 0) : (this.menu[t](e),
            void 0) : (this.search(null, e),
              void 0)
      },
      widget: function () {
        return this.menu.element
      },
      _value: function () {
        return this.valueMethod.apply(this.element, arguments)
      },
      _keyEvent: function (t, e) {
        (!this.isMultiLine || this.menu.element.is(":visible")) && (this._move(t, e),
          e.preventDefault())
      },
      _isContentEditable: function (t) {
        if (!t.length)
          return !1;
        var e = t.prop("contentEditable");
        return "inherit" === e ? this._isContentEditable(t.parent()) : "true" === e
      }
    }),
    t.extend(t.ui.autocomplete, {
      escapeRegex: function (t) {
        return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
      },
      filter: function (e, i) {
        var s = RegExp(t.ui.autocomplete.escapeRegex(i), "i");
        return t.grep(e, function (t) {
          return s.test(t.label || t.value || t)
        })
      }
    }),
    t.widget("ui.autocomplete", t.ui.autocomplete, {
      options: {
        messages: {
          noResults: "No search results.",
          results: function (t) {
            return t + (t > 1 ? " results are" : " result is") + " available, use up and down arrow keys to navigate."
          }
        }
      },
      __response: function (e) {
        var i;
        this._superApply(arguments),
          this.options.disabled || this.cancelSearch || (i = e && e.length ? this.options.messages.results(e.length) : this.options.messages.noResults,
            this.liveRegion.children().hide(),
            t("<div>").text(i).appendTo(this.liveRegion))
      }
    }),
    t.ui.autocomplete;
  var g = /ui-corner-([a-z]){2,6}/g;
  t.widget("ui.controlgroup", {
    version: "1.12.1",
    defaultElement: "<div>",
    options: {
      direction: "horizontal",
      disabled: null,
      onlyVisible: !0,
      items: {
        button: "input[type=button], input[type=submit], input[type=reset], button, a",
        controlgroupLabel: ".ui-controlgroup-label",
        checkboxradio: "input[type='checkbox'], input[type='radio']",
        selectmenu: "select",
        spinner: ".ui-spinner-input"
      }
    },
    _create: function () {
      this._enhance()
    },
    _enhance: function () {
      this.element.attr("role", "toolbar"),
        this.refresh()
    },
    _destroy: function () {
      this._callChildMethod("destroy"),
        this.childWidgets.removeData("ui-controlgroup-data"),
        this.element.removeAttr("role"),
        this.options.items.controlgroupLabel && this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()
    },
    _initWidgets: function () {
      var e = this
        , i = [];
      t.each(this.options.items, function (s, n) {
        var o, a = {};
        return n ? "controlgroupLabel" === s ? (o = e.element.find(n),
          o.each(function () {
            var e = t(this);
            e.children(".ui-controlgroup-label-contents").length || e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")
          }),
          e._addClass(o, null, "ui-widget ui-widget-content ui-state-default"),
          i = i.concat(o.get()),
          void 0) : (t.fn[s] && (a = e["_" + s + "Options"] ? e["_" + s + "Options"]("middle") : {
            classes: {}
          },
            e.element.find(n).each(function () {
              var n = t(this)
                , o = n[s]("instance")
                , r = t.widget.extend({}, a);
              if ("button" !== s || !n.parent(".ui-spinner").length) {
                o || (o = n[s]()[s]("instance")),
                  o && (r.classes = e._resolveClassesValues(r.classes, o)),
                  n[s](r);
                var h = n[s]("widget");
                t.data(h[0], "ui-controlgroup-data", o ? o : n[s]("instance")),
                  i.push(h[0])
              }
            })),
            void 0) : void 0
      }),
        this.childWidgets = t(t.unique(i)),
        this._addClass(this.childWidgets, "ui-controlgroup-item")
    },
    _callChildMethod: function (e) {
      this.childWidgets.each(function () {
        var i = t(this)
          , s = i.data("ui-controlgroup-data");
        s && s[e] && s[e]()
      })
    },
    _updateCornerClass: function (t, e) {
      var i = "ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"
        , s = this._buildSimpleOptions(e, "label").classes.label;
      this._removeClass(t, null, i),
        this._addClass(t, null, s)
    },
    _buildSimpleOptions: function (t, e) {
      var i = "vertical" === this.options.direction
        , s = {
          classes: {}
        };
      return s.classes[e] = {
        middle: "",
        first: "ui-corner-" + (i ? "top" : "left"),
        last: "ui-corner-" + (i ? "bottom" : "right"),
        only: "ui-corner-all"
      }[t],
        s
    },
    _spinnerOptions: function (t) {
      var e = this._buildSimpleOptions(t, "ui-spinner");
      return e.classes["ui-spinner-up"] = "",
        e.classes["ui-spinner-down"] = "",
        e
    },
    _buttonOptions: function (t) {
      return this._buildSimpleOptions(t, "ui-button")
    },
    _checkboxradioOptions: function (t) {
      return this._buildSimpleOptions(t, "ui-checkboxradio-label")
    },
    _selectmenuOptions: function (t) {
      var e = "vertical" === this.options.direction;
      return {
        width: e ? "auto" : !1,
        classes: {
          middle: {
            "ui-selectmenu-button-open": "",
            "ui-selectmenu-button-closed": ""
          },
          first: {
            "ui-selectmenu-button-open": "ui-corner-" + (e ? "top" : "tl"),
            "ui-selectmenu-button-closed": "ui-corner-" + (e ? "top" : "left")
          },
          last: {
            "ui-selectmenu-button-open": e ? "" : "ui-corner-tr",
            "ui-selectmenu-button-closed": "ui-corner-" + (e ? "bottom" : "right")
          },
          only: {
            "ui-selectmenu-button-open": "ui-corner-top",
            "ui-selectmenu-button-closed": "ui-corner-all"
          }
        }[t]
      }
    },
    _resolveClassesValues: function (e, i) {
      var s = {};
      return t.each(e, function (n) {
        var o = i.options.classes[n] || "";
        o = t.trim(o.replace(g, "")),
          s[n] = (o + " " + e[n]).replace(/\s+/g, " ")
      }),
        s
    },
    _setOption: function (t, e) {
      return "direction" === t && this._removeClass("ui-controlgroup-" + this.options.direction),
        this._super(t, e),
        "disabled" === t ? (this._callChildMethod(e ? "disable" : "enable"),
          void 0) : (this.refresh(),
            void 0)
    },
    refresh: function () {
      var e, i = this;
      this._addClass("ui-controlgroup ui-controlgroup-" + this.options.direction),
        "horizontal" === this.options.direction && this._addClass(null, "ui-helper-clearfix"),
        this._initWidgets(),
        e = this.childWidgets,
        this.options.onlyVisible && (e = e.filter(":visible")),
        e.length && (t.each(["first", "last"], function (t, s) {
          var n = e[s]().data("ui-controlgroup-data");
          if (n && i["_" + n.widgetName + "Options"]) {
            var o = i["_" + n.widgetName + "Options"](1 === e.length ? "only" : s);
            o.classes = i._resolveClassesValues(o.classes, n),
              n.element[n.widgetName](o)
          } else
            i._updateCornerClass(e[s](), s)
        }),
          this._callChildMethod("refresh"))
    }
  }),
    t.widget("ui.checkboxradio", [t.ui.formResetMixin, {
      version: "1.12.1",
      options: {
        disabled: null,
        label: null,
        icon: !0,
        classes: {
          "ui-checkboxradio-label": "ui-corner-all",
          "ui-checkboxradio-icon": "ui-corner-all"
        }
      },
      _getCreateOptions: function () {
        var e, i, s = this, n = this._super() || {};
        return this._readType(),
          i = this.element.labels(),
          this.label = t(i[i.length - 1]),
          this.label.length || t.error("No label found for checkboxradio widget"),
          this.originalLabel = "",
          this.label.contents().not(this.element[0]).each(function () {
            s.originalLabel += 3 === this.nodeType ? t(this).text() : this.outerHTML
          }),
          this.originalLabel && (n.label = this.originalLabel),
          e = this.element[0].disabled,
          null != e && (n.disabled = e),
          n
      },
      _create: function () {
        var t = this.element[0].checked;
        this._bindFormResetHandler(),
          null == this.options.disabled && (this.options.disabled = this.element[0].disabled),
          this._setOption("disabled", this.options.disabled),
          this._addClass("ui-checkboxradio", "ui-helper-hidden-accessible"),
          this._addClass(this.label, "ui-checkboxradio-label", "ui-button ui-widget"),
          "radio" === this.type && this._addClass(this.label, "ui-checkboxradio-radio-label"),
          this.options.label && this.options.label !== this.originalLabel ? this._updateLabel() : this.originalLabel && (this.options.label = this.originalLabel),
          this._enhance(),
          t && (this._addClass(this.label, "ui-checkboxradio-checked", "ui-state-active"),
            this.icon && this._addClass(this.icon, null, "ui-state-hover")),
          this._on({
            change: "_toggleClasses",
            focus: function () {
              this._addClass(this.label, null, "ui-state-focus ui-visual-focus")
            },
            blur: function () {
              this._removeClass(this.label, null, "ui-state-focus ui-visual-focus")
            }
          })
      },
      _readType: function () {
        var e = this.element[0].nodeName.toLowerCase();
        this.type = this.element[0].type,
          "input" === e && /radio|checkbox/.test(this.type) || t.error("Can't create checkboxradio on element.nodeName=" + e + " and element.type=" + this.type)
      },
      _enhance: function () {
        this._updateIcon(this.element[0].checked)
      },
      widget: function () {
        return this.label
      },
      _getRadioGroup: function () {
        var e, i = this.element[0].name, s = "input[name='" + t.ui.escapeSelector(i) + "']";
        return i ? (e = this.form.length ? t(this.form[0].elements).filter(s) : t(s).filter(function () {
          return 0 === t(this).form().length
        }),
          e.not(this.element)) : t([])
      },
      _toggleClasses: function () {
        var e = this.element[0].checked;
        this._toggleClass(this.label, "ui-checkboxradio-checked", "ui-state-active", e),
          this.options.icon && "checkbox" === this.type && this._toggleClass(this.icon, null, "ui-icon-check ui-state-checked", e)._toggleClass(this.icon, null, "ui-icon-blank", !e),
          "radio" === this.type && this._getRadioGroup().each(function () {
            var e = t(this).checkboxradio("instance");
            e && e._removeClass(e.label, "ui-checkboxradio-checked", "ui-state-active")
          })
      },
      _destroy: function () {
        this._unbindFormResetHandler(),
          this.icon && (this.icon.remove(),
            this.iconSpace.remove())
      },
      _setOption: function (t, e) {
        return "label" !== t || e ? (this._super(t, e),
          "disabled" === t ? (this._toggleClass(this.label, null, "ui-state-disabled", e),
            this.element[0].disabled = e,
            void 0) : (this.refresh(),
              void 0)) : void 0
      },
      _updateIcon: function (e) {
        var i = "ui-icon ui-icon-background ";
        this.options.icon ? (this.icon || (this.icon = t("<span>"),
          this.iconSpace = t("<span> </span>"),
          this._addClass(this.iconSpace, "ui-checkboxradio-icon-space")),
          "checkbox" === this.type ? (i += e ? "ui-icon-check ui-state-checked" : "ui-icon-blank",
            this._removeClass(this.icon, null, e ? "ui-icon-blank" : "ui-icon-check")) : i += "ui-icon-blank",
          this._addClass(this.icon, "ui-checkboxradio-icon", i),
          e || this._removeClass(this.icon, null, "ui-icon-check ui-state-checked"),
          this.icon.prependTo(this.label).after(this.iconSpace)) : void 0 !== this.icon && (this.icon.remove(),
            this.iconSpace.remove(),
            delete this.icon)
      },
      _updateLabel: function () {
        var t = this.label.contents().not(this.element[0]);
        this.icon && (t = t.not(this.icon[0])),
          this.iconSpace && (t = t.not(this.iconSpace[0])),
          t.remove(),
          this.label.append(this.options.label)
      },
      refresh: function () {
        var t = this.element[0].checked
          , e = this.element[0].disabled;
        this._updateIcon(t),
          this._toggleClass(this.label, "ui-checkboxradio-checked", "ui-state-active", t),
          null !== this.options.label && this._updateLabel(),
          e !== this.options.disabled && this._setOptions({
            disabled: e
          })
      }
    }]),
    t.ui.checkboxradio,
    t.widget("ui.button", {
      version: "1.12.1",
      defaultElement: "<button>",
      options: {
        classes: {
          "ui-button": "ui-corner-all"
        },
        disabled: null,
        icon: null,
        iconPosition: "beginning",
        label: null,
        showLabel: !0
      },
      _getCreateOptions: function () {
        var t, e = this._super() || {};
        return this.isInput = this.element.is("input"),
          t = this.element[0].disabled,
          null != t && (e.disabled = t),
          this.originalLabel = this.isInput ? this.element.val() : this.element.html(),
          this.originalLabel && (e.label = this.originalLabel),
          e
      },
      _create: function () {
        !this.option.showLabel & !this.options.icon && (this.options.showLabel = !0),
          null == this.options.disabled && (this.options.disabled = this.element[0].disabled || !1),
          this.hasTitle = !!this.element.attr("title"),
          this.options.label && this.options.label !== this.originalLabel && (this.isInput ? this.element.val(this.options.label) : this.element.html(this.options.label)),
          this._addClass("ui-button", "ui-widget"),
          this._setOption("disabled", this.options.disabled),
          this._enhance(),
          this.element.is("a") && this._on({
            keyup: function (e) {
              e.keyCode === t.ui.keyCode.SPACE && (e.preventDefault(),
                this.element[0].click ? this.element[0].click() : this.element.trigger("click"))
            }
          })
      },
      _enhance: function () {
        this.element.is("button") || this.element.attr("role", "button"),
          this.options.icon && (this._updateIcon("icon", this.options.icon),
            this._updateTooltip())
      },
      _updateTooltip: function () {
        this.title = this.element.attr("title"),
          this.options.showLabel || this.title || this.element.attr("title", this.options.label)
      },
      _updateIcon: function (e, i) {
        var s = "iconPosition" !== e
          , n = s ? this.options.iconPosition : i
          , o = "top" === n || "bottom" === n;
        this.icon ? s && this._removeClass(this.icon, null, this.options.icon) : (this.icon = t("<span>"),
          this._addClass(this.icon, "ui-button-icon", "ui-icon"),
          this.options.showLabel || this._addClass("ui-button-icon-only")),
          s && this._addClass(this.icon, null, i),
          this._attachIcon(n),
          o ? (this._addClass(this.icon, null, "ui-widget-icon-block"),
            this.iconSpace && this.iconSpace.remove()) : (this.iconSpace || (this.iconSpace = t("<span> </span>"),
              this._addClass(this.iconSpace, "ui-button-icon-space")),
              this._removeClass(this.icon, null, "ui-wiget-icon-block"),
              this._attachIconSpace(n))
      },
      _destroy: function () {
        this.element.removeAttr("role"),
          this.icon && this.icon.remove(),
          this.iconSpace && this.iconSpace.remove(),
          this.hasTitle || this.element.removeAttr("title")
      },
      _attachIconSpace: function (t) {
        this.icon[/^(?:end|bottom)/.test(t) ? "before" : "after"](this.iconSpace)
      },
      _attachIcon: function (t) {
        this.element[/^(?:end|bottom)/.test(t) ? "append" : "prepend"](this.icon)
      },
      _setOptions: function (t) {
        var e = void 0 === t.showLabel ? this.options.showLabel : t.showLabel
          , i = void 0 === t.icon ? this.options.icon : t.icon;
        e || i || (t.showLabel = !0),
          this._super(t)
      },
      _setOption: function (t, e) {
        "icon" === t && (e ? this._updateIcon(t, e) : this.icon && (this.icon.remove(),
          this.iconSpace && this.iconSpace.remove())),
          "iconPosition" === t && this._updateIcon(t, e),
          "showLabel" === t && (this._toggleClass("ui-button-icon-only", null, !e),
            this._updateTooltip()),
          "label" === t && (this.isInput ? this.element.val(e) : (this.element.html(e),
            this.icon && (this._attachIcon(this.options.iconPosition),
              this._attachIconSpace(this.options.iconPosition)))),
          this._super(t, e),
          "disabled" === t && (this._toggleClass(null, "ui-state-disabled", e),
            this.element[0].disabled = e,
            e && this.element.blur())
      },
      refresh: function () {
        var t = this.element.is("input, button") ? this.element[0].disabled : this.element.hasClass("ui-button-disabled");
        t !== this.options.disabled && this._setOptions({
          disabled: t
        }),
          this._updateTooltip()
      }
    }),
    t.uiBackCompat !== !1 && (t.widget("ui.button", t.ui.button, {
      options: {
        text: !0,
        icons: {
          primary: null,
          secondary: null
        }
      },
      _create: function () {
        this.options.showLabel && !this.options.text && (this.options.showLabel = this.options.text),
          !this.options.showLabel && this.options.text && (this.options.text = this.options.showLabel),
          this.options.icon || !this.options.icons.primary && !this.options.icons.secondary ? this.options.icon && (this.options.icons.primary = this.options.icon) : this.options.icons.primary ? this.options.icon = this.options.icons.primary : (this.options.icon = this.options.icons.secondary,
            this.options.iconPosition = "end"),
          this._super()
      },
      _setOption: function (t, e) {
        return "text" === t ? (this._super("showLabel", e),
          void 0) : ("showLabel" === t && (this.options.text = e),
            "icon" === t && (this.options.icons.primary = e),
            "icons" === t && (e.primary ? (this._super("icon", e.primary),
              this._super("iconPosition", "beginning")) : e.secondary && (this._super("icon", e.secondary),
                this._super("iconPosition", "end"))),
            this._superApply(arguments),
            void 0)
      }
    }),
      t.fn.button = function (e) {
        return function () {
          return !this.length || this.length && "INPUT" !== this[0].tagName || this.length && "INPUT" === this[0].tagName && "checkbox" !== this.attr("type") && "radio" !== this.attr("type") ? e.apply(this, arguments) : (t.ui.checkboxradio || t.error("Checkboxradio widget missing"),
            0 === arguments.length ? this.checkboxradio({
              icon: !1
            }) : this.checkboxradio.apply(this, arguments))
        }
      }(t.fn.button),
      t.fn.buttonset = function () {
        return t.ui.controlgroup || t.error("Controlgroup widget missing"),
          "option" === arguments[0] && "items" === arguments[1] && arguments[2] ? this.controlgroup.apply(this, [arguments[0], "items.button", arguments[2]]) : "option" === arguments[0] && "items" === arguments[1] ? this.controlgroup.apply(this, [arguments[0], "items.button"]) : ("object" == typeof arguments[0] && arguments[0].items && (arguments[0].items = {
            button: arguments[0].items
          }),
            this.controlgroup.apply(this, arguments))
      }
    ),
    t.ui.button,
    t.extend(t.ui, {
      datepicker: {
        version: "1.12.1"
      }
    });
  var m;
  t.extend(s.prototype, {
    markerClassName: "hasDatepicker",
    maxRows: 4,
    _widgetDatepicker: function () {
      return this.dpDiv
    },
    setDefaults: function (t) {
      return a(this._defaults, t || {}),
        this
    },
    _attachDatepicker: function (e, i) {
      var s, n, o;
      s = e.nodeName.toLowerCase(),
        n = "div" === s || "span" === s,
        e.id || (this.uuid += 1,
          e.id = "dp" + this.uuid),
        o = this._newInst(t(e), n),
        o.settings = t.extend({}, i || {}),
        "input" === s ? this._connectDatepicker(e, o) : n && this._inlineDatepicker(e, o)
    },
    _newInst: function (e, i) {
      var s = e[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1");
      return {
        id: s,
        input: e,
        selectedDay: 0,
        selectedMonth: 0,
        selectedYear: 0,
        drawMonth: 0,
        drawYear: 0,
        inline: i,
        dpDiv: i ? n(t("<div class='" + this._inlineClass + " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")) : this.dpDiv
      }
    },
    _connectDatepicker: function (e, i) {
      var s = t(e);
      i.append = t([]),
        i.trigger = t([]),
        s.hasClass(this.markerClassName) || (this._attachments(s, i),
          s.addClass(this.markerClassName).on("keydown", this._doKeyDown).on("keypress", this._doKeyPress).on("keyup", this._doKeyUp),
          this._autoSize(i),
          t.data(e, "datepicker", i),
          i.settings.disabled && this._disableDatepicker(e))
    },
    _attachments: function (e, i) {
      var s, n, o, a = this._get(i, "appendText"), r = this._get(i, "isRTL");
      i.append && i.append.remove(),
        a && (i.append = t("<span class='" + this._appendClass + "'>" + a + "</span>"),
          e[r ? "before" : "after"](i.append)),
        e.off("focus", this._showDatepicker),
        i.trigger && i.trigger.remove(),
        s = this._get(i, "showOn"),
        ("focus" === s || "both" === s) && e.on("focus", this._showDatepicker),
        ("button" === s || "both" === s) && (n = this._get(i, "buttonText"),
          o = this._get(i, "buttonImage"),
          i.trigger = t(this._get(i, "buttonImageOnly") ? t("<img/>").addClass(this._triggerClass).attr({
            src: o,
            alt: n,
            title: n
          }) : t("<button type='button'></button>").addClass(this._triggerClass).html(o ? t("<img/>").attr({
            src: o,
            alt: n,
            title: n
          }) : n)),
          e[r ? "before" : "after"](i.trigger),
          i.trigger.on("click", function () {
            return t.datepicker._datepickerShowing && t.datepicker._lastInput === e[0] ? t.datepicker._hideDatepicker() : t.datepicker._datepickerShowing && t.datepicker._lastInput !== e[0] ? (t.datepicker._hideDatepicker(),
              t.datepicker._showDatepicker(e[0])) : t.datepicker._showDatepicker(e[0]),
              !1
          }))
    },
    _autoSize: function (t) {
      if (this._get(t, "autoSize") && !t.inline) {
        var e, i, s, n, o = new Date(2009, 11, 20), a = this._get(t, "dateFormat");
        a.match(/[DM]/) && (e = function (t) {
          for (i = 0,
            s = 0,
            n = 0; t.length > n; n++)
            t[n].length > i && (i = t[n].length,
              s = n);
          return s
        }
          ,
          o.setMonth(e(this._get(t, a.match(/MM/) ? "monthNames" : "monthNamesShort"))),
          o.setDate(e(this._get(t, a.match(/DD/) ? "dayNames" : "dayNamesShort")) + 20 - o.getDay())),
          t.input.attr("size", this._formatDate(t, o).length)
      }
    },
    _inlineDatepicker: function (e, i) {
      var s = t(e);
      s.hasClass(this.markerClassName) || (s.addClass(this.markerClassName).append(i.dpDiv),
        t.data(e, "datepicker", i),
        this._setDate(i, this._getDefaultDate(i), !0),
        this._updateDatepicker(i),
        this._updateAlternate(i),
        i.settings.disabled && this._disableDatepicker(e),
        i.dpDiv.css("display", "block"))
    },
    _dialogDatepicker: function (e, i, s, n, o) {
      var r, h, l, c, u, d = this._dialogInst;
      return d || (this.uuid += 1,
        r = "dp" + this.uuid,
        this._dialogInput = t("<input type='text' id='" + r + "' style='position: absolute; top: -100px; width: 0px;'/>"),
        this._dialogInput.on("keydown", this._doKeyDown),
        t("body").append(this._dialogInput),
        d = this._dialogInst = this._newInst(this._dialogInput, !1),
        d.settings = {},
        t.data(this._dialogInput[0], "datepicker", d)),
        a(d.settings, n || {}),
        i = i && i.constructor === Date ? this._formatDate(d, i) : i,
        this._dialogInput.val(i),
        this._pos = o ? o.length ? o : [o.pageX, o.pageY] : null,
        this._pos || (h = document.documentElement.clientWidth,
          l = document.documentElement.clientHeight,
          c = document.documentElement.scrollLeft || document.body.scrollLeft,
          u = document.documentElement.scrollTop || document.body.scrollTop,
          this._pos = [h / 2 - 100 + c, l / 2 - 150 + u]),
        this._dialogInput.css("left", this._pos[0] + 20 + "px").css("top", this._pos[1] + "px"),
        d.settings.onSelect = s,
        this._inDialog = !0,
        this.dpDiv.addClass(this._dialogClass),
        this._showDatepicker(this._dialogInput[0]),
        t.blockUI && t.blockUI(this.dpDiv),
        t.data(this._dialogInput[0], "datepicker", d),
        this
    },
    _destroyDatepicker: function (e) {
      var i, s = t(e), n = t.data(e, "datepicker");
      s.hasClass(this.markerClassName) && (i = e.nodeName.toLowerCase(),
        t.removeData(e, "datepicker"),
        "input" === i ? (n.append.remove(),
          n.trigger.remove(),
          s.removeClass(this.markerClassName).off("focus", this._showDatepicker).off("keydown", this._doKeyDown).off("keypress", this._doKeyPress).off("keyup", this._doKeyUp)) : ("div" === i || "span" === i) && s.removeClass(this.markerClassName).empty(),
        m === n && (m = null))
    },
    _enableDatepicker: function (e) {
      var i, s, n = t(e), o = t.data(e, "datepicker");
      n.hasClass(this.markerClassName) && (i = e.nodeName.toLowerCase(),
        "input" === i ? (e.disabled = !1,
          o.trigger.filter("button").each(function () {
            this.disabled = !1
          }).end().filter("img").css({
            opacity: "1.0",
            cursor: ""
          })) : ("div" === i || "span" === i) && (s = n.children("." + this._inlineClass),
            s.children().removeClass("ui-state-disabled"),
            s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !1)),
        this._disabledInputs = t.map(this._disabledInputs, function (t) {
          return t === e ? null : t
        }))
    },
    _disableDatepicker: function (e) {
      var i, s, n = t(e), o = t.data(e, "datepicker");
      n.hasClass(this.markerClassName) && (i = e.nodeName.toLowerCase(),
        "input" === i ? (e.disabled = !0,
          o.trigger.filter("button").each(function () {
            this.disabled = !0
          }).end().filter("img").css({
            opacity: "0.5",
            cursor: "default"
          })) : ("div" === i || "span" === i) && (s = n.children("." + this._inlineClass),
            s.children().addClass("ui-state-disabled"),
            s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !0)),
        this._disabledInputs = t.map(this._disabledInputs, function (t) {
          return t === e ? null : t
        }),
        this._disabledInputs[this._disabledInputs.length] = e)
    },
    _isDisabledDatepicker: function (t) {
      if (!t)
        return !1;
      for (var e = 0; this._disabledInputs.length > e; e++)
        if (this._disabledInputs[e] === t)
          return !0;
      return !1
    },
    _getInst: function (e) {
      try {
        return t.data(e, "datepicker")
      } catch (i) {
        throw "Missing instance data for this datepicker"
      }
    },
    _optionDatepicker: function (e, i, s) {
      var n, o, r, h, l = this._getInst(e);
      return 2 === arguments.length && "string" == typeof i ? "defaults" === i ? t.extend({}, t.datepicker._defaults) : l ? "all" === i ? t.extend({}, l.settings) : this._get(l, i) : null : (n = i || {},
        "string" == typeof i && (n = {},
          n[i] = s),
        l && (this._curInst === l && this._hideDatepicker(),
          o = this._getDateDatepicker(e, !0),
          r = this._getMinMaxDate(l, "min"),
          h = this._getMinMaxDate(l, "max"),
          a(l.settings, n),
          null !== r && void 0 !== n.dateFormat && void 0 === n.minDate && (l.settings.minDate = this._formatDate(l, r)),
          null !== h && void 0 !== n.dateFormat && void 0 === n.maxDate && (l.settings.maxDate = this._formatDate(l, h)),
          "disabled" in n && (n.disabled ? this._disableDatepicker(e) : this._enableDatepicker(e)),
          this._attachments(t(e), l),
          this._autoSize(l),
          this._setDate(l, o),
          this._updateAlternate(l),
          this._updateDatepicker(l)),
        void 0)
    },
    _changeDatepicker: function (t, e, i) {
      this._optionDatepicker(t, e, i)
    },
    _refreshDatepicker: function (t) {
      var e = this._getInst(t);
      e && this._updateDatepicker(e)
    },
    _setDateDatepicker: function (t, e) {
      var i = this._getInst(t);
      i && (this._setDate(i, e),
        this._updateDatepicker(i),
        this._updateAlternate(i))
    },
    _getDateDatepicker: function (t, e) {
      var i = this._getInst(t);
      return i && !i.inline && this._setDateFromField(i, e),
        i ? this._getDate(i) : null
    },
    _doKeyDown: function (e) {
      var i, s, n, o = t.datepicker._getInst(e.target), a = !0, r = o.dpDiv.is(".ui-datepicker-rtl");
      if (o._keyEvent = !0,
        t.datepicker._datepickerShowing)
        switch (e.keyCode) {
          case 9:
            t.datepicker._hideDatepicker(),
              a = !1;
            break;
          case 13:
            return n = t("td." + t.datepicker._dayOverClass + ":not(." + t.datepicker._currentClass + ")", o.dpDiv),
              n[0] && t.datepicker._selectDay(e.target, o.selectedMonth, o.selectedYear, n[0]),
              i = t.datepicker._get(o, "onSelect"),
              i ? (s = t.datepicker._formatDate(o),
                i.apply(o.input ? o.input[0] : null, [s, o])) : t.datepicker._hideDatepicker(),
              !1;
          case 27:
            t.datepicker._hideDatepicker();
            break;
          case 33:
            t.datepicker._adjustDate(e.target, e.ctrlKey ? -t.datepicker._get(o, "stepBigMonths") : -t.datepicker._get(o, "stepMonths"), "M");
            break;
          case 34:
            t.datepicker._adjustDate(e.target, e.ctrlKey ? +t.datepicker._get(o, "stepBigMonths") : +t.datepicker._get(o, "stepMonths"), "M");
            break;
          case 35:
            (e.ctrlKey || e.metaKey) && t.datepicker._clearDate(e.target),
              a = e.ctrlKey || e.metaKey;
            break;
          case 36:
            (e.ctrlKey || e.metaKey) && t.datepicker._gotoToday(e.target),
              a = e.ctrlKey || e.metaKey;
            break;
          case 37:
            (e.ctrlKey || e.metaKey) && t.datepicker._adjustDate(e.target, r ? 1 : -1, "D"),
              a = e.ctrlKey || e.metaKey,
              e.originalEvent.altKey && t.datepicker._adjustDate(e.target, e.ctrlKey ? -t.datepicker._get(o, "stepBigMonths") : -t.datepicker._get(o, "stepMonths"), "M");
            break;
          case 38:
            (e.ctrlKey || e.metaKey) && t.datepicker._adjustDate(e.target, -7, "D"),
              a = e.ctrlKey || e.metaKey;
            break;
          case 39:
            (e.ctrlKey || e.metaKey) && t.datepicker._adjustDate(e.target, r ? -1 : 1, "D"),
              a = e.ctrlKey || e.metaKey,
              e.originalEvent.altKey && t.datepicker._adjustDate(e.target, e.ctrlKey ? +t.datepicker._get(o, "stepBigMonths") : +t.datepicker._get(o, "stepMonths"), "M");
            break;
          case 40:
            (e.ctrlKey || e.metaKey) && t.datepicker._adjustDate(e.target, 7, "D"),
              a = e.ctrlKey || e.metaKey;
            break;
          default:
            a = !1
        }
      else
        36 === e.keyCode && e.ctrlKey ? t.datepicker._showDatepicker(this) : a = !1;
      a && (e.preventDefault(),
        e.stopPropagation())
    },
    _doKeyPress: function (e) {
      var i, s, n = t.datepicker._getInst(e.target);
      return t.datepicker._get(n, "constrainInput") ? (i = t.datepicker._possibleChars(t.datepicker._get(n, "dateFormat")),
        s = String.fromCharCode(null == e.charCode ? e.keyCode : e.charCode),
        e.ctrlKey || e.metaKey || " " > s || !i || i.indexOf(s) > -1) : void 0
    },
    _doKeyUp: function (e) {
      var i, s = t.datepicker._getInst(e.target);
      if (s.input.val() !== s.lastVal)
        try {
          i = t.datepicker.parseDate(t.datepicker._get(s, "dateFormat"), s.input ? s.input.val() : null, t.datepicker._getFormatConfig(s)),
            i && (t.datepicker._setDateFromField(s),
              t.datepicker._updateAlternate(s),
              t.datepicker._updateDatepicker(s))
        } catch (n) { }
      return !0
    },
    _showDatepicker: function (e) {
      if (e = e.target || e,
        "input" !== e.nodeName.toLowerCase() && (e = t("input", e.parentNode)[0]),
        !t.datepicker._isDisabledDatepicker(e) && t.datepicker._lastInput !== e) {
        var s, n, o, r, h, l, c;
        s = t.datepicker._getInst(e),
          t.datepicker._curInst && t.datepicker._curInst !== s && (t.datepicker._curInst.dpDiv.stop(!0, !0),
            s && t.datepicker._datepickerShowing && t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),
          n = t.datepicker._get(s, "beforeShow"),
          o = n ? n.apply(e, [e, s]) : {},
          o !== !1 && (a(s.settings, o),
            s.lastVal = null,
            t.datepicker._lastInput = e,
            t.datepicker._setDateFromField(s),
            t.datepicker._inDialog && (e.value = ""),
            t.datepicker._pos || (t.datepicker._pos = t.datepicker._findPos(e),
              t.datepicker._pos[1] += e.offsetHeight),
            r = !1,
            t(e).parents().each(function () {
              return r |= "fixed" === t(this).css("position"),
                !r
            }),
            h = {
              left: t.datepicker._pos[0],
              top: t.datepicker._pos[1]
            },
            t.datepicker._pos = null,
            s.dpDiv.empty(),
            s.dpDiv.css({
              position: "absolute",
              display: "block",
              top: "-1000px"
            }),
            t.datepicker._updateDatepicker(s),
            h = t.datepicker._checkOffset(s, h, r),
            s.dpDiv.css({
              position: t.datepicker._inDialog && t.blockUI ? "static" : r ? "fixed" : "absolute",
              display: "none",
              left: h.left + "px",
              top: h.top + "px"
            }),
            s.inline || (l = t.datepicker._get(s, "showAnim"),
              c = t.datepicker._get(s, "duration"),
              s.dpDiv.css("z-index", i(t(e)) + 1),
              t.datepicker._datepickerShowing = !0,
              t.effects && t.effects.effect[l] ? s.dpDiv.show(l, t.datepicker._get(s, "showOptions"), c) : s.dpDiv[l || "show"](l ? c : null),
              t.datepicker._shouldFocusInput(s) && s.input.trigger("focus"),
              t.datepicker._curInst = s))
      }
    },
    _updateDatepicker: function (e) {
      this.maxRows = 4,
        m = e,
        e.dpDiv.empty().append(this._generateHTML(e)),
        this._attachHandlers(e);
      var i, s = this._getNumberOfMonths(e), n = s[1], a = 17, r = e.dpDiv.find("." + this._dayOverClass + " a");
      r.length > 0 && o.apply(r.get(0)),
        e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),
        n > 1 && e.dpDiv.addClass("ui-datepicker-multi-" + n).css("width", a * n + "em"),
        e.dpDiv[(1 !== s[0] || 1 !== s[1] ? "add" : "remove") + "Class"]("ui-datepicker-multi"),
        e.dpDiv[(this._get(e, "isRTL") ? "add" : "remove") + "Class"]("ui-datepicker-rtl"),
        e === t.datepicker._curInst && t.datepicker._datepickerShowing && t.datepicker._shouldFocusInput(e) && e.input.trigger("focus"),
        e.yearshtml && (i = e.yearshtml,
          setTimeout(function () {
            i === e.yearshtml && e.yearshtml && e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),
              i = e.yearshtml = null
          }, 0))
    },
    _shouldFocusInput: function (t) {
      return t.input && t.input.is(":visible") && !t.input.is(":disabled") && !t.input.is(":focus")
    },
    _checkOffset: function (e, i, s) {
      var n = e.dpDiv.outerWidth()
        , o = e.dpDiv.outerHeight()
        , a = e.input ? e.input.outerWidth() : 0
        , r = e.input ? e.input.outerHeight() : 0
        , h = document.documentElement.clientWidth + (s ? 0 : t(document).scrollLeft())
        , l = document.documentElement.clientHeight + (s ? 0 : t(document).scrollTop());
      return i.left -= this._get(e, "isRTL") ? n - a : 0,
        i.left -= s && i.left === e.input.offset().left ? t(document).scrollLeft() : 0,
        i.top -= s && i.top === e.input.offset().top + r ? t(document).scrollTop() : 0,
        i.left -= Math.min(i.left, i.left + n > h && h > n ? Math.abs(i.left + n - h) : 0),
        i.top -= Math.min(i.top, i.top + o > l && l > o ? Math.abs(o + r) : 0),
        i
    },
    _findPos: function (e) {
      for (var i, s = this._getInst(e), n = this._get(s, "isRTL"); e && ("hidden" === e.type || 1 !== e.nodeType || t.expr.filters.hidden(e));)
        e = e[n ? "previousSibling" : "nextSibling"];
      return i = t(e).offset(),
        [i.left, i.top]
    },
    _hideDatepicker: function (e) {
      var i, s, n, o, a = this._curInst;
      !a || e && a !== t.data(e, "datepicker") || this._datepickerShowing && (i = this._get(a, "showAnim"),
        s = this._get(a, "duration"),
        n = function () {
          t.datepicker._tidyDialog(a)
        }
        ,
        t.effects && (t.effects.effect[i] || t.effects[i]) ? a.dpDiv.hide(i, t.datepicker._get(a, "showOptions"), s, n) : a.dpDiv["slideDown" === i ? "slideUp" : "fadeIn" === i ? "fadeOut" : "hide"](i ? s : null, n),
        i || n(),
        this._datepickerShowing = !1,
        o = this._get(a, "onClose"),
        o && o.apply(a.input ? a.input[0] : null, [a.input ? a.input.val() : "", a]),
        this._lastInput = null,
        this._inDialog && (this._dialogInput.css({
          position: "absolute",
          left: "0",
          top: "-100px"
        }),
          t.blockUI && (t.unblockUI(),
            t("body").append(this.dpDiv))),
        this._inDialog = !1)
    },
    _tidyDialog: function (t) {
      t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")
    },
    _checkExternalClick: function (e) {
      if (t.datepicker._curInst) {
        var i = t(e.target)
          , s = t.datepicker._getInst(i[0]);
        (i[0].id !== t.datepicker._mainDivId && 0 === i.parents("#" + t.datepicker._mainDivId).length && !i.hasClass(t.datepicker.markerClassName) && !i.closest("." + t.datepicker._triggerClass).length && t.datepicker._datepickerShowing && (!t.datepicker._inDialog || !t.blockUI) || i.hasClass(t.datepicker.markerClassName) && t.datepicker._curInst !== s) && t.datepicker._hideDatepicker()
      }
    },
    _adjustDate: function (e, i, s) {
      var n = t(e)
        , o = this._getInst(n[0]);
      this._isDisabledDatepicker(n[0]) || (this._adjustInstDate(o, i + ("M" === s ? this._get(o, "showCurrentAtPos") : 0), s),
        this._updateDatepicker(o))
    },
    _gotoToday: function (e) {
      var i, s = t(e), n = this._getInst(s[0]);
      this._get(n, "gotoCurrent") && n.currentDay ? (n.selectedDay = n.currentDay,
        n.drawMonth = n.selectedMonth = n.currentMonth,
        n.drawYear = n.selectedYear = n.currentYear) : (i = new Date,
          n.selectedDay = i.getDate(),
          n.drawMonth = n.selectedMonth = i.getMonth(),
          n.drawYear = n.selectedYear = i.getFullYear()),
        this._notifyChange(n),
        this._adjustDate(s)
    },
    _selectMonthYear: function (e, i, s) {
      var n = t(e)
        , o = this._getInst(n[0]);
      o["selected" + ("M" === s ? "Month" : "Year")] = o["draw" + ("M" === s ? "Month" : "Year")] = parseInt(i.options[i.selectedIndex].value, 10),
        this._notifyChange(o),
        this._adjustDate(n)
    },
    _selectDay: function (e, i, s, n) {
      var o, a = t(e);
      t(n).hasClass(this._unselectableClass) || this._isDisabledDatepicker(a[0]) || (o = this._getInst(a[0]),
        o.selectedDay = o.currentDay = t("a", n).html(),
        o.selectedMonth = o.currentMonth = i,
        o.selectedYear = o.currentYear = s,
        this._selectDate(e, this._formatDate(o, o.currentDay, o.currentMonth, o.currentYear)))
    },
    _clearDate: function (e) {
      var i = t(e);
      this._selectDate(i, "")
    },
    _selectDate: function (e, i) {
      var s, n = t(e), o = this._getInst(n[0]);
      i = null != i ? i : this._formatDate(o),
        o.input && o.input.val(i),
        this._updateAlternate(o),
        s = this._get(o, "onSelect"),
        s ? s.apply(o.input ? o.input[0] : null, [i, o]) : o.input && o.input.trigger("change"),
        o.inline ? this._updateDatepicker(o) : (this._hideDatepicker(),
          this._lastInput = o.input[0],
          "object" != typeof o.input[0] && o.input.trigger("focus"),
          this._lastInput = null)
    },
    _updateAlternate: function (e) {
      var i, s, n, o = this._get(e, "altField");
      o && (i = this._get(e, "altFormat") || this._get(e, "dateFormat"),
        s = this._getDate(e),
        n = this.formatDate(i, s, this._getFormatConfig(e)),
        t(o).val(n))
    },
    noWeekends: function (t) {
      var e = t.getDay();
      return [e > 0 && 6 > e, ""]
    },
    iso8601Week: function (t) {
      var e, i = new Date(t.getTime());
      return i.setDate(i.getDate() + 4 - (i.getDay() || 7)),
        e = i.getTime(),
        i.setMonth(0),
        i.setDate(1),
        Math.floor(Math.round((e - i) / 864e5) / 7) + 1
    },
    parseDate: function (e, i, s) {
      if (null == e || null == i)
        throw "Invalid arguments";
      if (i = "object" == typeof i ? "" + i : i + "",
        "" === i)
        return null;
      var n, o, a, r, h = 0, l = (s ? s.shortYearCutoff : null) || this._defaults.shortYearCutoff, c = "string" != typeof l ? l : (new Date).getFullYear() % 100 + parseInt(l, 10), u = (s ? s.dayNamesShort : null) || this._defaults.dayNamesShort, d = (s ? s.dayNames : null) || this._defaults.dayNames, p = (s ? s.monthNamesShort : null) || this._defaults.monthNamesShort, f = (s ? s.monthNames : null) || this._defaults.monthNames, g = -1, m = -1, _ = -1, v = -1, b = !1, y = function (t) {
        var i = e.length > n + 1 && e.charAt(n + 1) === t;
        return i && n++,
          i
      }, w = function (t) {
        var e = y(t)
          , s = "@" === t ? 14 : "!" === t ? 20 : "y" === t && e ? 4 : "o" === t ? 3 : 2
          , n = "y" === t ? s : 1
          , o = RegExp("^\\d{" + n + "," + s + "}")
          , a = i.substring(h).match(o);
        if (!a)
          throw "Missing number at position " + h;
        return h += a[0].length,
          parseInt(a[0], 10)
      }, k = function (e, s, n) {
        var o = -1
          , a = t.map(y(e) ? n : s, function (t, e) {
            return [[e, t]]
          }).sort(function (t, e) {
            return -(t[1].length - e[1].length)
          });
        if (t.each(a, function (t, e) {
          var s = e[1];
          return i.substr(h, s.length).toLowerCase() === s.toLowerCase() ? (o = e[0],
            h += s.length,
            !1) : void 0
        }),
          -1 !== o)
          return o + 1;
        throw "Unknown name at position " + h
      }, x = function () {
        if (i.charAt(h) !== e.charAt(n))
          throw "Unexpected literal at position " + h;
        h++
      };
      for (n = 0; e.length > n; n++)
        if (b)
          "'" !== e.charAt(n) || y("'") ? x() : b = !1;
        else
          switch (e.charAt(n)) {
            case "d":
              _ = w("d");
              break;
            case "D":
              k("D", u, d);
              break;
            case "o":
              v = w("o");
              break;
            case "m":
              m = w("m");
              break;
            case "M":
              m = k("M", p, f);
              break;
            case "y":
              g = w("y");
              break;
            case "@":
              r = new Date(w("@")),
                g = r.getFullYear(),
                m = r.getMonth() + 1,
                _ = r.getDate();
              break;
            case "!":
              r = new Date((w("!") - this._ticksTo1970) / 1e4),
                g = r.getFullYear(),
                m = r.getMonth() + 1,
                _ = r.getDate();
              break;
            case "'":
              y("'") ? x() : b = !0;
              break;
            default:
              x()
          }
      if (i.length > h && (a = i.substr(h),
        !/^\s+/.test(a)))
        throw "Extra/unparsed characters found in date: " + a;
      if (-1 === g ? g = (new Date).getFullYear() : 100 > g && (g += (new Date).getFullYear() - (new Date).getFullYear() % 100 + (c >= g ? 0 : -100)),
        v > -1)
        for (m = 1,
          _ = v; ;) {
          if (o = this._getDaysInMonth(g, m - 1),
            o >= _)
            break;
          m++,
            _ -= o
        }
      if (r = this._daylightSavingAdjust(new Date(g, m - 1, _)),
        r.getFullYear() !== g || r.getMonth() + 1 !== m || r.getDate() !== _)
        throw "Invalid date";
      return r
    },
    ATOM: "yy-mm-dd",
    COOKIE: "D, dd M yy",
    ISO_8601: "yy-mm-dd",
    RFC_822: "D, d M y",
    RFC_850: "DD, dd-M-y",
    RFC_1036: "D, d M y",
    RFC_1123: "D, d M yy",
    RFC_2822: "D, d M yy",
    RSS: "D, d M y",
    TICKS: "!",
    TIMESTAMP: "@",
    W3C: "yy-mm-dd",
    _ticksTo1970: 1e7 * 60 * 60 * 24 * (718685 + Math.floor(492.5) - Math.floor(19.7) + Math.floor(4.925)),
    formatDate: function (t, e, i) {
      if (!e)
        return "";
      var s, n = (i ? i.dayNamesShort : null) || this._defaults.dayNamesShort, o = (i ? i.dayNames : null) || this._defaults.dayNames, a = (i ? i.monthNamesShort : null) || this._defaults.monthNamesShort, r = (i ? i.monthNames : null) || this._defaults.monthNames, h = function (e) {
        var i = t.length > s + 1 && t.charAt(s + 1) === e;
        return i && s++,
          i
      }, l = function (t, e, i) {
        var s = "" + e;
        if (h(t))
          for (; i > s.length;)
            s = "0" + s;
        return s
      }, c = function (t, e, i, s) {
        return h(t) ? s[e] : i[e]
      }, u = "", d = !1;
      if (e)
        for (s = 0; t.length > s; s++)
          if (d)
            "'" !== t.charAt(s) || h("'") ? u += t.charAt(s) : d = !1;
          else
            switch (t.charAt(s)) {
              case "d":
                u += l("d", e.getDate(), 2);
                break;
              case "D":
                u += c("D", e.getDay(), n, o);
                break;
              case "o":
                u += l("o", Math.round((new Date(e.getFullYear(), e.getMonth(), e.getDate()).getTime() - new Date(e.getFullYear(), 0, 0).getTime()) / 864e5), 3);
                break;
              case "m":
                u += l("m", e.getMonth() + 1, 2);
                break;
              case "M":
                u += c("M", e.getMonth(), a, r);
                break;
              case "y":
                u += h("y") ? e.getFullYear() : (10 > e.getFullYear() % 100 ? "0" : "") + e.getFullYear() % 100;
                break;
              case "@":
                u += e.getTime();
                break;
              case "!":
                u += 1e4 * e.getTime() + this._ticksTo1970;
                break;
              case "'":
                h("'") ? u += "'" : d = !0;
                break;
              default:
                u += t.charAt(s)
            }
      return u
    },
    _possibleChars: function (t) {
      var e, i = "", s = !1, n = function (i) {
        var s = t.length > e + 1 && t.charAt(e + 1) === i;
        return s && e++,
          s
      };
      for (e = 0; t.length > e; e++)
        if (s)
          "'" !== t.charAt(e) || n("'") ? i += t.charAt(e) : s = !1;
        else
          switch (t.charAt(e)) {
            case "d":
            case "m":
            case "y":
            case "@":
              i += "0123456789";
              break;
            case "D":
            case "M":
              return null;
            case "'":
              n("'") ? i += "'" : s = !0;
              break;
            default:
              i += t.charAt(e)
          }
      return i
    },
    _get: function (t, e) {
      return void 0 !== t.settings[e] ? t.settings[e] : this._defaults[e]
    },
    _setDateFromField: function (t, e) {
      if (t.input.val() !== t.lastVal) {
        var i = this._get(t, "dateFormat")
          , s = t.lastVal = t.input ? t.input.val() : null
          , n = this._getDefaultDate(t)
          , o = n
          , a = this._getFormatConfig(t);
        try {
          o = this.parseDate(i, s, a) || n
        } catch (r) {
          s = e ? "" : s
        }
        t.selectedDay = o.getDate(),
          t.drawMonth = t.selectedMonth = o.getMonth(),
          t.drawYear = t.selectedYear = o.getFullYear(),
          t.currentDay = s ? o.getDate() : 0,
          t.currentMonth = s ? o.getMonth() : 0,
          t.currentYear = s ? o.getFullYear() : 0,
          this._adjustInstDate(t)
      }
    },
    _getDefaultDate: function (t) {
      return this._restrictMinMax(t, this._determineDate(t, this._get(t, "defaultDate"), new Date))
    },
    _determineDate: function (e, i, s) {
      var n = function (t) {
        var e = new Date;
        return e.setDate(e.getDate() + t),
          e
      }
        , o = function (i) {
          try {
            return t.datepicker.parseDate(t.datepicker._get(e, "dateFormat"), i, t.datepicker._getFormatConfig(e))
          } catch (s) { }
          for (var n = (i.toLowerCase().match(/^c/) ? t.datepicker._getDate(e) : null) || new Date, o = n.getFullYear(), a = n.getMonth(), r = n.getDate(), h = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g, l = h.exec(i); l;) {
            switch (l[2] || "d") {
              case "d":
              case "D":
                r += parseInt(l[1], 10);
                break;
              case "w":
              case "W":
                r += 7 * parseInt(l[1], 10);
                break;
              case "m":
              case "M":
                a += parseInt(l[1], 10),
                  r = Math.min(r, t.datepicker._getDaysInMonth(o, a));
                break;
              case "y":
              case "Y":
                o += parseInt(l[1], 10),
                  r = Math.min(r, t.datepicker._getDaysInMonth(o, a))
            }
            l = h.exec(i)
          }
          return new Date(o, a, r)
        }
        , a = null == i || "" === i ? s : "string" == typeof i ? o(i) : "number" == typeof i ? isNaN(i) ? s : n(i) : new Date(i.getTime());
      return a = a && "Invalid Date" == "" + a ? s : a,
        a && (a.setHours(0),
          a.setMinutes(0),
          a.setSeconds(0),
          a.setMilliseconds(0)),
        this._daylightSavingAdjust(a)
    },
    _daylightSavingAdjust: function (t) {
      return t ? (t.setHours(t.getHours() > 12 ? t.getHours() + 2 : 0),
        t) : null
    },
    _setDate: function (t, e, i) {
      var s = !e
        , n = t.selectedMonth
        , o = t.selectedYear
        , a = this._restrictMinMax(t, this._determineDate(t, e, new Date));
      t.selectedDay = t.currentDay = a.getDate(),
        t.drawMonth = t.selectedMonth = t.currentMonth = a.getMonth(),
        t.drawYear = t.selectedYear = t.currentYear = a.getFullYear(),
        n === t.selectedMonth && o === t.selectedYear || i || this._notifyChange(t),
        this._adjustInstDate(t),
        t.input && t.input.val(s ? "" : this._formatDate(t))
    },
    _getDate: function (t) {
      var e = !t.currentYear || t.input && "" === t.input.val() ? null : this._daylightSavingAdjust(new Date(t.currentYear, t.currentMonth, t.currentDay));
      return e
    },
    _attachHandlers: function (e) {
      var i = this._get(e, "stepMonths")
        , s = "#" + e.id.replace(/\\\\/g, "\\");
      e.dpDiv.find("[data-handler]").map(function () {
        var e = {
          prev: function () {
            t.datepicker._adjustDate(s, -i, "M")
          },
          next: function () {
            t.datepicker._adjustDate(s, +i, "M")
          },
          hide: function () {
            t.datepicker._hideDatepicker()
          },
          today: function () {
            t.datepicker._gotoToday(s)
          },
          selectDay: function () {
            return t.datepicker._selectDay(s, +this.getAttribute("data-month"), +this.getAttribute("data-year"), this),
              !1
          },
          selectMonth: function () {
            return t.datepicker._selectMonthYear(s, this, "M"),
              !1
          },
          selectYear: function () {
            return t.datepicker._selectMonthYear(s, this, "Y"),
              !1
          }
        };
        t(this).on(this.getAttribute("data-event"), e[this.getAttribute("data-handler")])
      })
    },
    _generateHTML: function (t) {
      var e, i, s, n, o, a, r, h, l, c, u, d, p, f, g, m, _, v, b, y, w, k, x, C, D, I, T, P, M, S, H, z, O, A, N, W, E, F, L, R = new Date, B = this._daylightSavingAdjust(new Date(R.getFullYear(), R.getMonth(), R.getDate())), Y = this._get(t, "isRTL"), j = this._get(t, "showButtonPanel"), q = this._get(t, "hideIfNoPrevNext"), K = this._get(t, "navigationAsDateFormat"), U = this._getNumberOfMonths(t), V = this._get(t, "showCurrentAtPos"), $ = this._get(t, "stepMonths"), X = 1 !== U[0] || 1 !== U[1], G = this._daylightSavingAdjust(t.currentDay ? new Date(t.currentYear, t.currentMonth, t.currentDay) : new Date(9999, 9, 9)), Q = this._getMinMaxDate(t, "min"), J = this._getMinMaxDate(t, "max"), Z = t.drawMonth - V, te = t.drawYear;
      if (0 > Z && (Z += 12,
        te--),
        J)
        for (e = this._daylightSavingAdjust(new Date(J.getFullYear(), J.getMonth() - U[0] * U[1] + 1, J.getDate())),
          e = Q && Q > e ? Q : e; this._daylightSavingAdjust(new Date(te, Z, 1)) > e;)
          Z--,
            0 > Z && (Z = 11,
              te--);
      for (t.drawMonth = Z,
        t.drawYear = te,
        i = this._get(t, "prevText"),
        i = K ? this.formatDate(i, this._daylightSavingAdjust(new Date(te, Z - $, 1)), this._getFormatConfig(t)) : i,
        s = this._canAdjustMonth(t, -1, te, Z) ? "<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='" + i + "'><span class='ui-icon ui-icon-circle-triangle-" + (Y ? "e" : "w") + "'>" + i + "</span></a>" : q ? "" : "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='" + i + "'><span class='ui-icon ui-icon-circle-triangle-" + (Y ? "e" : "w") + "'>" + i + "</span></a>",
        n = this._get(t, "nextText"),
        n = K ? this.formatDate(n, this._daylightSavingAdjust(new Date(te, Z + $, 1)), this._getFormatConfig(t)) : n,
        o = this._canAdjustMonth(t, 1, te, Z) ? "<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='" + n + "'><span class='ui-icon ui-icon-circle-triangle-" + (Y ? "w" : "e") + "'>" + n + "</span></a>" : q ? "" : "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='" + n + "'><span class='ui-icon ui-icon-circle-triangle-" + (Y ? "w" : "e") + "'>" + n + "</span></a>",
        a = this._get(t, "currentText"),
        r = this._get(t, "gotoCurrent") && t.currentDay ? G : B,
        a = K ? this.formatDate(a, r, this._getFormatConfig(t)) : a,
        h = t.inline ? "" : "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" + this._get(t, "closeText") + "</button>",
        l = j ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" + (Y ? h : "") + (this._isInRange(t, r) ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>" + a + "</button>" : "") + (Y ? "" : h) + "</div>" : "",
        c = parseInt(this._get(t, "firstDay"), 10),
        c = isNaN(c) ? 0 : c,
        u = this._get(t, "showWeek"),
        d = this._get(t, "dayNames"),
        p = this._get(t, "dayNamesMin"),
        f = this._get(t, "monthNames"),
        g = this._get(t, "monthNamesShort"),
        m = this._get(t, "beforeShowDay"),
        _ = this._get(t, "showOtherMonths"),
        v = this._get(t, "selectOtherMonths"),
        b = this._getDefaultDate(t),
        y = "",
        k = 0; U[0] > k; k++) {
        for (x = "",
          this.maxRows = 4,
          C = 0; U[1] > C; C++) {
          if (D = this._daylightSavingAdjust(new Date(te, Z, t.selectedDay)),
            I = " ui-corner-all",
            T = "",
            X) {
            if (T += "<div class='ui-datepicker-group",
              U[1] > 1)
              switch (C) {
                case 0:
                  T += " ui-datepicker-group-first",
                    I = " ui-corner-" + (Y ? "right" : "left");
                  break;
                case U[1] - 1:
                  T += " ui-datepicker-group-last",
                    I = " ui-corner-" + (Y ? "left" : "right");
                  break;
                default:
                  T += " ui-datepicker-group-middle",
                    I = ""
              }
            T += "'>"
          }
          for (T += "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" + I + "'>" + (/all|left/.test(I) && 0 === k ? Y ? o : s : "") + (/all|right/.test(I) && 0 === k ? Y ? s : o : "") + this._generateMonthYearHeader(t, Z, te, Q, J, k > 0 || C > 0, f, g) + "</div><table class='ui-datepicker-calendar'><thead>" + "<tr>",
            P = u ? "<th class='ui-datepicker-week-col'>" + this._get(t, "weekHeader") + "</th>" : "",
            w = 0; 7 > w; w++)
            M = (w + c) % 7,
              P += "<th scope='col'" + ((w + c + 6) % 7 >= 5 ? " class='ui-datepicker-week-end'" : "") + ">" + "<span title='" + d[M] + "'>" + p[M] + "</span></th>";
          for (T += P + "</tr></thead><tbody>",
            S = this._getDaysInMonth(te, Z),
            te === t.selectedYear && Z === t.selectedMonth && (t.selectedDay = Math.min(t.selectedDay, S)),
            H = (this._getFirstDayOfMonth(te, Z) - c + 7) % 7,
            z = Math.ceil((H + S) / 7),
            O = X ? this.maxRows > z ? this.maxRows : z : z,
            this.maxRows = O,
            A = this._daylightSavingAdjust(new Date(te, Z, 1 - H)),
            N = 0; O > N; N++) {
            for (T += "<tr>",
              W = u ? "<td class='ui-datepicker-week-col'>" + this._get(t, "calculateWeek")(A) + "</td>" : "",
              w = 0; 7 > w; w++)
              E = m ? m.apply(t.input ? t.input[0] : null, [A]) : [!0, ""],
                F = A.getMonth() !== Z,
                L = F && !v || !E[0] || Q && Q > A || J && A > J,
                W += "<td class='" + ((w + c + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") + (F ? " ui-datepicker-other-month" : "") + (A.getTime() === D.getTime() && Z === t.selectedMonth && t._keyEvent || b.getTime() === A.getTime() && b.getTime() === D.getTime() ? " " + this._dayOverClass : "") + (L ? " " + this._unselectableClass + " ui-state-disabled" : "") + (F && !_ ? "" : " " + E[1] + (A.getTime() === G.getTime() ? " " + this._currentClass : "") + (A.getTime() === B.getTime() ? " ui-datepicker-today" : "")) + "'" + (F && !_ || !E[2] ? "" : " title='" + E[2].replace(/'/g, "&#39;") + "'") + (L ? "" : " data-handler='selectDay' data-event='click' data-month='" + A.getMonth() + "' data-year='" + A.getFullYear() + "'") + ">" + (F && !_ ? "&#xa0;" : L ? "<span class='ui-state-default'>" + A.getDate() + "</span>" : "<a class='ui-state-default" + (A.getTime() === B.getTime() ? " ui-state-highlight" : "") + (A.getTime() === G.getTime() ? " ui-state-active" : "") + (F ? " ui-priority-secondary" : "") + "' href='#'>" + A.getDate() + "</a>") + "</td>",
                A.setDate(A.getDate() + 1),
                A = this._daylightSavingAdjust(A);
            T += W + "</tr>"
          }
          Z++,
            Z > 11 && (Z = 0,
              te++),
            T += "</tbody></table>" + (X ? "</div>" + (U[0] > 0 && C === U[1] - 1 ? "<div class='ui-datepicker-row-break'></div>" : "") : ""),
            x += T
        }
        y += x
      }
      return y += l,
        t._keyEvent = !1,
        y
    },
    _generateMonthYearHeader: function (t, e, i, s, n, o, a, r) {
      var h, l, c, u, d, p, f, g, m = this._get(t, "changeMonth"), _ = this._get(t, "changeYear"), v = this._get(t, "showMonthAfterYear"), b = "<div class='ui-datepicker-title'>", y = "";
      if (o || !m)
        y += "<span class='ui-datepicker-month'>" + a[e] + "</span>";
      else {
        for (h = s && s.getFullYear() === i,
          l = n && n.getFullYear() === i,
          y += "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",
          c = 0; 12 > c; c++)
          (!h || c >= s.getMonth()) && (!l || n.getMonth() >= c) && (y += "<option value='" + c + "'" + (c === e ? " selected='selected'" : "") + ">" + r[c] + "</option>");
        y += "</select>"
      }
      if (v || (b += y + (!o && m && _ ? "" : "&#xa0;")),
        !t.yearshtml)
        if (t.yearshtml = "",
          o || !_)
          b += "<span class='ui-datepicker-year'>" + i + "</span>";
        else {
          for (u = this._get(t, "yearRange").split(":"),
            d = (new Date).getFullYear(),
            p = function (t) {
              var e = t.match(/c[+\-].*/) ? i + parseInt(t.substring(1), 10) : t.match(/[+\-].*/) ? d + parseInt(t, 10) : parseInt(t, 10);
              return isNaN(e) ? d : e
            }
            ,
            f = p(u[0]),
            g = Math.max(f, p(u[1] || "")),
            f = s ? Math.max(f, s.getFullYear()) : f,
            g = n ? Math.min(g, n.getFullYear()) : g,
            t.yearshtml += "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>"; g >= f; f++)
            t.yearshtml += "<option value='" + f + "'" + (f === i ? " selected='selected'" : "") + ">" + f + "</option>";
          t.yearshtml += "</select>",
            b += t.yearshtml,
            t.yearshtml = null
        }
      return b += this._get(t, "yearSuffix"),
        v && (b += (!o && m && _ ? "" : "&#xa0;") + y),
        b += "</div>"
    },
    _adjustInstDate: function (t, e, i) {
      var s = t.selectedYear + ("Y" === i ? e : 0)
        , n = t.selectedMonth + ("M" === i ? e : 0)
        , o = Math.min(t.selectedDay, this._getDaysInMonth(s, n)) + ("D" === i ? e : 0)
        , a = this._restrictMinMax(t, this._daylightSavingAdjust(new Date(s, n, o)));
      t.selectedDay = a.getDate(),
        t.drawMonth = t.selectedMonth = a.getMonth(),
        t.drawYear = t.selectedYear = a.getFullYear(),
        ("M" === i || "Y" === i) && this._notifyChange(t)
    },
    _restrictMinMax: function (t, e) {
      var i = this._getMinMaxDate(t, "min")
        , s = this._getMinMaxDate(t, "max")
        , n = i && i > e ? i : e;
      return s && n > s ? s : n
    },
    _notifyChange: function (t) {
      var e = this._get(t, "onChangeMonthYear");
      e && e.apply(t.input ? t.input[0] : null, [t.selectedYear, t.selectedMonth + 1, t])
    },
    _getNumberOfMonths: function (t) {
      var e = this._get(t, "numberOfMonths");
      return null == e ? [1, 1] : "number" == typeof e ? [1, e] : e
    },
    _getMinMaxDate: function (t, e) {
      return this._determineDate(t, this._get(t, e + "Date"), null)
    },
    _getDaysInMonth: function (t, e) {
      return 32 - this._daylightSavingAdjust(new Date(t, e, 32)).getDate()
    },
    _getFirstDayOfMonth: function (t, e) {
      return new Date(t, e, 1).getDay()
    },
    _canAdjustMonth: function (t, e, i, s) {
      var n = this._getNumberOfMonths(t)
        , o = this._daylightSavingAdjust(new Date(i, s + (0 > e ? e : n[0] * n[1]), 1));
      return 0 > e && o.setDate(this._getDaysInMonth(o.getFullYear(), o.getMonth())),
        this._isInRange(t, o)
    },
    _isInRange: function (t, e) {
      var i, s, n = this._getMinMaxDate(t, "min"), o = this._getMinMaxDate(t, "max"), a = null, r = null, h = this._get(t, "yearRange");
      return h && (i = h.split(":"),
        s = (new Date).getFullYear(),
        a = parseInt(i[0], 10),
        r = parseInt(i[1], 10),
        i[0].match(/[+\-].*/) && (a += s),
        i[1].match(/[+\-].*/) && (r += s)),
        (!n || e.getTime() >= n.getTime()) && (!o || e.getTime() <= o.getTime()) && (!a || e.getFullYear() >= a) && (!r || r >= e.getFullYear())
    },
    _getFormatConfig: function (t) {
      var e = this._get(t, "shortYearCutoff");
      return e = "string" != typeof e ? e : (new Date).getFullYear() % 100 + parseInt(e, 10),
      {
        shortYearCutoff: e,
        dayNamesShort: this._get(t, "dayNamesShort"),
        dayNames: this._get(t, "dayNames"),
        monthNamesShort: this._get(t, "monthNamesShort"),
        monthNames: this._get(t, "monthNames")
      }
    },
    _formatDate: function (t, e, i, s) {
      e || (t.currentDay = t.selectedDay,
        t.currentMonth = t.selectedMonth,
        t.currentYear = t.selectedYear);
      var n = e ? "object" == typeof e ? e : this._daylightSavingAdjust(new Date(s, i, e)) : this._daylightSavingAdjust(new Date(t.currentYear, t.currentMonth, t.currentDay));
      return this.formatDate(this._get(t, "dateFormat"), n, this._getFormatConfig(t))
    }
  }),
    t.fn.datepicker = function (e) {
      if (!this.length)
        return this;
      t.datepicker.initialized || (t(document).on("mousedown", t.datepicker._checkExternalClick),
        t.datepicker.initialized = !0),
        0 === t("#" + t.datepicker._mainDivId).length && t("body").append(t.datepicker.dpDiv);
      var i = Array.prototype.slice.call(arguments, 1);
      return "string" != typeof e || "isDisabled" !== e && "getDate" !== e && "widget" !== e ? "option" === e && 2 === arguments.length && "string" == typeof arguments[1] ? t.datepicker["_" + e + "Datepicker"].apply(t.datepicker, [this[0]].concat(i)) : this.each(function () {
        "string" == typeof e ? t.datepicker["_" + e + "Datepicker"].apply(t.datepicker, [this].concat(i)) : t.datepicker._attachDatepicker(this, e)
      }) : t.datepicker["_" + e + "Datepicker"].apply(t.datepicker, [this[0]].concat(i))
    }
    ,
    t.datepicker = new s,
    t.datepicker.initialized = !1,
    t.datepicker.uuid = (new Date).getTime(),
    t.datepicker.version = "1.12.1",
    t.datepicker,
    t.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());
  var _ = !1;
  t(document).on("mouseup", function () {
    _ = !1
  }),
    t.widget("ui.mouse", {
      version: "1.12.1",
      options: {
        cancel: "input, textarea, button, select, option",
        distance: 1,
        delay: 0
      },
      _mouseInit: function () {
        var e = this;
        this.element.on("mousedown." + this.widgetName, function (t) {
          return e._mouseDown(t)
        }).on("click." + this.widgetName, function (i) {
          return !0 === t.data(i.target, e.widgetName + ".preventClickEvent") ? (t.removeData(i.target, e.widgetName + ".preventClickEvent"),
            i.stopImmediatePropagation(),
            !1) : void 0
        }),
          this.started = !1
      },
      _mouseDestroy: function () {
        this.element.off("." + this.widgetName),
          this._mouseMoveDelegate && this.document.off("mousemove." + this.widgetName, this._mouseMoveDelegate).off("mouseup." + this.widgetName, this._mouseUpDelegate)
      },
      _mouseDown: function (e) {
        if (!_) {
          this._mouseMoved = !1,
            this._mouseStarted && this._mouseUp(e),
            this._mouseDownEvent = e;
          var i = this
            , s = 1 === e.which
            , n = "string" == typeof this.options.cancel && e.target.nodeName ? t(e.target).closest(this.options.cancel).length : !1;
          return s && !n && this._mouseCapture(e) ? (this.mouseDelayMet = !this.options.delay,
            this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function () {
              i.mouseDelayMet = !0
            }, this.options.delay)),
            this._mouseDistanceMet(e) && this._mouseDelayMet(e) && (this._mouseStarted = this._mouseStart(e) !== !1,
              !this._mouseStarted) ? (e.preventDefault(),
                !0) : (!0 === t.data(e.target, this.widgetName + ".preventClickEvent") && t.removeData(e.target, this.widgetName + ".preventClickEvent"),
                  this._mouseMoveDelegate = function (t) {
                    return i._mouseMove(t)
                  }
                  ,
                  this._mouseUpDelegate = function (t) {
                    return i._mouseUp(t)
                  }
                  ,
                  this.document.on("mousemove." + this.widgetName, this._mouseMoveDelegate).on("mouseup." + this.widgetName, this._mouseUpDelegate),
                  e.preventDefault(),
                  _ = !0,
                  !0)) : !0
        }
      },
      _mouseMove: function (e) {
        if (this._mouseMoved) {
          if (t.ui.ie && (!document.documentMode || 9 > document.documentMode) && !e.button)
            return this._mouseUp(e);
          if (!e.which)
            if (e.originalEvent.altKey || e.originalEvent.ctrlKey || e.originalEvent.metaKey || e.originalEvent.shiftKey)
              this.ignoreMissingWhich = !0;
            else if (!this.ignoreMissingWhich)
              return this._mouseUp(e)
        }
        return (e.which || e.button) && (this._mouseMoved = !0),
          this._mouseStarted ? (this._mouseDrag(e),
            e.preventDefault()) : (this._mouseDistanceMet(e) && this._mouseDelayMet(e) && (this._mouseStarted = this._mouseStart(this._mouseDownEvent, e) !== !1,
              this._mouseStarted ? this._mouseDrag(e) : this._mouseUp(e)),
              !this._mouseStarted)
      },
      _mouseUp: function (e) {
        this.document.off("mousemove." + this.widgetName, this._mouseMoveDelegate).off("mouseup." + this.widgetName, this._mouseUpDelegate),
          this._mouseStarted && (this._mouseStarted = !1,
            e.target === this._mouseDownEvent.target && t.data(e.target, this.widgetName + ".preventClickEvent", !0),
            this._mouseStop(e)),
          this._mouseDelayTimer && (clearTimeout(this._mouseDelayTimer),
            delete this._mouseDelayTimer),
          this.ignoreMissingWhich = !1,
          _ = !1,
          e.preventDefault()
      },
      _mouseDistanceMet: function (t) {
        return Math.max(Math.abs(this._mouseDownEvent.pageX - t.pageX), Math.abs(this._mouseDownEvent.pageY - t.pageY)) >= this.options.distance
      },
      _mouseDelayMet: function () {
        return this.mouseDelayMet
      },
      _mouseStart: function () { },
      _mouseDrag: function () { },
      _mouseStop: function () { },
      _mouseCapture: function () {
        return !0
      }
    }),
    t.ui.plugin = {
      add: function (e, i, s) {
        var n, o = t.ui[e].prototype;
        for (n in s)
          o.plugins[n] = o.plugins[n] || [],
            o.plugins[n].push([i, s[n]])
      },
      call: function (t, e, i, s) {
        var n, o = t.plugins[e];
        if (o && (s || t.element[0].parentNode && 11 !== t.element[0].parentNode.nodeType))
          for (n = 0; o.length > n; n++)
            t.options[o[n][0]] && o[n][1].apply(t.element, i)
      }
    },
    t.ui.safeBlur = function (e) {
      e && "body" !== e.nodeName.toLowerCase() && t(e).trigger("blur")
    }
    ,
    t.widget("ui.draggable", t.ui.mouse, {
      version: "1.12.1",
      widgetEventPrefix: "drag",
      options: {
        addClasses: !0,
        appendTo: "parent",
        axis: !1,
        connectToSortable: !1,
        containment: !1,
        cursor: "auto",
        cursorAt: !1,
        grid: !1,
        handle: !1,
        helper: "original",
        iframeFix: !1,
        opacity: !1,
        refreshPositions: !1,
        revert: !1,
        revertDuration: 500,
        scope: "default",
        scroll: !0,
        scrollSensitivity: 20,
        scrollSpeed: 20,
        snap: !1,
        snapMode: "both",
        snapTolerance: 20,
        stack: !1,
        zIndex: !1,
        drag: null,
        start: null,
        stop: null
      },
      _create: function () {
        "original" === this.options.helper && this._setPositionRelative(),
          this.options.addClasses && this._addClass("ui-draggable"),
          this._setHandleClassName(),
          this._mouseInit()
      },
      _setOption: function (t, e) {
        this._super(t, e),
          "handle" === t && (this._removeHandleClassName(),
            this._setHandleClassName())
      },
      _destroy: function () {
        return (this.helper || this.element).is(".ui-draggable-dragging") ? (this.destroyOnClear = !0,
          void 0) : (this._removeHandleClassName(),
            this._mouseDestroy(),
            void 0)
      },
      _mouseCapture: function (e) {
        var i = this.options;
        return this.helper || i.disabled || t(e.target).closest(".ui-resizable-handle").length > 0 ? !1 : (this.handle = this._getHandle(e),
          this.handle ? (this._blurActiveElement(e),
            this._blockFrames(i.iframeFix === !0 ? "iframe" : i.iframeFix),
            !0) : !1)
      },
      _blockFrames: function (e) {
        this.iframeBlocks = this.document.find(e).map(function () {
          var e = t(this);
          return t("<div>").css("position", "absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]
        })
      },
      _unblockFrames: function () {
        this.iframeBlocks && (this.iframeBlocks.remove(),
          delete this.iframeBlocks)
      },
      _blurActiveElement: function (e) {
        var i = t.ui.safeActiveElement(this.document[0])
          , s = t(e.target);
        s.closest(i).length || t.ui.safeBlur(i)
      },
      _mouseStart: function (e) {
        var i = this.options;
        return this.helper = this._createHelper(e),
          this._addClass(this.helper, "ui-draggable-dragging"),
          this._cacheHelperProportions(),
          t.ui.ddmanager && (t.ui.ddmanager.current = this),
          this._cacheMargins(),
          this.cssPosition = this.helper.css("position"),
          this.scrollParent = this.helper.scrollParent(!0),
          this.offsetParent = this.helper.offsetParent(),
          this.hasFixedAncestor = this.helper.parents().filter(function () {
            return "fixed" === t(this).css("position")
          }).length > 0,
          this.positionAbs = this.element.offset(),
          this._refreshOffsets(e),
          this.originalPosition = this.position = this._generatePosition(e, !1),
          this.originalPageX = e.pageX,
          this.originalPageY = e.pageY,
          i.cursorAt && this._adjustOffsetFromHelper(i.cursorAt),
          this._setContainment(),
          this._trigger("start", e) === !1 ? (this._clear(),
            !1) : (this._cacheHelperProportions(),
              t.ui.ddmanager && !i.dropBehaviour && t.ui.ddmanager.prepareOffsets(this, e),
              this._mouseDrag(e, !0),
              t.ui.ddmanager && t.ui.ddmanager.dragStart(this, e),
              !0)
      },
      _refreshOffsets: function (t) {
        this.offset = {
          top: this.positionAbs.top - this.margins.top,
          left: this.positionAbs.left - this.margins.left,
          scroll: !1,
          parent: this._getParentOffset(),
          relative: this._getRelativeOffset()
        },
          this.offset.click = {
            left: t.pageX - this.offset.left,
            top: t.pageY - this.offset.top
          }
      },
      _mouseDrag: function (e, i) {
        if (this.hasFixedAncestor && (this.offset.parent = this._getParentOffset()),
          this.position = this._generatePosition(e, !0),
          this.positionAbs = this._convertPositionTo("absolute"),
          !i) {
          var s = this._uiHash();
          if (this._trigger("drag", e, s) === !1)
            return this._mouseUp(new t.Event("mouseup", e)),
              !1;
          this.position = s.position
        }
        return this.helper[0].style.left = this.position.left + "px",
          this.helper[0].style.top = this.position.top + "px",
          t.ui.ddmanager && t.ui.ddmanager.drag(this, e),
          !1
      },
      _mouseStop: function (e) {
        var i = this
          , s = !1;
        return t.ui.ddmanager && !this.options.dropBehaviour && (s = t.ui.ddmanager.drop(this, e)),
          this.dropped && (s = this.dropped,
            this.dropped = !1),
          "invalid" === this.options.revert && !s || "valid" === this.options.revert && s || this.options.revert === !0 || t.isFunction(this.options.revert) && this.options.revert.call(this.element, s) ? t(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function () {
            i._trigger("stop", e) !== !1 && i._clear()
          }) : this._trigger("stop", e) !== !1 && this._clear(),
          !1
      },
      _mouseUp: function (e) {
        return this._unblockFrames(),
          t.ui.ddmanager && t.ui.ddmanager.dragStop(this, e),
          this.handleElement.is(e.target) && this.element.trigger("focus"),
          t.ui.mouse.prototype._mouseUp.call(this, e)
      },
      cancel: function () {
        return this.helper.is(".ui-draggable-dragging") ? this._mouseUp(new t.Event("mouseup", {
          target: this.element[0]
        })) : this._clear(),
          this
      },
      _getHandle: function (e) {
        return this.options.handle ? !!t(e.target).closest(this.element.find(this.options.handle)).length : !0
      },
      _setHandleClassName: function () {
        this.handleElement = this.options.handle ? this.element.find(this.options.handle) : this.element,
          this._addClass(this.handleElement, "ui-draggable-handle")
      },
      _removeHandleClassName: function () {
        this._removeClass(this.handleElement, "ui-draggable-handle")
      },
      _createHelper: function (e) {
        var i = this.options
          , s = t.isFunction(i.helper)
          , n = s ? t(i.helper.apply(this.element[0], [e])) : "clone" === i.helper ? this.element.clone().removeAttr("id") : this.element;
        return n.parents("body").length || n.appendTo("parent" === i.appendTo ? this.element[0].parentNode : i.appendTo),
          s && n[0] === this.element[0] && this._setPositionRelative(),
          n[0] === this.element[0] || /(fixed|absolute)/.test(n.css("position")) || n.css("position", "absolute"),
          n
      },
      _setPositionRelative: function () {
        /^(?:r|a|f)/.test(this.element.css("position")) || (this.element[0].style.position = "relative")
      },
      _adjustOffsetFromHelper: function (e) {
        "string" == typeof e && (e = e.split(" ")),
          t.isArray(e) && (e = {
            left: +e[0],
            top: +e[1] || 0
          }),
          "left" in e && (this.offset.click.left = e.left + this.margins.left),
          "right" in e && (this.offset.click.left = this.helperProportions.width - e.right + this.margins.left),
          "top" in e && (this.offset.click.top = e.top + this.margins.top),
          "bottom" in e && (this.offset.click.top = this.helperProportions.height - e.bottom + this.margins.top)
      },
      _isRootNode: function (t) {
        return /(html|body)/i.test(t.tagName) || t === this.document[0]
      },
      _getParentOffset: function () {
        var e = this.offsetParent.offset()
          , i = this.document[0];
        return "absolute" === this.cssPosition && this.scrollParent[0] !== i && t.contains(this.scrollParent[0], this.offsetParent[0]) && (e.left += this.scrollParent.scrollLeft(),
          e.top += this.scrollParent.scrollTop()),
          this._isRootNode(this.offsetParent[0]) && (e = {
            top: 0,
            left: 0
          }),
        {
          top: e.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
          left: e.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
        }
      },
      _getRelativeOffset: function () {
        if ("relative" !== this.cssPosition)
          return {
            top: 0,
            left: 0
          };
        var t = this.element.position()
          , e = this._isRootNode(this.scrollParent[0]);
        return {
          top: t.top - (parseInt(this.helper.css("top"), 10) || 0) + (e ? 0 : this.scrollParent.scrollTop()),
          left: t.left - (parseInt(this.helper.css("left"), 10) || 0) + (e ? 0 : this.scrollParent.scrollLeft())
        }
      },
      _cacheMargins: function () {
        this.margins = {
          left: parseInt(this.element.css("marginLeft"), 10) || 0,
          top: parseInt(this.element.css("marginTop"), 10) || 0,
          right: parseInt(this.element.css("marginRight"), 10) || 0,
          bottom: parseInt(this.element.css("marginBottom"), 10) || 0
        }
      },
      _cacheHelperProportions: function () {
        this.helperProportions = {
          width: this.helper.outerWidth(),
          height: this.helper.outerHeight()
        }
      },
      _setContainment: function () {
        var e, i, s, n = this.options, o = this.document[0];
        return this.relativeContainer = null,
          n.containment ? "window" === n.containment ? (this.containment = [t(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, t(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, t(window).scrollLeft() + t(window).width() - this.helperProportions.width - this.margins.left, t(window).scrollTop() + (t(window).height() || o.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top],
            void 0) : "document" === n.containment ? (this.containment = [0, 0, t(o).width() - this.helperProportions.width - this.margins.left, (t(o).height() || o.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top],
              void 0) : n.containment.constructor === Array ? (this.containment = n.containment,
                void 0) : ("parent" === n.containment && (n.containment = this.helper[0].parentNode),
                  i = t(n.containment),
                  s = i[0],
                  s && (e = /(scroll|auto)/.test(i.css("overflow")),
                    this.containment = [(parseInt(i.css("borderLeftWidth"), 10) || 0) + (parseInt(i.css("paddingLeft"), 10) || 0), (parseInt(i.css("borderTopWidth"), 10) || 0) + (parseInt(i.css("paddingTop"), 10) || 0), (e ? Math.max(s.scrollWidth, s.offsetWidth) : s.offsetWidth) - (parseInt(i.css("borderRightWidth"), 10) || 0) - (parseInt(i.css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (e ? Math.max(s.scrollHeight, s.offsetHeight) : s.offsetHeight) - (parseInt(i.css("borderBottomWidth"), 10) || 0) - (parseInt(i.css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom],
                    this.relativeContainer = i),
                  void 0) : (this.containment = null,
                    void 0)
      },
      _convertPositionTo: function (t, e) {
        e || (e = this.position);
        var i = "absolute" === t ? 1 : -1
          , s = this._isRootNode(this.scrollParent[0]);
        return {
          top: e.top + this.offset.relative.top * i + this.offset.parent.top * i - ("fixed" === this.cssPosition ? -this.offset.scroll.top : s ? 0 : this.offset.scroll.top) * i,
          left: e.left + this.offset.relative.left * i + this.offset.parent.left * i - ("fixed" === this.cssPosition ? -this.offset.scroll.left : s ? 0 : this.offset.scroll.left) * i
        }
      },
      _generatePosition: function (t, e) {
        var i, s, n, o, a = this.options, r = this._isRootNode(this.scrollParent[0]), h = t.pageX, l = t.pageY;
        return r && this.offset.scroll || (this.offset.scroll = {
          top: this.scrollParent.scrollTop(),
          left: this.scrollParent.scrollLeft()
        }),
          e && (this.containment && (this.relativeContainer ? (s = this.relativeContainer.offset(),
            i = [this.containment[0] + s.left, this.containment[1] + s.top, this.containment[2] + s.left, this.containment[3] + s.top]) : i = this.containment,
            t.pageX - this.offset.click.left < i[0] && (h = i[0] + this.offset.click.left),
            t.pageY - this.offset.click.top < i[1] && (l = i[1] + this.offset.click.top),
            t.pageX - this.offset.click.left > i[2] && (h = i[2] + this.offset.click.left),
            t.pageY - this.offset.click.top > i[3] && (l = i[3] + this.offset.click.top)),
            a.grid && (n = a.grid[1] ? this.originalPageY + Math.round((l - this.originalPageY) / a.grid[1]) * a.grid[1] : this.originalPageY,
              l = i ? n - this.offset.click.top >= i[1] || n - this.offset.click.top > i[3] ? n : n - this.offset.click.top >= i[1] ? n - a.grid[1] : n + a.grid[1] : n,
              o = a.grid[0] ? this.originalPageX + Math.round((h - this.originalPageX) / a.grid[0]) * a.grid[0] : this.originalPageX,
              h = i ? o - this.offset.click.left >= i[0] || o - this.offset.click.left > i[2] ? o : o - this.offset.click.left >= i[0] ? o - a.grid[0] : o + a.grid[0] : o),
            "y" === a.axis && (h = this.originalPageX),
            "x" === a.axis && (l = this.originalPageY)),
        {
          top: l - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.offset.scroll.top : r ? 0 : this.offset.scroll.top),
          left: h - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.offset.scroll.left : r ? 0 : this.offset.scroll.left)
        }
      },
      _clear: function () {
        this._removeClass(this.helper, "ui-draggable-dragging"),
          this.helper[0] === this.element[0] || this.cancelHelperRemoval || this.helper.remove(),
          this.helper = null,
          this.cancelHelperRemoval = !1,
          this.destroyOnClear && this.destroy()
      },
      _trigger: function (e, i, s) {
        return s = s || this._uiHash(),
          t.ui.plugin.call(this, e, [i, s, this], !0),
          /^(drag|start|stop)/.test(e) && (this.positionAbs = this._convertPositionTo("absolute"),
            s.offset = this.positionAbs),
          t.Widget.prototype._trigger.call(this, e, i, s)
      },
      plugins: {},
      _uiHash: function () {
        return {
          helper: this.helper,
          position: this.position,
          originalPosition: this.originalPosition,
          offset: this.positionAbs
        }
      }
    }),
    t.ui.plugin.add("draggable", "connectToSortable", {
      start: function (e, i, s) {
        var n = t.extend({}, i, {
          item: s.element
        });
        s.sortables = [],
          t(s.options.connectToSortable).each(function () {
            var i = t(this).sortable("instance");
            i && !i.options.disabled && (s.sortables.push(i),
              i.refreshPositions(),
              i._trigger("activate", e, n))
          })
      },
      stop: function (e, i, s) {
        var n = t.extend({}, i, {
          item: s.element
        });
        s.cancelHelperRemoval = !1,
          t.each(s.sortables, function () {
            var t = this;
            t.isOver ? (t.isOver = 0,
              s.cancelHelperRemoval = !0,
              t.cancelHelperRemoval = !1,
              t._storedCSS = {
                position: t.placeholder.css("position"),
                top: t.placeholder.css("top"),
                left: t.placeholder.css("left")
              },
              t._mouseStop(e),
              t.options.helper = t.options._helper) : (t.cancelHelperRemoval = !0,
                t._trigger("deactivate", e, n))
          })
      },
      drag: function (e, i, s) {
        t.each(s.sortables, function () {
          var n = !1
            , o = this;
          o.positionAbs = s.positionAbs,
            o.helperProportions = s.helperProportions,
            o.offset.click = s.offset.click,
            o._intersectsWith(o.containerCache) && (n = !0,
              t.each(s.sortables, function () {
                return this.positionAbs = s.positionAbs,
                  this.helperProportions = s.helperProportions,
                  this.offset.click = s.offset.click,
                  this !== o && this._intersectsWith(this.containerCache) && t.contains(o.element[0], this.element[0]) && (n = !1),
                  n
              })),
            n ? (o.isOver || (o.isOver = 1,
              s._parent = i.helper.parent(),
              o.currentItem = i.helper.appendTo(o.element).data("ui-sortable-item", !0),
              o.options._helper = o.options.helper,
              o.options.helper = function () {
                return i.helper[0]
              }
              ,
              e.target = o.currentItem[0],
              o._mouseCapture(e, !0),
              o._mouseStart(e, !0, !0),
              o.offset.click.top = s.offset.click.top,
              o.offset.click.left = s.offset.click.left,
              o.offset.parent.left -= s.offset.parent.left - o.offset.parent.left,
              o.offset.parent.top -= s.offset.parent.top - o.offset.parent.top,
              s._trigger("toSortable", e),
              s.dropped = o.element,
              t.each(s.sortables, function () {
                this.refreshPositions()
              }),
              s.currentItem = s.element,
              o.fromOutside = s),
              o.currentItem && (o._mouseDrag(e),
                i.position = o.position)) : o.isOver && (o.isOver = 0,
                  o.cancelHelperRemoval = !0,
                  o.options._revert = o.options.revert,
                  o.options.revert = !1,
                  o._trigger("out", e, o._uiHash(o)),
                  o._mouseStop(e, !0),
                  o.options.revert = o.options._revert,
                  o.options.helper = o.options._helper,
                  o.placeholder && o.placeholder.remove(),
                  i.helper.appendTo(s._parent),
                  s._refreshOffsets(e),
                  i.position = s._generatePosition(e, !0),
                  s._trigger("fromSortable", e),
                  s.dropped = !1,
                  t.each(s.sortables, function () {
                    this.refreshPositions()
                  }))
        })
      }
    }),
    t.ui.plugin.add("draggable", "cursor", {
      start: function (e, i, s) {
        var n = t("body")
          , o = s.options;
        n.css("cursor") && (o._cursor = n.css("cursor")),
          n.css("cursor", o.cursor)
      },
      stop: function (e, i, s) {
        var n = s.options;
        n._cursor && t("body").css("cursor", n._cursor)
      }
    }),
    t.ui.plugin.add("draggable", "opacity", {
      start: function (e, i, s) {
        var n = t(i.helper)
          , o = s.options;
        n.css("opacity") && (o._opacity = n.css("opacity")),
          n.css("opacity", o.opacity)
      },
      stop: function (e, i, s) {
        var n = s.options;
        n._opacity && t(i.helper).css("opacity", n._opacity)
      }
    }),
    t.ui.plugin.add("draggable", "scroll", {
      start: function (t, e, i) {
        i.scrollParentNotHidden || (i.scrollParentNotHidden = i.helper.scrollParent(!1)),
          i.scrollParentNotHidden[0] !== i.document[0] && "HTML" !== i.scrollParentNotHidden[0].tagName && (i.overflowOffset = i.scrollParentNotHidden.offset())
      },
      drag: function (e, i, s) {
        var n = s.options
          , o = !1
          , a = s.scrollParentNotHidden[0]
          , r = s.document[0];
        a !== r && "HTML" !== a.tagName ? (n.axis && "x" === n.axis || (s.overflowOffset.top + a.offsetHeight - e.pageY < n.scrollSensitivity ? a.scrollTop = o = a.scrollTop + n.scrollSpeed : e.pageY - s.overflowOffset.top < n.scrollSensitivity && (a.scrollTop = o = a.scrollTop - n.scrollSpeed)),
          n.axis && "y" === n.axis || (s.overflowOffset.left + a.offsetWidth - e.pageX < n.scrollSensitivity ? a.scrollLeft = o = a.scrollLeft + n.scrollSpeed : e.pageX - s.overflowOffset.left < n.scrollSensitivity && (a.scrollLeft = o = a.scrollLeft - n.scrollSpeed))) : (n.axis && "x" === n.axis || (e.pageY - t(r).scrollTop() < n.scrollSensitivity ? o = t(r).scrollTop(t(r).scrollTop() - n.scrollSpeed) : t(window).height() - (e.pageY - t(r).scrollTop()) < n.scrollSensitivity && (o = t(r).scrollTop(t(r).scrollTop() + n.scrollSpeed))),
            n.axis && "y" === n.axis || (e.pageX - t(r).scrollLeft() < n.scrollSensitivity ? o = t(r).scrollLeft(t(r).scrollLeft() - n.scrollSpeed) : t(window).width() - (e.pageX - t(r).scrollLeft()) < n.scrollSensitivity && (o = t(r).scrollLeft(t(r).scrollLeft() + n.scrollSpeed)))),
          o !== !1 && t.ui.ddmanager && !n.dropBehaviour && t.ui.ddmanager.prepareOffsets(s, e)
      }
    }),
    t.ui.plugin.add("draggable", "snap", {
      start: function (e, i, s) {
        var n = s.options;
        s.snapElements = [],
          t(n.snap.constructor !== String ? n.snap.items || ":data(ui-draggable)" : n.snap).each(function () {
            var e = t(this)
              , i = e.offset();
            this !== s.element[0] && s.snapElements.push({
              item: this,
              width: e.outerWidth(),
              height: e.outerHeight(),
              top: i.top,
              left: i.left
            })
          })
      },
      drag: function (e, i, s) {
        var n, o, a, r, h, l, c, u, d, p, f = s.options, g = f.snapTolerance, m = i.offset.left, _ = m + s.helperProportions.width, v = i.offset.top, b = v + s.helperProportions.height;
        for (d = s.snapElements.length - 1; d >= 0; d--)
          h = s.snapElements[d].left - s.margins.left,
            l = h + s.snapElements[d].width,
            c = s.snapElements[d].top - s.margins.top,
            u = c + s.snapElements[d].height,
            h - g > _ || m > l + g || c - g > b || v > u + g || !t.contains(s.snapElements[d].item.ownerDocument, s.snapElements[d].item) ? (s.snapElements[d].snapping && s.options.snap.release && s.options.snap.release.call(s.element, e, t.extend(s._uiHash(), {
              snapItem: s.snapElements[d].item
            })),
              s.snapElements[d].snapping = !1) : ("inner" !== f.snapMode && (n = g >= Math.abs(c - b),
                o = g >= Math.abs(u - v),
                a = g >= Math.abs(h - _),
                r = g >= Math.abs(l - m),
                n && (i.position.top = s._convertPositionTo("relative", {
                  top: c - s.helperProportions.height,
                  left: 0
                }).top),
                o && (i.position.top = s._convertPositionTo("relative", {
                  top: u,
                  left: 0
                }).top),
                a && (i.position.left = s._convertPositionTo("relative", {
                  top: 0,
                  left: h - s.helperProportions.width
                }).left),
                r && (i.position.left = s._convertPositionTo("relative", {
                  top: 0,
                  left: l
                }).left)),
                p = n || o || a || r,
                "outer" !== f.snapMode && (n = g >= Math.abs(c - v),
                  o = g >= Math.abs(u - b),
                  a = g >= Math.abs(h - m),
                  r = g >= Math.abs(l - _),
                  n && (i.position.top = s._convertPositionTo("relative", {
                    top: c,
                    left: 0
                  }).top),
                  o && (i.position.top = s._convertPositionTo("relative", {
                    top: u - s.helperProportions.height,
                    left: 0
                  }).top),
                  a && (i.position.left = s._convertPositionTo("relative", {
                    top: 0,
                    left: h
                  }).left),
                  r && (i.position.left = s._convertPositionTo("relative", {
                    top: 0,
                    left: l - s.helperProportions.width
                  }).left)),
                !s.snapElements[d].snapping && (n || o || a || r || p) && s.options.snap.snap && s.options.snap.snap.call(s.element, e, t.extend(s._uiHash(), {
                  snapItem: s.snapElements[d].item
                })),
                s.snapElements[d].snapping = n || o || a || r || p)
      }
    }),
    t.ui.plugin.add("draggable", "stack", {
      start: function (e, i, s) {
        var n, o = s.options, a = t.makeArray(t(o.stack)).sort(function (e, i) {
          return (parseInt(t(e).css("zIndex"), 10) || 0) - (parseInt(t(i).css("zIndex"), 10) || 0)
        });
        a.length && (n = parseInt(t(a[0]).css("zIndex"), 10) || 0,
          t(a).each(function (e) {
            t(this).css("zIndex", n + e)
          }),
          this.css("zIndex", n + a.length))
      }
    }),
    t.ui.plugin.add("draggable", "zIndex", {
      start: function (e, i, s) {
        var n = t(i.helper)
          , o = s.options;
        n.css("zIndex") && (o._zIndex = n.css("zIndex")),
          n.css("zIndex", o.zIndex)
      },
      stop: function (e, i, s) {
        var n = s.options;
        n._zIndex && t(i.helper).css("zIndex", n._zIndex)
      }
    }),
    t.ui.draggable,
    t.widget("ui.resizable", t.ui.mouse, {
      version: "1.12.1",
      widgetEventPrefix: "resize",
      options: {
        alsoResize: !1,
        animate: !1,
        animateDuration: "slow",
        animateEasing: "swing",
        aspectRatio: !1,
        autoHide: !1,
        classes: {
          "ui-resizable-se": "ui-icon ui-icon-gripsmall-diagonal-se"
        },
        containment: !1,
        ghost: !1,
        grid: !1,
        handles: "e,s,se",
        helper: !1,
        maxHeight: null,
        maxWidth: null,
        minHeight: 10,
        minWidth: 10,
        zIndex: 90,
        resize: null,
        start: null,
        stop: null
      },
      _num: function (t) {
        return parseFloat(t) || 0
      },
      _isNumber: function (t) {
        return !isNaN(parseFloat(t))
      },
      _hasScroll: function (e, i) {
        if ("hidden" === t(e).css("overflow"))
          return !1;
        var s = i && "left" === i ? "scrollLeft" : "scrollTop"
          , n = !1;
        return e[s] > 0 ? !0 : (e[s] = 1,
          n = e[s] > 0,
          e[s] = 0,
          n)
      },
      _create: function () {
        var e, i = this.options, s = this;
        this._addClass("ui-resizable"),
          t.extend(this, {
            _aspectRatio: !!i.aspectRatio,
            aspectRatio: i.aspectRatio,
            originalElement: this.element,
            _proportionallyResizeElements: [],
            _helper: i.helper || i.ghost || i.animate ? i.helper || "ui-resizable-helper" : null
          }),
          this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i) && (this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({
            position: this.element.css("position"),
            width: this.element.outerWidth(),
            height: this.element.outerHeight(),
            top: this.element.css("top"),
            left: this.element.css("left")
          })),
            this.element = this.element.parent().data("ui-resizable", this.element.resizable("instance")),
            this.elementIsWrapper = !0,
            e = {
              marginTop: this.originalElement.css("marginTop"),
              marginRight: this.originalElement.css("marginRight"),
              marginBottom: this.originalElement.css("marginBottom"),
              marginLeft: this.originalElement.css("marginLeft")
            },
            this.element.css(e),
            this.originalElement.css("margin", 0),
            this.originalResizeStyle = this.originalElement.css("resize"),
            this.originalElement.css("resize", "none"),
            this._proportionallyResizeElements.push(this.originalElement.css({
              position: "static",
              zoom: 1,
              display: "block"
            })),
            this.originalElement.css(e),
            this._proportionallyResize()),
          this._setupHandles(),
          i.autoHide && t(this.element).on("mouseenter", function () {
            i.disabled || (s._removeClass("ui-resizable-autohide"),
              s._handles.show())
          }).on("mouseleave", function () {
            i.disabled || s.resizing || (s._addClass("ui-resizable-autohide"),
              s._handles.hide())
          }),
          this._mouseInit()
      },
      _destroy: function () {
        this._mouseDestroy();
        var e, i = function (e) {
          t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()
        };
        return this.elementIsWrapper && (i(this.element),
          e = this.element,
          this.originalElement.css({
            position: e.css("position"),
            width: e.outerWidth(),
            height: e.outerHeight(),
            top: e.css("top"),
            left: e.css("left")
          }).insertAfter(e),
          e.remove()),
          this.originalElement.css("resize", this.originalResizeStyle),
          i(this.originalElement),
          this
      },
      _setOption: function (t, e) {
        switch (this._super(t, e),
        t) {
          case "handles":
            this._removeHandles(),
              this._setupHandles();
            break;
          default:
        }
      },
      _setupHandles: function () {
        var e, i, s, n, o, a = this.options, r = this;
        if (this.handles = a.handles || (t(".ui-resizable-handle", this.element).length ? {
          n: ".ui-resizable-n",
          e: ".ui-resizable-e",
          s: ".ui-resizable-s",
          w: ".ui-resizable-w",
          se: ".ui-resizable-se",
          sw: ".ui-resizable-sw",
          ne: ".ui-resizable-ne",
          nw: ".ui-resizable-nw"
        } : "e,s,se"),
          this._handles = t(),
          this.handles.constructor === String)
          for ("all" === this.handles && (this.handles = "n,e,s,w,se,sw,ne,nw"),
            s = this.handles.split(","),
            this.handles = {},
            i = 0; s.length > i; i++)
            e = t.trim(s[i]),
              n = "ui-resizable-" + e,
              o = t("<div>"),
              this._addClass(o, "ui-resizable-handle " + n),
              o.css({
                zIndex: a.zIndex
              }),
              this.handles[e] = ".ui-resizable-" + e,
              this.element.append(o);
        this._renderAxis = function (e) {
          var i, s, n, o;
          e = e || this.element;
          for (i in this.handles)
            this.handles[i].constructor === String ? this.handles[i] = this.element.children(this.handles[i]).first().show() : (this.handles[i].jquery || this.handles[i].nodeType) && (this.handles[i] = t(this.handles[i]),
              this._on(this.handles[i], {
                mousedown: r._mouseDown
              })),
              this.elementIsWrapper && this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i) && (s = t(this.handles[i], this.element),
                o = /sw|ne|nw|se|n|s/.test(i) ? s.outerHeight() : s.outerWidth(),
                n = ["padding", /ne|nw|n/.test(i) ? "Top" : /se|sw|s/.test(i) ? "Bottom" : /^e$/.test(i) ? "Right" : "Left"].join(""),
                e.css(n, o),
                this._proportionallyResize()),
              this._handles = this._handles.add(this.handles[i])
        }
          ,
          this._renderAxis(this.element),
          this._handles = this._handles.add(this.element.find(".ui-resizable-handle")),
          this._handles.disableSelection(),
          this._handles.on("mouseover", function () {
            r.resizing || (this.className && (o = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),
              r.axis = o && o[1] ? o[1] : "se")
          }),
          a.autoHide && (this._handles.hide(),
            this._addClass("ui-resizable-autohide"))
      },
      _removeHandles: function () {
        this._handles.remove()
      },
      _mouseCapture: function (e) {
        var i, s, n = !1;
        for (i in this.handles)
          s = t(this.handles[i])[0],
            (s === e.target || t.contains(s, e.target)) && (n = !0);
        return !this.options.disabled && n
      },
      _mouseStart: function (e) {
        var i, s, n, o = this.options, a = this.element;
        return this.resizing = !0,
          this._renderProxy(),
          i = this._num(this.helper.css("left")),
          s = this._num(this.helper.css("top")),
          o.containment && (i += t(o.containment).scrollLeft() || 0,
            s += t(o.containment).scrollTop() || 0),
          this.offset = this.helper.offset(),
          this.position = {
            left: i,
            top: s
          },
          this.size = this._helper ? {
            width: this.helper.width(),
            height: this.helper.height()
          } : {
            width: a.width(),
            height: a.height()
          },
          this.originalSize = this._helper ? {
            width: a.outerWidth(),
            height: a.outerHeight()
          } : {
            width: a.width(),
            height: a.height()
          },
          this.sizeDiff = {
            width: a.outerWidth() - a.width(),
            height: a.outerHeight() - a.height()
          },
          this.originalPosition = {
            left: i,
            top: s
          },
          this.originalMousePosition = {
            left: e.pageX,
            top: e.pageY
          },
          this.aspectRatio = "number" == typeof o.aspectRatio ? o.aspectRatio : this.originalSize.width / this.originalSize.height || 1,
          n = t(".ui-resizable-" + this.axis).css("cursor"),
          t("body").css("cursor", "auto" === n ? this.axis + "-resize" : n),
          this._addClass("ui-resizable-resizing"),
          this._propagate("start", e),
          !0
      },
      _mouseDrag: function (e) {
        var i, s, n = this.originalMousePosition, o = this.axis, a = e.pageX - n.left || 0, r = e.pageY - n.top || 0, h = this._change[o];
        return this._updatePrevProperties(),
          h ? (i = h.apply(this, [e, a, r]),
            this._updateVirtualBoundaries(e.shiftKey),
            (this._aspectRatio || e.shiftKey) && (i = this._updateRatio(i, e)),
            i = this._respectSize(i, e),
            this._updateCache(i),
            this._propagate("resize", e),
            s = this._applyChanges(),
            !this._helper && this._proportionallyResizeElements.length && this._proportionallyResize(),
            t.isEmptyObject(s) || (this._updatePrevProperties(),
              this._trigger("resize", e, this.ui()),
              this._applyChanges()),
            !1) : !1
      },
      _mouseStop: function (e) {
        this.resizing = !1;
        var i, s, n, o, a, r, h, l = this.options, c = this;
        return this._helper && (i = this._proportionallyResizeElements,
          s = i.length && /textarea/i.test(i[0].nodeName),
          n = s && this._hasScroll(i[0], "left") ? 0 : c.sizeDiff.height,
          o = s ? 0 : c.sizeDiff.width,
          a = {
            width: c.helper.width() - o,
            height: c.helper.height() - n
          },
          r = parseFloat(c.element.css("left")) + (c.position.left - c.originalPosition.left) || null,
          h = parseFloat(c.element.css("top")) + (c.position.top - c.originalPosition.top) || null,
          l.animate || this.element.css(t.extend(a, {
            top: h,
            left: r
          })),
          c.helper.height(c.size.height),
          c.helper.width(c.size.width),
          this._helper && !l.animate && this._proportionallyResize()),
          t("body").css("cursor", "auto"),
          this._removeClass("ui-resizable-resizing"),
          this._propagate("stop", e),
          this._helper && this.helper.remove(),
          !1
      },
      _updatePrevProperties: function () {
        this.prevPosition = {
          top: this.position.top,
          left: this.position.left
        },
          this.prevSize = {
            width: this.size.width,
            height: this.size.height
          }
      },
      _applyChanges: function () {
        var t = {};
        return this.position.top !== this.prevPosition.top && (t.top = this.position.top + "px"),
          this.position.left !== this.prevPosition.left && (t.left = this.position.left + "px"),
          this.size.width !== this.prevSize.width && (t.width = this.size.width + "px"),
          this.size.height !== this.prevSize.height && (t.height = this.size.height + "px"),
          this.helper.css(t),
          t
      },
      _updateVirtualBoundaries: function (t) {
        var e, i, s, n, o, a = this.options;
        o = {
          minWidth: this._isNumber(a.minWidth) ? a.minWidth : 0,
          maxWidth: this._isNumber(a.maxWidth) ? a.maxWidth : 1 / 0,
          minHeight: this._isNumber(a.minHeight) ? a.minHeight : 0,
          maxHeight: this._isNumber(a.maxHeight) ? a.maxHeight : 1 / 0
        },
          (this._aspectRatio || t) && (e = o.minHeight * this.aspectRatio,
            s = o.minWidth / this.aspectRatio,
            i = o.maxHeight * this.aspectRatio,
            n = o.maxWidth / this.aspectRatio,
            e > o.minWidth && (o.minWidth = e),
            s > o.minHeight && (o.minHeight = s),
            o.maxWidth > i && (o.maxWidth = i),
            o.maxHeight > n && (o.maxHeight = n)),
          this._vBoundaries = o
      },
      _updateCache: function (t) {
        this.offset = this.helper.offset(),
          this._isNumber(t.left) && (this.position.left = t.left),
          this._isNumber(t.top) && (this.position.top = t.top),
          this._isNumber(t.height) && (this.size.height = t.height),
          this._isNumber(t.width) && (this.size.width = t.width)
      },
      _updateRatio: function (t) {
        var e = this.position
          , i = this.size
          , s = this.axis;
        return this._isNumber(t.height) ? t.width = t.height * this.aspectRatio : this._isNumber(t.width) && (t.height = t.width / this.aspectRatio),
          "sw" === s && (t.left = e.left + (i.width - t.width),
            t.top = null),
          "nw" === s && (t.top = e.top + (i.height - t.height),
            t.left = e.left + (i.width - t.width)),
          t
      },
      _respectSize: function (t) {
        var e = this._vBoundaries
          , i = this.axis
          , s = this._isNumber(t.width) && e.maxWidth && e.maxWidth < t.width
          , n = this._isNumber(t.height) && e.maxHeight && e.maxHeight < t.height
          , o = this._isNumber(t.width) && e.minWidth && e.minWidth > t.width
          , a = this._isNumber(t.height) && e.minHeight && e.minHeight > t.height
          , r = this.originalPosition.left + this.originalSize.width
          , h = this.originalPosition.top + this.originalSize.height
          , l = /sw|nw|w/.test(i)
          , c = /nw|ne|n/.test(i);
        return o && (t.width = e.minWidth),
          a && (t.height = e.minHeight),
          s && (t.width = e.maxWidth),
          n && (t.height = e.maxHeight),
          o && l && (t.left = r - e.minWidth),
          s && l && (t.left = r - e.maxWidth),
          a && c && (t.top = h - e.minHeight),
          n && c && (t.top = h - e.maxHeight),
          t.width || t.height || t.left || !t.top ? t.width || t.height || t.top || !t.left || (t.left = null) : t.top = null,
          t
      },
      _getPaddingPlusBorderDimensions: function (t) {
        for (var e = 0, i = [], s = [t.css("borderTopWidth"), t.css("borderRightWidth"), t.css("borderBottomWidth"), t.css("borderLeftWidth")], n = [t.css("paddingTop"), t.css("paddingRight"), t.css("paddingBottom"), t.css("paddingLeft")]; 4 > e; e++)
          i[e] = parseFloat(s[e]) || 0,
            i[e] += parseFloat(n[e]) || 0;
        return {
          height: i[0] + i[2],
          width: i[1] + i[3]
        }
      },
      _proportionallyResize: function () {
        if (this._proportionallyResizeElements.length)
          for (var t, e = 0, i = this.helper || this.element; this._proportionallyResizeElements.length > e; e++)
            t = this._proportionallyResizeElements[e],
              this.outerDimensions || (this.outerDimensions = this._getPaddingPlusBorderDimensions(t)),
              t.css({
                height: i.height() - this.outerDimensions.height || 0,
                width: i.width() - this.outerDimensions.width || 0
              })
      },
      _renderProxy: function () {
        var e = this.element
          , i = this.options;
        this.elementOffset = e.offset(),
          this._helper ? (this.helper = this.helper || t("<div style='overflow:hidden;'></div>"),
            this._addClass(this.helper, this._helper),
            this.helper.css({
              width: this.element.outerWidth(),
              height: this.element.outerHeight(),
              position: "absolute",
              left: this.elementOffset.left + "px",
              top: this.elementOffset.top + "px",
              zIndex: ++i.zIndex
            }),
            this.helper.appendTo("body").disableSelection()) : this.helper = this.element
      },
      _change: {
        e: function (t, e) {
          return {
            width: this.originalSize.width + e
          }
        },
        w: function (t, e) {
          var i = this.originalSize
            , s = this.originalPosition;
          return {
            left: s.left + e,
            width: i.width - e
          }
        },
        n: function (t, e, i) {
          var s = this.originalSize
            , n = this.originalPosition;
          return {
            top: n.top + i,
            height: s.height - i
          }
        },
        s: function (t, e, i) {
          return {
            height: this.originalSize.height + i
          }
        },
        se: function (e, i, s) {
          return t.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [e, i, s]))
        },
        sw: function (e, i, s) {
          return t.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [e, i, s]))
        },
        ne: function (e, i, s) {
          return t.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [e, i, s]))
        },
        nw: function (e, i, s) {
          return t.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [e, i, s]))
        }
      },
      _propagate: function (e, i) {
        t.ui.plugin.call(this, e, [i, this.ui()]),
          "resize" !== e && this._trigger(e, i, this.ui())
      },
      plugins: {},
      ui: function () {
        return {
          originalElement: this.originalElement,
          element: this.element,
          helper: this.helper,
          position: this.position,
          size: this.size,
          originalSize: this.originalSize,
          originalPosition: this.originalPosition
        }
      }
    }),
    t.ui.plugin.add("resizable", "animate", {
      stop: function (e) {
        var i = t(this).resizable("instance")
          , s = i.options
          , n = i._proportionallyResizeElements
          , o = n.length && /textarea/i.test(n[0].nodeName)
          , a = o && i._hasScroll(n[0], "left") ? 0 : i.sizeDiff.height
          , r = o ? 0 : i.sizeDiff.width
          , h = {
            width: i.size.width - r,
            height: i.size.height - a
          }
          , l = parseFloat(i.element.css("left")) + (i.position.left - i.originalPosition.left) || null
          , c = parseFloat(i.element.css("top")) + (i.position.top - i.originalPosition.top) || null;
        i.element.animate(t.extend(h, c && l ? {
          top: c,
          left: l
        } : {}), {
          duration: s.animateDuration,
          easing: s.animateEasing,
          step: function () {
            var s = {
              width: parseFloat(i.element.css("width")),
              height: parseFloat(i.element.css("height")),
              top: parseFloat(i.element.css("top")),
              left: parseFloat(i.element.css("left"))
            };
            n && n.length && t(n[0]).css({
              width: s.width,
              height: s.height
            }),
              i._updateCache(s),
              i._propagate("resize", e)
          }
        })
      }
    }),
    t.ui.plugin.add("resizable", "containment", {
      start: function () {
        var e, i, s, n, o, a, r, h = t(this).resizable("instance"), l = h.options, c = h.element, u = l.containment, d = u instanceof t ? u.get(0) : /parent/.test(u) ? c.parent().get(0) : u;
        d && (h.containerElement = t(d),
          /document/.test(u) || u === document ? (h.containerOffset = {
            left: 0,
            top: 0
          },
            h.containerPosition = {
              left: 0,
              top: 0
            },
            h.parentData = {
              element: t(document),
              left: 0,
              top: 0,
              width: t(document).width(),
              height: t(document).height() || document.body.parentNode.scrollHeight
            }) : (e = t(d),
              i = [],
              t(["Top", "Right", "Left", "Bottom"]).each(function (t, s) {
                i[t] = h._num(e.css("padding" + s))
              }),
              h.containerOffset = e.offset(),
              h.containerPosition = e.position(),
              h.containerSize = {
                height: e.innerHeight() - i[3],
                width: e.innerWidth() - i[1]
              },
              s = h.containerOffset,
              n = h.containerSize.height,
              o = h.containerSize.width,
              a = h._hasScroll(d, "left") ? d.scrollWidth : o,
              r = h._hasScroll(d) ? d.scrollHeight : n,
              h.parentData = {
                element: d,
                left: s.left,
                top: s.top,
                width: a,
                height: r
              }))
      },
      resize: function (e) {
        var i, s, n, o, a = t(this).resizable("instance"), r = a.options, h = a.containerOffset, l = a.position, c = a._aspectRatio || e.shiftKey, u = {
          top: 0,
          left: 0
        }, d = a.containerElement, p = !0;
        d[0] !== document && /static/.test(d.css("position")) && (u = h),
          l.left < (a._helper ? h.left : 0) && (a.size.width = a.size.width + (a._helper ? a.position.left - h.left : a.position.left - u.left),
            c && (a.size.height = a.size.width / a.aspectRatio,
              p = !1),
            a.position.left = r.helper ? h.left : 0),
          l.top < (a._helper ? h.top : 0) && (a.size.height = a.size.height + (a._helper ? a.position.top - h.top : a.position.top),
            c && (a.size.width = a.size.height * a.aspectRatio,
              p = !1),
            a.position.top = a._helper ? h.top : 0),
          n = a.containerElement.get(0) === a.element.parent().get(0),
          o = /relative|absolute/.test(a.containerElement.css("position")),
          n && o ? (a.offset.left = a.parentData.left + a.position.left,
            a.offset.top = a.parentData.top + a.position.top) : (a.offset.left = a.element.offset().left,
              a.offset.top = a.element.offset().top),
          i = Math.abs(a.sizeDiff.width + (a._helper ? a.offset.left - u.left : a.offset.left - h.left)),
          s = Math.abs(a.sizeDiff.height + (a._helper ? a.offset.top - u.top : a.offset.top - h.top)),
          i + a.size.width >= a.parentData.width && (a.size.width = a.parentData.width - i,
            c && (a.size.height = a.size.width / a.aspectRatio,
              p = !1)),
          s + a.size.height >= a.parentData.height && (a.size.height = a.parentData.height - s,
            c && (a.size.width = a.size.height * a.aspectRatio,
              p = !1)),
          p || (a.position.left = a.prevPosition.left,
            a.position.top = a.prevPosition.top,
            a.size.width = a.prevSize.width,
            a.size.height = a.prevSize.height)
      },
      stop: function () {
        var e = t(this).resizable("instance")
          , i = e.options
          , s = e.containerOffset
          , n = e.containerPosition
          , o = e.containerElement
          , a = t(e.helper)
          , r = a.offset()
          , h = a.outerWidth() - e.sizeDiff.width
          , l = a.outerHeight() - e.sizeDiff.height;
        e._helper && !i.animate && /relative/.test(o.css("position")) && t(this).css({
          left: r.left - n.left - s.left,
          width: h,
          height: l
        }),
          e._helper && !i.animate && /static/.test(o.css("position")) && t(this).css({
            left: r.left - n.left - s.left,
            width: h,
            height: l
          })
      }
    }),
    t.ui.plugin.add("resizable", "alsoResize", {
      start: function () {
        var e = t(this).resizable("instance")
          , i = e.options;
        t(i.alsoResize).each(function () {
          var e = t(this);
          e.data("ui-resizable-alsoresize", {
            width: parseFloat(e.width()),
            height: parseFloat(e.height()),
            left: parseFloat(e.css("left")),
            top: parseFloat(e.css("top"))
          })
        })
      },
      resize: function (e, i) {
        var s = t(this).resizable("instance")
          , n = s.options
          , o = s.originalSize
          , a = s.originalPosition
          , r = {
            height: s.size.height - o.height || 0,
            width: s.size.width - o.width || 0,
            top: s.position.top - a.top || 0,
            left: s.position.left - a.left || 0
          };
        t(n.alsoResize).each(function () {
          var e = t(this)
            , s = t(this).data("ui-resizable-alsoresize")
            , n = {}
            , o = e.parents(i.originalElement[0]).length ? ["width", "height"] : ["width", "height", "top", "left"];
          t.each(o, function (t, e) {
            var i = (s[e] || 0) + (r[e] || 0);
            i && i >= 0 && (n[e] = i || null)
          }),
            e.css(n)
        })
      },
      stop: function () {
        t(this).removeData("ui-resizable-alsoresize")
      }
    }),
    t.ui.plugin.add("resizable", "ghost", {
      start: function () {
        var e = t(this).resizable("instance")
          , i = e.size;
        e.ghost = e.originalElement.clone(),
          e.ghost.css({
            opacity: .25,
            display: "block",
            position: "relative",
            height: i.height,
            width: i.width,
            margin: 0,
            left: 0,
            top: 0
          }),
          e._addClass(e.ghost, "ui-resizable-ghost"),
          t.uiBackCompat !== !1 && "string" == typeof e.options.ghost && e.ghost.addClass(this.options.ghost),
          e.ghost.appendTo(e.helper)
      },
      resize: function () {
        var e = t(this).resizable("instance");
        e.ghost && e.ghost.css({
          position: "relative",
          height: e.size.height,
          width: e.size.width
        })
      },
      stop: function () {
        var e = t(this).resizable("instance");
        e.ghost && e.helper && e.helper.get(0).removeChild(e.ghost.get(0))
      }
    }),
    t.ui.plugin.add("resizable", "grid", {
      resize: function () {
        var e, i = t(this).resizable("instance"), s = i.options, n = i.size, o = i.originalSize, a = i.originalPosition, r = i.axis, h = "number" == typeof s.grid ? [s.grid, s.grid] : s.grid, l = h[0] || 1, c = h[1] || 1, u = Math.round((n.width - o.width) / l) * l, d = Math.round((n.height - o.height) / c) * c, p = o.width + u, f = o.height + d, g = s.maxWidth && p > s.maxWidth, m = s.maxHeight && f > s.maxHeight, _ = s.minWidth && s.minWidth > p, v = s.minHeight && s.minHeight > f;
        s.grid = h,
          _ && (p += l),
          v && (f += c),
          g && (p -= l),
          m && (f -= c),
          /^(se|s|e)$/.test(r) ? (i.size.width = p,
            i.size.height = f) : /^(ne)$/.test(r) ? (i.size.width = p,
              i.size.height = f,
              i.position.top = a.top - d) : /^(sw)$/.test(r) ? (i.size.width = p,
                i.size.height = f,
                i.position.left = a.left - u) : ((0 >= f - c || 0 >= p - l) && (e = i._getPaddingPlusBorderDimensions(this)),
                  f - c > 0 ? (i.size.height = f,
                    i.position.top = a.top - d) : (f = c - e.height,
                      i.size.height = f,
                      i.position.top = a.top + o.height - f),
                  p - l > 0 ? (i.size.width = p,
                    i.position.left = a.left - u) : (p = l - e.width,
                      i.size.width = p,
                      i.position.left = a.left + o.width - p))
      }
    }),
    t.ui.resizable,
    t.widget("ui.dialog", {
      version: "1.12.1",
      options: {
        appendTo: "body",
        autoOpen: !0,
        buttons: [],
        classes: {
          "ui-dialog": "ui-corner-all",
          "ui-dialog-titlebar": "ui-corner-all"
        },
        closeOnEscape: !0,
        closeText: "Close",
        draggable: !0,
        hide: null,
        height: "auto",
        maxHeight: null,
        maxWidth: null,
        minHeight: 150,
        minWidth: 150,
        modal: !1,
        position: {
          my: "center",
          at: "center",
          of: window,
          collision: "fit",
          using: function (e) {
            var i = t(this).css(e).offset().top;
            0 > i && t(this).css("top", e.top - i)
          }
        },
        resizable: !0,
        show: null,
        title: null,
        width: 300,
        beforeClose: null,
        close: null,
        drag: null,
        dragStart: null,
        dragStop: null,
        focus: null,
        open: null,
        resize: null,
        resizeStart: null,
        resizeStop: null
      },
      sizeRelatedOptions: {
        buttons: !0,
        height: !0,
        maxHeight: !0,
        maxWidth: !0,
        minHeight: !0,
        minWidth: !0,
        width: !0
      },
      resizableRelatedOptions: {
        maxHeight: !0,
        maxWidth: !0,
        minHeight: !0,
        minWidth: !0
      },
      _create: function () {
        this.originalCss = {
          display: this.element[0].style.display,
          width: this.element[0].style.width,
          minHeight: this.element[0].style.minHeight,
          maxHeight: this.element[0].style.maxHeight,
          height: this.element[0].style.height
        },
          this.originalPosition = {
            parent: this.element.parent(),
            index: this.element.parent().children().index(this.element)
          },
          this.originalTitle = this.element.attr("title"),
          null == this.options.title && null != this.originalTitle && (this.options.title = this.originalTitle),
          this.options.disabled && (this.options.disabled = !1),
          this._createWrapper(),
          this.element.show().removeAttr("title").appendTo(this.uiDialog),
          this._addClass("ui-dialog-content", "ui-widget-content"),
          this._createTitlebar(),
          this._createButtonPane(),
          this.options.draggable && t.fn.draggable && this._makeDraggable(),
          this.options.resizable && t.fn.resizable && this._makeResizable(),
          this._isOpen = !1,
          this._trackFocus()
      },
      _init: function () {
        this.options.autoOpen && this.open()
      },
      _appendTo: function () {
        var e = this.options.appendTo;
        return e && (e.jquery || e.nodeType) ? t(e) : this.document.find(e || "body").eq(0)
      },
      _destroy: function () {
        var t, e = this.originalPosition;
        this._untrackInstance(),
          this._destroyOverlay(),
          this.element.removeUniqueId().css(this.originalCss).detach(),
          this.uiDialog.remove(),
          this.originalTitle && this.element.attr("title", this.originalTitle),
          t = e.parent.children().eq(e.index),
          t.length && t[0] !== this.element[0] ? t.before(this.element) : e.parent.append(this.element)
      },
      widget: function () {
        return this.uiDialog
      },
      disable: t.noop,
      enable: t.noop,
      close: function (e) {
        var i = this;
        this._isOpen && this._trigger("beforeClose", e) !== !1 && (this._isOpen = !1,
          this._focusedElement = null,
          this._destroyOverlay(),
          this._untrackInstance(),
          this.opener.filter(":focusable").trigger("focus").length || t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),
          this._hide(this.uiDialog, this.options.hide, function () {
            i._trigger("close", e)
          }))
      },
      isOpen: function () {
        return this._isOpen
      },
      moveToTop: function () {
        this._moveToTop()
      },
      _moveToTop: function (e, i) {
        var s = !1
          , n = this.uiDialog.siblings(".ui-front:visible").map(function () {
            return +t(this).css("z-index")
          }).get()
          , o = Math.max.apply(null, n);
        return o >= +this.uiDialog.css("z-index") && (this.uiDialog.css("z-index", o + 1),
          s = !0),
          s && !i && this._trigger("focus", e),
          s
      },
      open: function () {
        var e = this;
        return this._isOpen ? (this._moveToTop() && this._focusTabbable(),
          void 0) : (this._isOpen = !0,
            this.opener = t(t.ui.safeActiveElement(this.document[0])),
            this._size(),
            this._position(),
            this._createOverlay(),
            this._moveToTop(null, !0),
            this.overlay && this.overlay.css("z-index", this.uiDialog.css("z-index") - 1),
            this._show(this.uiDialog, this.options.show, function () {
              e._focusTabbable(),
                e._trigger("focus")
            }),
            this._makeFocusTarget(),
            this._trigger("open"),
            void 0)
      },
      _focusTabbable: function () {
        var t = this._focusedElement;
        t || (t = this.element.find("[autofocus]")),
          t.length || (t = this.element.find(":tabbable")),
          t.length || (t = this.uiDialogButtonPane.find(":tabbable")),
          t.length || (t = this.uiDialogTitlebarClose.filter(":tabbable")),
          t.length || (t = this.uiDialog),
          t.eq(0).trigger("focus")
      },
      _keepFocus: function (e) {
        function i() {
          var e = t.ui.safeActiveElement(this.document[0])
            , i = this.uiDialog[0] === e || t.contains(this.uiDialog[0], e);
          i || this._focusTabbable()
        }
        e.preventDefault(),
          i.call(this),
          this._delay(i)
      },
      _createWrapper: function () {
        this.uiDialog = t("<div>").hide().attr({
          tabIndex: -1,
          role: "dialog"
        }).appendTo(this._appendTo()),
          this._addClass(this.uiDialog, "ui-dialog", "ui-widget ui-widget-content ui-front"),
          this._on(this.uiDialog, {
            keydown: function (e) {
              if (this.options.closeOnEscape && !e.isDefaultPrevented() && e.keyCode && e.keyCode === t.ui.keyCode.ESCAPE)
                return e.preventDefault(),
                  this.close(e),
                  void 0;
              if (e.keyCode === t.ui.keyCode.TAB && !e.isDefaultPrevented()) {
                var i = this.uiDialog.find(":tabbable")
                  , s = i.filter(":first")
                  , n = i.filter(":last");
                e.target !== n[0] && e.target !== this.uiDialog[0] || e.shiftKey ? e.target !== s[0] && e.target !== this.uiDialog[0] || !e.shiftKey || (this._delay(function () {
                  n.trigger("focus")
                }),
                  e.preventDefault()) : (this._delay(function () {
                    s.trigger("focus")
                  }),
                    e.preventDefault())
              }
            },
            mousedown: function (t) {
              this._moveToTop(t) && this._focusTabbable()
            }
          }),
          this.element.find("[aria-describedby]").length || this.uiDialog.attr({
            "aria-describedby": this.element.uniqueId().attr("id")
          })
      },
      _createTitlebar: function () {
        var e;
        this.uiDialogTitlebar = t("<div>"),
          this._addClass(this.uiDialogTitlebar, "ui-dialog-titlebar", "ui-widget-header ui-helper-clearfix"),
          this._on(this.uiDialogTitlebar, {
            mousedown: function (e) {
              t(e.target).closest(".ui-dialog-titlebar-close") || this.uiDialog.trigger("focus")
            }
          }),
          this.uiDialogTitlebarClose = t("<button type='button'></button>").button({
            label: t("<a>").text(this.options.closeText).html(),
            icon: "ui-icon-closethick",
            showLabel: !1
          }).appendTo(this.uiDialogTitlebar),
          this._addClass(this.uiDialogTitlebarClose, "ui-dialog-titlebar-close"),
          this._on(this.uiDialogTitlebarClose, {
            click: function (t) {
              t.preventDefault(),
                this.close(t)
            }
          }),
          e = t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),
          this._addClass(e, "ui-dialog-title"),
          this._title(e),
          this.uiDialogTitlebar.prependTo(this.uiDialog),
          this.uiDialog.attr({
            "aria-labelledby": e.attr("id")
          })
      },
      _title: function (t) {
        this.options.title ? t.text(this.options.title) : t.html("&#160;")
      },
      _createButtonPane: function () {
        this.uiDialogButtonPane = t("<div>"),
          this._addClass(this.uiDialogButtonPane, "ui-dialog-buttonpane", "ui-widget-content ui-helper-clearfix"),
          this.uiButtonSet = t("<div>").appendTo(this.uiDialogButtonPane),
          this._addClass(this.uiButtonSet, "ui-dialog-buttonset"),
          this._createButtons()
      },
      _createButtons: function () {
        var e = this
          , i = this.options.buttons;
        return this.uiDialogButtonPane.remove(),
          this.uiButtonSet.empty(),
          t.isEmptyObject(i) || t.isArray(i) && !i.length ? (this._removeClass(this.uiDialog, "ui-dialog-buttons"),
            void 0) : (t.each(i, function (i, s) {
              var n, o;
              s = t.isFunction(s) ? {
                click: s,
                text: i
              } : s,
                s = t.extend({
                  type: "button"
                }, s),
                n = s.click,
                o = {
                  icon: s.icon,
                  iconPosition: s.iconPosition,
                  showLabel: s.showLabel,
                  icons: s.icons,
                  text: s.text
                },
                delete s.click,
                delete s.icon,
                delete s.iconPosition,
                delete s.showLabel,
                delete s.icons,
                "boolean" == typeof s.text && delete s.text,
                t("<button></button>", s).button(o).appendTo(e.uiButtonSet).on("click", function () {
                  n.apply(e.element[0], arguments)
                })
            }),
              this._addClass(this.uiDialog, "ui-dialog-buttons"),
              this.uiDialogButtonPane.appendTo(this.uiDialog),
              void 0)
      },
      _makeDraggable: function () {
        function e(t) {
          return {
            position: t.position,
            offset: t.offset
          }
        }
        var i = this
          , s = this.options;
        this.uiDialog.draggable({
          cancel: ".ui-dialog-content, .ui-dialog-titlebar-close",
          handle: ".ui-dialog-titlebar",
          containment: "document",
          start: function (s, n) {
            i._addClass(t(this), "ui-dialog-dragging"),
              i._blockFrames(),
              i._trigger("dragStart", s, e(n))
          },
          drag: function (t, s) {
            i._trigger("drag", t, e(s))
          },
          stop: function (n, o) {
            var a = o.offset.left - i.document.scrollLeft()
              , r = o.offset.top - i.document.scrollTop();
            s.position = {
              my: "left top",
              at: "left" + (a >= 0 ? "+" : "") + a + " " + "top" + (r >= 0 ? "+" : "") + r,
              of: i.window
            },
              i._removeClass(t(this), "ui-dialog-dragging"),
              i._unblockFrames(),
              i._trigger("dragStop", n, e(o))
          }
        })
      },
      _makeResizable: function () {
        function e(t) {
          return {
            originalPosition: t.originalPosition,
            originalSize: t.originalSize,
            position: t.position,
            size: t.size
          }
        }
        var i = this
          , s = this.options
          , n = s.resizable
          , o = this.uiDialog.css("position")
          , a = "string" == typeof n ? n : "n,e,s,w,se,sw,ne,nw";
        this.uiDialog.resizable({
          cancel: ".ui-dialog-content",
          containment: "document",
          alsoResize: this.element,
          maxWidth: s.maxWidth,
          maxHeight: s.maxHeight,
          minWidth: s.minWidth,
          minHeight: this._minHeight(),
          handles: a,
          start: function (s, n) {
            i._addClass(t(this), "ui-dialog-resizing"),
              i._blockFrames(),
              i._trigger("resizeStart", s, e(n))
          },
          resize: function (t, s) {
            i._trigger("resize", t, e(s))
          },
          stop: function (n, o) {
            var a = i.uiDialog.offset()
              , r = a.left - i.document.scrollLeft()
              , h = a.top - i.document.scrollTop();
            s.height = i.uiDialog.height(),
              s.width = i.uiDialog.width(),
              s.position = {
                my: "left top",
                at: "left" + (r >= 0 ? "+" : "") + r + " " + "top" + (h >= 0 ? "+" : "") + h,
                of: i.window
              },
              i._removeClass(t(this), "ui-dialog-resizing"),
              i._unblockFrames(),
              i._trigger("resizeStop", n, e(o))
          }
        }).css("position", o)
      },
      _trackFocus: function () {
        this._on(this.widget(), {
          focusin: function (e) {
            this._makeFocusTarget(),
              this._focusedElement = t(e.target)
          }
        })
      },
      _makeFocusTarget: function () {
        this._untrackInstance(),
          this._trackingInstances().unshift(this)
      },
      _untrackInstance: function () {
        var e = this._trackingInstances()
          , i = t.inArray(this, e);
        -1 !== i && e.splice(i, 1)
      },
      _trackingInstances: function () {
        var t = this.document.data("ui-dialog-instances");
        return t || (t = [],
          this.document.data("ui-dialog-instances", t)),
          t
      },
      _minHeight: function () {
        var t = this.options;
        return "auto" === t.height ? t.minHeight : Math.min(t.minHeight, t.height)
      },
      _position: function () {
        var t = this.uiDialog.is(":visible");
        t || this.uiDialog.show(),
          this.uiDialog.position(this.options.position),
          t || this.uiDialog.hide()
      },
      _setOptions: function (e) {
        var i = this
          , s = !1
          , n = {};
        t.each(e, function (t, e) {
          i._setOption(t, e),
            t in i.sizeRelatedOptions && (s = !0),
            t in i.resizableRelatedOptions && (n[t] = e)
        }),
          s && (this._size(),
            this._position()),
          this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", n)
      },
      _setOption: function (e, i) {
        var s, n, o = this.uiDialog;
        "disabled" !== e && (this._super(e, i),
          "appendTo" === e && this.uiDialog.appendTo(this._appendTo()),
          "buttons" === e && this._createButtons(),
          "closeText" === e && this.uiDialogTitlebarClose.button({
            label: t("<a>").text("" + this.options.closeText).html()
          }),
          "draggable" === e && (s = o.is(":data(ui-draggable)"),
            s && !i && o.draggable("destroy"),
            !s && i && this._makeDraggable()),
          "position" === e && this._position(),
          "resizable" === e && (n = o.is(":data(ui-resizable)"),
            n && !i && o.resizable("destroy"),
            n && "string" == typeof i && o.resizable("option", "handles", i),
            n || i === !1 || this._makeResizable()),
          "title" === e && this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))
      },
      _size: function () {
        var t, e, i, s = this.options;
        this.element.show().css({
          width: "auto",
          minHeight: 0,
          maxHeight: "none",
          height: 0
        }),
          s.minWidth > s.width && (s.width = s.minWidth),
          t = this.uiDialog.css({
            height: "auto",
            width: s.width
          }).outerHeight(),
          e = Math.max(0, s.minHeight - t),
          i = "number" == typeof s.maxHeight ? Math.max(0, s.maxHeight - t) : "none",
          "auto" === s.height ? this.element.css({
            minHeight: e,
            maxHeight: i,
            height: "auto"
          }) : this.element.height(Math.max(0, s.height - t)),
          this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", "minHeight", this._minHeight())
      },
      _blockFrames: function () {
        this.iframeBlocks = this.document.find("iframe").map(function () {
          var e = t(this);
          return t("<div>").css({
            position: "absolute",
            width: e.outerWidth(),
            height: e.outerHeight()
          }).appendTo(e.parent()).offset(e.offset())[0]
        })
      },
      _unblockFrames: function () {
        this.iframeBlocks && (this.iframeBlocks.remove(),
          delete this.iframeBlocks)
      },
      _allowInteraction: function (e) {
        return t(e.target).closest(".ui-dialog").length ? !0 : !!t(e.target).closest(".ui-datepicker").length
      },
      _createOverlay: function () {
        if (this.options.modal) {
          var e = !0;
          this._delay(function () {
            e = !1
          }),
            this.document.data("ui-dialog-overlays") || this._on(this.document, {
              focusin: function (t) {
                e || this._allowInteraction(t) || (t.preventDefault(),
                  this._trackingInstances()[0]._focusTabbable())
              }
            }),
            this.overlay = t("<div>").appendTo(this._appendTo()),
            this._addClass(this.overlay, null, "ui-widget-overlay ui-front"),
            this._on(this.overlay, {
              mousedown: "_keepFocus"
            }),
            this.document.data("ui-dialog-overlays", (this.document.data("ui-dialog-overlays") || 0) + 1)
        }
      },
      _destroyOverlay: function () {
        if (this.options.modal && this.overlay) {
          var t = this.document.data("ui-dialog-overlays") - 1;
          t ? this.document.data("ui-dialog-overlays", t) : (this._off(this.document, "focusin"),
            this.document.removeData("ui-dialog-overlays")),
            this.overlay.remove(),
            this.overlay = null
        }
      }
    }),
    t.uiBackCompat !== !1 && t.widget("ui.dialog", t.ui.dialog, {
      options: {
        dialogClass: ""
      },
      _createWrapper: function () {
        this._super(),
          this.uiDialog.addClass(this.options.dialogClass)
      },
      _setOption: function (t, e) {
        "dialogClass" === t && this.uiDialog.removeClass(this.options.dialogClass).addClass(e),
          this._superApply(arguments)
      }
    }),
    t.ui.dialog,
    t.widget("ui.droppable", {
      version: "1.12.1",
      widgetEventPrefix: "drop",
      options: {
        accept: "*",
        addClasses: !0,
        greedy: !1,
        scope: "default",
        tolerance: "intersect",
        activate: null,
        deactivate: null,
        drop: null,
        out: null,
        over: null
      },
      _create: function () {
        var e, i = this.options, s = i.accept;
        this.isover = !1,
          this.isout = !0,
          this.accept = t.isFunction(s) ? s : function (t) {
            return t.is(s)
          }
          ,
          this.proportions = function () {
            return arguments.length ? (e = arguments[0],
              void 0) : e ? e : e = {
                width: this.element[0].offsetWidth,
                height: this.element[0].offsetHeight
              }
          }
          ,
          this._addToManager(i.scope),
          i.addClasses && this._addClass("ui-droppable")
      },
      _addToManager: function (e) {
        t.ui.ddmanager.droppables[e] = t.ui.ddmanager.droppables[e] || [],
          t.ui.ddmanager.droppables[e].push(this)
      },
      _splice: function (t) {
        for (var e = 0; t.length > e; e++)
          t[e] === this && t.splice(e, 1)
      },
      _destroy: function () {
        var e = t.ui.ddmanager.droppables[this.options.scope];
        this._splice(e)
      },
      _setOption: function (e, i) {
        if ("accept" === e)
          this.accept = t.isFunction(i) ? i : function (t) {
            return t.is(i)
          }
            ;
        else if ("scope" === e) {
          var s = t.ui.ddmanager.droppables[this.options.scope];
          this._splice(s),
            this._addToManager(i)
        }
        this._super(e, i)
      },
      _activate: function (e) {
        var i = t.ui.ddmanager.current;
        this._addActiveClass(),
          i && this._trigger("activate", e, this.ui(i))
      },
      _deactivate: function (e) {
        var i = t.ui.ddmanager.current;
        this._removeActiveClass(),
          i && this._trigger("deactivate", e, this.ui(i))
      },
      _over: function (e) {
        var i = t.ui.ddmanager.current;
        i && (i.currentItem || i.element)[0] !== this.element[0] && this.accept.call(this.element[0], i.currentItem || i.element) && (this._addHoverClass(),
          this._trigger("over", e, this.ui(i)))
      },
      _out: function (e) {
        var i = t.ui.ddmanager.current;
        i && (i.currentItem || i.element)[0] !== this.element[0] && this.accept.call(this.element[0], i.currentItem || i.element) && (this._removeHoverClass(),
          this._trigger("out", e, this.ui(i)))
      },
      _drop: function (e, i) {
        var s = i || t.ui.ddmanager.current
          , n = !1;
        return s && (s.currentItem || s.element)[0] !== this.element[0] ? (this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function () {
          var i = t(this).droppable("instance");
          return i.options.greedy && !i.options.disabled && i.options.scope === s.options.scope && i.accept.call(i.element[0], s.currentItem || s.element) && v(s, t.extend(i, {
            offset: i.element.offset()
          }), i.options.tolerance, e) ? (n = !0,
            !1) : void 0
        }),
          n ? !1 : this.accept.call(this.element[0], s.currentItem || s.element) ? (this._removeActiveClass(),
            this._removeHoverClass(),
            this._trigger("drop", e, this.ui(s)),
            this.element) : !1) : !1
      },
      ui: function (t) {
        return {
          draggable: t.currentItem || t.element,
          helper: t.helper,
          position: t.position,
          offset: t.positionAbs
        }
      },
      _addHoverClass: function () {
        this._addClass("ui-droppable-hover")
      },
      _removeHoverClass: function () {
        this._removeClass("ui-droppable-hover")
      },
      _addActiveClass: function () {
        this._addClass("ui-droppable-active")
      },
      _removeActiveClass: function () {
        this._removeClass("ui-droppable-active")
      }
    });
  var v = t.ui.intersect = function () {
    function t(t, e, i) {
      return t >= e && e + i > t
    }
    return function (e, i, s, n) {
      if (!i.offset)
        return !1;
      var o = (e.positionAbs || e.position.absolute).left + e.margins.left
        , a = (e.positionAbs || e.position.absolute).top + e.margins.top
        , r = o + e.helperProportions.width
        , h = a + e.helperProportions.height
        , l = i.offset.left
        , c = i.offset.top
        , u = l + i.proportions().width
        , d = c + i.proportions().height;
      switch (s) {
        case "fit":
          return o >= l && u >= r && a >= c && d >= h;
        case "intersect":
          return o + e.helperProportions.width / 2 > l && u > r - e.helperProportions.width / 2 && a + e.helperProportions.height / 2 > c && d > h - e.helperProportions.height / 2;
        case "pointer":
          return t(n.pageY, c, i.proportions().height) && t(n.pageX, l, i.proportions().width);
        case "touch":
          return (a >= c && d >= a || h >= c && d >= h || c > a && h > d) && (o >= l && u >= o || r >= l && u >= r || l > o && r > u);
        default:
          return !1
      }
    }
  }();
  t.ui.ddmanager = {
    current: null,
    droppables: {
      "default": []
    },
    prepareOffsets: function (e, i) {
      var s, n, o = t.ui.ddmanager.droppables[e.options.scope] || [], a = i ? i.type : null, r = (e.currentItem || e.element).find(":data(ui-droppable)").addBack();
      t: for (s = 0; o.length > s; s++)
        if (!(o[s].options.disabled || e && !o[s].accept.call(o[s].element[0], e.currentItem || e.element))) {
          for (n = 0; r.length > n; n++)
            if (r[n] === o[s].element[0]) {
              o[s].proportions().height = 0;
              continue t
            }
          o[s].visible = "none" !== o[s].element.css("display"),
            o[s].visible && ("mousedown" === a && o[s]._activate.call(o[s], i),
              o[s].offset = o[s].element.offset(),
              o[s].proportions({
                width: o[s].element[0].offsetWidth,
                height: o[s].element[0].offsetHeight
              }))
        }
    },
    drop: function (e, i) {
      var s = !1;
      return t.each((t.ui.ddmanager.droppables[e.options.scope] || []).slice(), function () {
        this.options && (!this.options.disabled && this.visible && v(e, this, this.options.tolerance, i) && (s = this._drop.call(this, i) || s),
          !this.options.disabled && this.visible && this.accept.call(this.element[0], e.currentItem || e.element) && (this.isout = !0,
            this.isover = !1,
            this._deactivate.call(this, i)))
      }),
        s
    },
    dragStart: function (e, i) {
      e.element.parentsUntil("body").on("scroll.droppable", function () {
        e.options.refreshPositions || t.ui.ddmanager.prepareOffsets(e, i)
      })
    },
    drag: function (e, i) {
      e.options.refreshPositions && t.ui.ddmanager.prepareOffsets(e, i),
        t.each(t.ui.ddmanager.droppables[e.options.scope] || [], function () {
          if (!this.options.disabled && !this.greedyChild && this.visible) {
            var s, n, o, a = v(e, this, this.options.tolerance, i), r = !a && this.isover ? "isout" : a && !this.isover ? "isover" : null;
            r && (this.options.greedy && (n = this.options.scope,
              o = this.element.parents(":data(ui-droppable)").filter(function () {
                return t(this).droppable("instance").options.scope === n
              }),
              o.length && (s = t(o[0]).droppable("instance"),
                s.greedyChild = "isover" === r)),
              s && "isover" === r && (s.isover = !1,
                s.isout = !0,
                s._out.call(s, i)),
              this[r] = !0,
              this["isout" === r ? "isover" : "isout"] = !1,
              this["isover" === r ? "_over" : "_out"].call(this, i),
              s && "isout" === r && (s.isout = !1,
                s.isover = !0,
                s._over.call(s, i)))
          }
        })
    },
    dragStop: function (e, i) {
      e.element.parentsUntil("body").off("scroll.droppable"),
        e.options.refreshPositions || t.ui.ddmanager.prepareOffsets(e, i)
    }
  },
    t.uiBackCompat !== !1 && t.widget("ui.droppable", t.ui.droppable, {
      options: {
        hoverClass: !1,
        activeClass: !1
      },
      _addActiveClass: function () {
        this._super(),
          this.options.activeClass && this.element.addClass(this.options.activeClass)
      },
      _removeActiveClass: function () {
        this._super(),
          this.options.activeClass && this.element.removeClass(this.options.activeClass)
      },
      _addHoverClass: function () {
        this._super(),
          this.options.hoverClass && this.element.addClass(this.options.hoverClass)
      },
      _removeHoverClass: function () {
        this._super(),
          this.options.hoverClass && this.element.removeClass(this.options.hoverClass)
      }
    }),
    t.ui.droppable,
    t.widget("ui.progressbar", {
      version: "1.12.1",
      options: {
        classes: {
          "ui-progressbar": "ui-corner-all",
          "ui-progressbar-value": "ui-corner-left",
          "ui-progressbar-complete": "ui-corner-right"
        },
        max: 100,
        value: 0,
        change: null,
        complete: null
      },
      min: 0,
      _create: function () {
        this.oldValue = this.options.value = this._constrainedValue(),
          this.element.attr({
            role: "progressbar",
            "aria-valuemin": this.min
          }),
          this._addClass("ui-progressbar", "ui-widget ui-widget-content"),
          this.valueDiv = t("<div>").appendTo(this.element),
          this._addClass(this.valueDiv, "ui-progressbar-value", "ui-widget-header"),
          this._refreshValue()
      },
      _destroy: function () {
        this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),
          this.valueDiv.remove()
      },
      value: function (t) {
        return void 0 === t ? this.options.value : (this.options.value = this._constrainedValue(t),
          this._refreshValue(),
          void 0)
      },
      _constrainedValue: function (t) {
        return void 0 === t && (t = this.options.value),
          this.indeterminate = t === !1,
          "number" != typeof t && (t = 0),
          this.indeterminate ? !1 : Math.min(this.options.max, Math.max(this.min, t))
      },
      _setOptions: function (t) {
        var e = t.value;
        delete t.value,
          this._super(t),
          this.options.value = this._constrainedValue(e),
          this._refreshValue()
      },
      _setOption: function (t, e) {
        "max" === t && (e = Math.max(this.min, e)),
          this._super(t, e)
      },
      _setOptionDisabled: function (t) {
        this._super(t),
          this.element.attr("aria-disabled", t),
          this._toggleClass(null, "ui-state-disabled", !!t)
      },
      _percentage: function () {
        return this.indeterminate ? 100 : 100 * (this.options.value - this.min) / (this.options.max - this.min)
      },
      _refreshValue: function () {
        var e = this.options.value
          , i = this._percentage();
        this.valueDiv.toggle(this.indeterminate || e > this.min).width(i.toFixed(0) + "%"),
          this._toggleClass(this.valueDiv, "ui-progressbar-complete", null, e === this.options.max)._toggleClass("ui-progressbar-indeterminate", null, this.indeterminate),
          this.indeterminate ? (this.element.removeAttr("aria-valuenow"),
            this.overlayDiv || (this.overlayDiv = t("<div>").appendTo(this.valueDiv),
              this._addClass(this.overlayDiv, "ui-progressbar-overlay"))) : (this.element.attr({
                "aria-valuemax": this.options.max,
                "aria-valuenow": e
              }),
                this.overlayDiv && (this.overlayDiv.remove(),
                  this.overlayDiv = null)),
          this.oldValue !== e && (this.oldValue = e,
            this._trigger("change")),
          e === this.options.max && this._trigger("complete")
      }
    }),
    t.widget("ui.selectable", t.ui.mouse, {
      version: "1.12.1",
      options: {
        appendTo: "body",
        autoRefresh: !0,
        distance: 0,
        filter: "*",
        tolerance: "touch",
        selected: null,
        selecting: null,
        start: null,
        stop: null,
        unselected: null,
        unselecting: null
      },
      _create: function () {
        var e = this;
        this._addClass("ui-selectable"),
          this.dragged = !1,
          this.refresh = function () {
            e.elementPos = t(e.element[0]).offset(),
              e.selectees = t(e.options.filter, e.element[0]),
              e._addClass(e.selectees, "ui-selectee"),
              e.selectees.each(function () {
                var i = t(this)
                  , s = i.offset()
                  , n = {
                    left: s.left - e.elementPos.left,
                    top: s.top - e.elementPos.top
                  };
                t.data(this, "selectable-item", {
                  element: this,
                  $element: i,
                  left: n.left,
                  top: n.top,
                  right: n.left + i.outerWidth(),
                  bottom: n.top + i.outerHeight(),
                  startselected: !1,
                  selected: i.hasClass("ui-selected"),
                  selecting: i.hasClass("ui-selecting"),
                  unselecting: i.hasClass("ui-unselecting")
                })
              })
          }
          ,
          this.refresh(),
          this._mouseInit(),
          this.helper = t("<div>"),
          this._addClass(this.helper, "ui-selectable-helper")
      },
      _destroy: function () {
        this.selectees.removeData("selectable-item"),
          this._mouseDestroy()
      },
      _mouseStart: function (e) {
        var i = this
          , s = this.options;
        this.opos = [e.pageX, e.pageY],
          this.elementPos = t(this.element[0]).offset(),
          this.options.disabled || (this.selectees = t(s.filter, this.element[0]),
            this._trigger("start", e),
            t(s.appendTo).append(this.helper),
            this.helper.css({
              left: e.pageX,
              top: e.pageY,
              width: 0,
              height: 0
            }),
            s.autoRefresh && this.refresh(),
            this.selectees.filter(".ui-selected").each(function () {
              var s = t.data(this, "selectable-item");
              s.startselected = !0,
                e.metaKey || e.ctrlKey || (i._removeClass(s.$element, "ui-selected"),
                  s.selected = !1,
                  i._addClass(s.$element, "ui-unselecting"),
                  s.unselecting = !0,
                  i._trigger("unselecting", e, {
                    unselecting: s.element
                  }))
            }),
            t(e.target).parents().addBack().each(function () {
              var s, n = t.data(this, "selectable-item");
              return n ? (s = !e.metaKey && !e.ctrlKey || !n.$element.hasClass("ui-selected"),
                i._removeClass(n.$element, s ? "ui-unselecting" : "ui-selected")._addClass(n.$element, s ? "ui-selecting" : "ui-unselecting"),
                n.unselecting = !s,
                n.selecting = s,
                n.selected = s,
                s ? i._trigger("selecting", e, {
                  selecting: n.element
                }) : i._trigger("unselecting", e, {
                  unselecting: n.element
                }),
                !1) : void 0
            }))
      },
      _mouseDrag: function (e) {
        if (this.dragged = !0,
          !this.options.disabled) {
          var i, s = this, n = this.options, o = this.opos[0], a = this.opos[1], r = e.pageX, h = e.pageY;
          return o > r && (i = r,
            r = o,
            o = i),
            a > h && (i = h,
              h = a,
              a = i),
            this.helper.css({
              left: o,
              top: a,
              width: r - o,
              height: h - a
            }),
            this.selectees.each(function () {
              var i = t.data(this, "selectable-item")
                , l = !1
                , c = {};
              i && i.element !== s.element[0] && (c.left = i.left + s.elementPos.left,
                c.right = i.right + s.elementPos.left,
                c.top = i.top + s.elementPos.top,
                c.bottom = i.bottom + s.elementPos.top,
                "touch" === n.tolerance ? l = !(c.left > r || o > c.right || c.top > h || a > c.bottom) : "fit" === n.tolerance && (l = c.left > o && r > c.right && c.top > a && h > c.bottom),
                l ? (i.selected && (s._removeClass(i.$element, "ui-selected"),
                  i.selected = !1),
                  i.unselecting && (s._removeClass(i.$element, "ui-unselecting"),
                    i.unselecting = !1),
                  i.selecting || (s._addClass(i.$element, "ui-selecting"),
                    i.selecting = !0,
                    s._trigger("selecting", e, {
                      selecting: i.element
                    }))) : (i.selecting && ((e.metaKey || e.ctrlKey) && i.startselected ? (s._removeClass(i.$element, "ui-selecting"),
                      i.selecting = !1,
                      s._addClass(i.$element, "ui-selected"),
                      i.selected = !0) : (s._removeClass(i.$element, "ui-selecting"),
                        i.selecting = !1,
                        i.startselected && (s._addClass(i.$element, "ui-unselecting"),
                          i.unselecting = !0),
                        s._trigger("unselecting", e, {
                          unselecting: i.element
                        }))),
                      i.selected && (e.metaKey || e.ctrlKey || i.startselected || (s._removeClass(i.$element, "ui-selected"),
                        i.selected = !1,
                        s._addClass(i.$element, "ui-unselecting"),
                        i.unselecting = !0,
                        s._trigger("unselecting", e, {
                          unselecting: i.element
                        })))))
            }),
            !1
        }
      },
      _mouseStop: function (e) {
        var i = this;
        return this.dragged = !1,
          t(".ui-unselecting", this.element[0]).each(function () {
            var s = t.data(this, "selectable-item");
            i._removeClass(s.$element, "ui-unselecting"),
              s.unselecting = !1,
              s.startselected = !1,
              i._trigger("unselected", e, {
                unselected: s.element
              })
          }),
          t(".ui-selecting", this.element[0]).each(function () {
            var s = t.data(this, "selectable-item");
            i._removeClass(s.$element, "ui-selecting")._addClass(s.$element, "ui-selected"),
              s.selecting = !1,
              s.selected = !0,
              s.startselected = !0,
              i._trigger("selected", e, {
                selected: s.element
              })
          }),
          this._trigger("stop", e),
          this.helper.remove(),
          !1
      }
    }),
    t.widget("ui.selectmenu", [t.ui.formResetMixin, {
      version: "1.12.1",
      defaultElement: "<select>",
      options: {
        appendTo: null,
        classes: {
          "ui-selectmenu-button-open": "ui-corner-top",
          "ui-selectmenu-button-closed": "ui-corner-all"
        },
        disabled: null,
        icons: {
          button: "ui-icon-triangle-1-s"
        },
        position: {
          my: "left top",
          at: "left bottom",
          collision: "none"
        },
        width: !1,
        change: null,
        close: null,
        focus: null,
        open: null,
        select: null
      },
      _create: function () {
        var e = this.element.uniqueId().attr("id");
        this.ids = {
          element: e,
          button: e + "-button",
          menu: e + "-menu"
        },
          this._drawButton(),
          this._drawMenu(),
          this._bindFormResetHandler(),
          this._rendered = !1,
          this.menuItems = t()
      },
      _drawButton: function () {
        var e, i = this, s = this._parseOption(this.element.find("option:selected"), this.element[0].selectedIndex);
        this.labels = this.element.labels().attr("for", this.ids.button),
          this._on(this.labels, {
            click: function (t) {
              this.button.focus(),
                t.preventDefault()
            }
          }),
          this.element.hide(),
          this.button = t("<span>", {
            tabindex: this.options.disabled ? -1 : 0,
            id: this.ids.button,
            role: "combobox",
            "aria-expanded": "false",
            "aria-autocomplete": "list",
            "aria-owns": this.ids.menu,
            "aria-haspopup": "true",
            title: this.element.attr("title")
          }).insertAfter(this.element),
          this._addClass(this.button, "ui-selectmenu-button ui-selectmenu-button-closed", "ui-button ui-widget"),
          e = t("<span>").appendTo(this.button),
          this._addClass(e, "ui-selectmenu-icon", "ui-icon " + this.options.icons.button),
          this.buttonItem = this._renderButtonItem(s).appendTo(this.button),
          this.options.width !== !1 && this._resizeButton(),
          this._on(this.button, this._buttonEvents),
          this.button.one("focusin", function () {
            i._rendered || i._refreshMenu()
          })
      },
      _drawMenu: function () {
        var e = this;
        this.menu = t("<ul>", {
          "aria-hidden": "true",
          "aria-labelledby": this.ids.button,
          id: this.ids.menu
        }),
          this.menuWrap = t("<div>").append(this.menu),
          this._addClass(this.menuWrap, "ui-selectmenu-menu", "ui-front"),
          this.menuWrap.appendTo(this._appendTo()),
          this.menuInstance = this.menu.menu({
            classes: {
              "ui-menu": "ui-corner-bottom"
            },
            role: "listbox",
            select: function (t, i) {
              t.preventDefault(),
                e._setSelection(),
                e._select(i.item.data("ui-selectmenu-item"), t)
            },
            focus: function (t, i) {
              var s = i.item.data("ui-selectmenu-item");
              null != e.focusIndex && s.index !== e.focusIndex && (e._trigger("focus", t, {
                item: s
              }),
                e.isOpen || e._select(s, t)),
                e.focusIndex = s.index,
                e.button.attr("aria-activedescendant", e.menuItems.eq(s.index).attr("id"))
            }
          }).menu("instance"),
          this.menuInstance._off(this.menu, "mouseleave"),
          this.menuInstance._closeOnDocumentClick = function () {
            return !1
          }
          ,
          this.menuInstance._isDivider = function () {
            return !1
          }
      },
      refresh: function () {
        this._refreshMenu(),
          this.buttonItem.replaceWith(this.buttonItem = this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item") || {})),
          null === this.options.width && this._resizeButton()
      },
      _refreshMenu: function () {
        var t, e = this.element.find("option");
        this.menu.empty(),
          this._parseOptions(e),
          this._renderMenu(this.menu, this.items),
          this.menuInstance.refresh(),
          this.menuItems = this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),
          this._rendered = !0,
          e.length && (t = this._getSelectedItem(),
            this.menuInstance.focus(null, t),
            this._setAria(t.data("ui-selectmenu-item")),
            this._setOption("disabled", this.element.prop("disabled")))
      },
      open: function (t) {
        this.options.disabled || (this._rendered ? (this._removeClass(this.menu.find(".ui-state-active"), null, "ui-state-active"),
          this.menuInstance.focus(null, this._getSelectedItem())) : this._refreshMenu(),
          this.menuItems.length && (this.isOpen = !0,
            this._toggleAttr(),
            this._resizeMenu(),
            this._position(),
            this._on(this.document, this._documentClick),
            this._trigger("open", t)))
      },
      _position: function () {
        this.menuWrap.position(t.extend({
          of: this.button
        }, this.options.position))
      },
      close: function (t) {
        this.isOpen && (this.isOpen = !1,
          this._toggleAttr(),
          this.range = null,
          this._off(this.document),
          this._trigger("close", t))
      },
      widget: function () {
        return this.button
      },
      menuWidget: function () {
        return this.menu
      },
      _renderButtonItem: function (e) {
        var i = t("<span>");
        return this._setText(i, e.label),
          this._addClass(i, "ui-selectmenu-text"),
          i
      },
      _renderMenu: function (e, i) {
        var s = this
          , n = "";
        t.each(i, function (i, o) {
          var a;
          o.optgroup !== n && (a = t("<li>", {
            text: o.optgroup
          }),
            s._addClass(a, "ui-selectmenu-optgroup", "ui-menu-divider" + (o.element.parent("optgroup").prop("disabled") ? " ui-state-disabled" : "")),
            a.appendTo(e),
            n = o.optgroup),
            s._renderItemData(e, o)
        })
      },
      _renderItemData: function (t, e) {
        return this._renderItem(t, e).data("ui-selectmenu-item", e)
      },
      _renderItem: function (e, i) {
        var s = t("<li>")
          , n = t("<div>", {
            title: i.element.attr("title")
          });
        return i.disabled && this._addClass(s, null, "ui-state-disabled"),
          this._setText(n, i.label),
          s.append(n).appendTo(e)
      },
      _setText: function (t, e) {
        e ? t.text(e) : t.html("&#160;")
      },
      _move: function (t, e) {
        var i, s, n = ".ui-menu-item";
        this.isOpen ? i = this.menuItems.eq(this.focusIndex).parent("li") : (i = this.menuItems.eq(this.element[0].selectedIndex).parent("li"),
          n += ":not(.ui-state-disabled)"),
          s = "first" === t || "last" === t ? i["first" === t ? "prevAll" : "nextAll"](n).eq(-1) : i[t + "All"](n).eq(0),
          s.length && this.menuInstance.focus(e, s)
      },
      _getSelectedItem: function () {
        return this.menuItems.eq(this.element[0].selectedIndex).parent("li")
      },
      _toggle: function (t) {
        this[this.isOpen ? "close" : "open"](t)
      },
      _setSelection: function () {
        var t;
        this.range && (window.getSelection ? (t = window.getSelection(),
          t.removeAllRanges(),
          t.addRange(this.range)) : this.range.select(),
          this.button.focus())
      },
      _documentClick: {
        mousedown: function (e) {
          this.isOpen && (t(e.target).closest(".ui-selectmenu-menu, #" + t.ui.escapeSelector(this.ids.button)).length || this.close(e))
        }
      },
      _buttonEvents: {
        mousedown: function () {
          var t;
          window.getSelection ? (t = window.getSelection(),
            t.rangeCount && (this.range = t.getRangeAt(0))) : this.range = document.selection.createRange()
        },
        click: function (t) {
          this._setSelection(),
            this._toggle(t)
        },
        keydown: function (e) {
          var i = !0;
          switch (e.keyCode) {
            case t.ui.keyCode.TAB:
            case t.ui.keyCode.ESCAPE:
              this.close(e),
                i = !1;
              break;
            case t.ui.keyCode.ENTER:
              this.isOpen && this._selectFocusedItem(e);
              break;
            case t.ui.keyCode.UP:
              e.altKey ? this._toggle(e) : this._move("prev", e);
              break;
            case t.ui.keyCode.DOWN:
              e.altKey ? this._toggle(e) : this._move("next", e);
              break;
            case t.ui.keyCode.SPACE:
              this.isOpen ? this._selectFocusedItem(e) : this._toggle(e);
              break;
            case t.ui.keyCode.LEFT:
              this._move("prev", e);
              break;
            case t.ui.keyCode.RIGHT:
              this._move("next", e);
              break;
            case t.ui.keyCode.HOME:
            case t.ui.keyCode.PAGE_UP:
              this._move("first", e);
              break;
            case t.ui.keyCode.END:
            case t.ui.keyCode.PAGE_DOWN:
              this._move("last", e);
              break;
            default:
              this.menu.trigger(e),
                i = !1
          }
          i && e.preventDefault()
        }
      },
      _selectFocusedItem: function (t) {
        var e = this.menuItems.eq(this.focusIndex).parent("li");
        e.hasClass("ui-state-disabled") || this._select(e.data("ui-selectmenu-item"), t)
      },
      _select: function (t, e) {
        var i = this.element[0].selectedIndex;
        this.element[0].selectedIndex = t.index,
          this.buttonItem.replaceWith(this.buttonItem = this._renderButtonItem(t)),
          this._setAria(t),
          this._trigger("select", e, {
            item: t
          }),
          t.index !== i && this._trigger("change", e, {
            item: t
          }),
          this.close(e)
      },
      _setAria: function (t) {
        var e = this.menuItems.eq(t.index).attr("id");
        this.button.attr({
          "aria-labelledby": e,
          "aria-activedescendant": e
        }),
          this.menu.attr("aria-activedescendant", e)
      },
      _setOption: function (t, e) {
        if ("icons" === t) {
          var i = this.button.find("span.ui-icon");
          this._removeClass(i, null, this.options.icons.button)._addClass(i, null, e.button)
        }
        this._super(t, e),
          "appendTo" === t && this.menuWrap.appendTo(this._appendTo()),
          "width" === t && this._resizeButton()
      },
      _setOptionDisabled: function (t) {
        this._super(t),
          this.menuInstance.option("disabled", t),
          this.button.attr("aria-disabled", t),
          this._toggleClass(this.button, null, "ui-state-disabled", t),
          this.element.prop("disabled", t),
          t ? (this.button.attr("tabindex", -1),
            this.close()) : this.button.attr("tabindex", 0)
      },
      _appendTo: function () {
        var e = this.options.appendTo;
        return e && (e = e.jquery || e.nodeType ? t(e) : this.document.find(e).eq(0)),
          e && e[0] || (e = this.element.closest(".ui-front, dialog")),
          e.length || (e = this.document[0].body),
          e
      },
      _toggleAttr: function () {
        this.button.attr("aria-expanded", this.isOpen),
          this._removeClass(this.button, "ui-selectmenu-button-" + (this.isOpen ? "closed" : "open"))._addClass(this.button, "ui-selectmenu-button-" + (this.isOpen ? "open" : "closed"))._toggleClass(this.menuWrap, "ui-selectmenu-open", null, this.isOpen),
          this.menu.attr("aria-hidden", !this.isOpen)
      },
      _resizeButton: function () {
        var t = this.options.width;
        return t === !1 ? (this.button.css("width", ""),
          void 0) : (null === t && (t = this.element.show().outerWidth(),
            this.element.hide()),
            this.button.outerWidth(t),
            void 0)
      },
      _resizeMenu: function () {
        this.menu.outerWidth(Math.max(this.button.outerWidth(), this.menu.width("").outerWidth() + 1))
      },
      _getCreateOptions: function () {
        var t = this._super();
        return t.disabled = this.element.prop("disabled"),
          t
      },
      _parseOptions: function (e) {
        var i = this
          , s = [];
        e.each(function (e, n) {
          s.push(i._parseOption(t(n), e))
        }),
          this.items = s
      },
      _parseOption: function (t, e) {
        var i = t.parent("optgroup");
        return {
          element: t,
          index: e,
          value: t.val(),
          label: t.text(),
          optgroup: i.attr("label") || "",
          disabled: i.prop("disabled") || t.prop("disabled")
        }
      },
      _destroy: function () {
        this._unbindFormResetHandler(),
          this.menuWrap.remove(),
          this.button.remove(),
          this.element.show(),
          this.element.removeUniqueId(),
          this.labels.attr("for", this.ids.element)
      }
    }]),
    t.widget("ui.slider", t.ui.mouse, {
      version: "1.12.1",
      widgetEventPrefix: "slide",
      options: {
        animate: !1,
        classes: {
          "ui-slider": "ui-corner-all",
          "ui-slider-handle": "ui-corner-all",
          "ui-slider-range": "ui-corner-all ui-widget-header"
        },
        distance: 0,
        max: 100,
        min: 0,
        orientation: "horizontal",
        range: !1,
        step: 1,
        value: 0,
        values: null,
        change: null,
        slide: null,
        start: null,
        stop: null
      },
      numPages: 5,
      _create: function () {
        this._keySliding = !1,
          this._mouseSliding = !1,
          this._animateOff = !0,
          this._handleIndex = null,
          this._detectOrientation(),
          this._mouseInit(),
          this._calculateNewMax(),
          this._addClass("ui-slider ui-slider-" + this.orientation, "ui-widget ui-widget-content"),
          this._refresh(),
          this._animateOff = !1
      },
      _refresh: function () {
        this._createRange(),
          this._createHandles(),
          this._setupEvents(),
          this._refreshValue()
      },
      _createHandles: function () {
        var e, i, s = this.options, n = this.element.find(".ui-slider-handle"), o = "<span tabindex='0'></span>", a = [];
        for (i = s.values && s.values.length || 1,
          n.length > i && (n.slice(i).remove(),
            n = n.slice(0, i)),
          e = n.length; i > e; e++)
          a.push(o);
        this.handles = n.add(t(a.join("")).appendTo(this.element)),
          this._addClass(this.handles, "ui-slider-handle", "ui-state-default"),
          this.handle = this.handles.eq(0),
          this.handles.each(function (e) {
            t(this).data("ui-slider-handle-index", e).attr("tabIndex", 0)
          })
      },
      _createRange: function () {
        var e = this.options;
        e.range ? (e.range === !0 && (e.values ? e.values.length && 2 !== e.values.length ? e.values = [e.values[0], e.values[0]] : t.isArray(e.values) && (e.values = e.values.slice(0)) : e.values = [this._valueMin(), this._valueMin()]),
          this.range && this.range.length ? (this._removeClass(this.range, "ui-slider-range-min ui-slider-range-max"),
            this.range.css({
              left: "",
              bottom: ""
            })) : (this.range = t("<div>").appendTo(this.element),
              this._addClass(this.range, "ui-slider-range")),
          ("min" === e.range || "max" === e.range) && this._addClass(this.range, "ui-slider-range-" + e.range)) : (this.range && this.range.remove(),
            this.range = null)
      },
      _setupEvents: function () {
        this._off(this.handles),
          this._on(this.handles, this._handleEvents),
          this._hoverable(this.handles),
          this._focusable(this.handles)
      },
      _destroy: function () {
        this.handles.remove(),
          this.range && this.range.remove(),
          this._mouseDestroy()
      },
      _mouseCapture: function (e) {
        var i, s, n, o, a, r, h, l, c = this, u = this.options;
        return u.disabled ? !1 : (this.elementSize = {
          width: this.element.outerWidth(),
          height: this.element.outerHeight()
        },
          this.elementOffset = this.element.offset(),
          i = {
            x: e.pageX,
            y: e.pageY
          },
          s = this._normValueFromMouse(i),
          n = this._valueMax() - this._valueMin() + 1,
          this.handles.each(function (e) {
            var i = Math.abs(s - c.values(e));
            (n > i || n === i && (e === c._lastChangedValue || c.values(e) === u.min)) && (n = i,
              o = t(this),
              a = e)
          }),
          r = this._start(e, a),
          r === !1 ? !1 : (this._mouseSliding = !0,
            this._handleIndex = a,
            this._addClass(o, null, "ui-state-active"),
            o.trigger("focus"),
            h = o.offset(),
            l = !t(e.target).parents().addBack().is(".ui-slider-handle"),
            this._clickOffset = l ? {
              left: 0,
              top: 0
            } : {
              left: e.pageX - h.left - o.width() / 2,
              top: e.pageY - h.top - o.height() / 2 - (parseInt(o.css("borderTopWidth"), 10) || 0) - (parseInt(o.css("borderBottomWidth"), 10) || 0) + (parseInt(o.css("marginTop"), 10) || 0)
            },
            this.handles.hasClass("ui-state-hover") || this._slide(e, a, s),
            this._animateOff = !0,
            !0))
      },
      _mouseStart: function () {
        return !0
      },
      _mouseDrag: function (t) {
        var e = {
          x: t.pageX,
          y: t.pageY
        }
          , i = this._normValueFromMouse(e);
        return this._slide(t, this._handleIndex, i),
          !1
      },
      _mouseStop: function (t) {
        return this._removeClass(this.handles, null, "ui-state-active"),
          this._mouseSliding = !1,
          this._stop(t, this._handleIndex),
          this._change(t, this._handleIndex),
          this._handleIndex = null,
          this._clickOffset = null,
          this._animateOff = !1,
          !1
      },
      _detectOrientation: function () {
        this.orientation = "vertical" === this.options.orientation ? "vertical" : "horizontal"
      },
      _normValueFromMouse: function (t) {
        var e, i, s, n, o;
        return "horizontal" === this.orientation ? (e = this.elementSize.width,
          i = t.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset.left : 0)) : (e = this.elementSize.height,
            i = t.y - this.elementOffset.top - (this._clickOffset ? this._clickOffset.top : 0)),
          s = i / e,
          s > 1 && (s = 1),
          0 > s && (s = 0),
          "vertical" === this.orientation && (s = 1 - s),
          n = this._valueMax() - this._valueMin(),
          o = this._valueMin() + s * n,
          this._trimAlignValue(o)
      },
      _uiHash: function (t, e, i) {
        var s = {
          handle: this.handles[t],
          handleIndex: t,
          value: void 0 !== e ? e : this.value()
        };
        return this._hasMultipleValues() && (s.value = void 0 !== e ? e : this.values(t),
          s.values = i || this.values()),
          s
      },
      _hasMultipleValues: function () {
        return this.options.values && this.options.values.length
      },
      _start: function (t, e) {
        return this._trigger("start", t, this._uiHash(e))
      },
      _slide: function (t, e, i) {
        var s, n, o = this.value(), a = this.values();
        this._hasMultipleValues() && (n = this.values(e ? 0 : 1),
          o = this.values(e),
          2 === this.options.values.length && this.options.range === !0 && (i = 0 === e ? Math.min(n, i) : Math.max(n, i)),
          a[e] = i),
          i !== o && (s = this._trigger("slide", t, this._uiHash(e, i, a)),
            s !== !1 && (this._hasMultipleValues() ? this.values(e, i) : this.value(i)))
      },
      _stop: function (t, e) {
        this._trigger("stop", t, this._uiHash(e))
      },
      _change: function (t, e) {
        this._keySliding || this._mouseSliding || (this._lastChangedValue = e,
          this._trigger("change", t, this._uiHash(e)))
      },
      value: function (t) {
        return arguments.length ? (this.options.value = this._trimAlignValue(t),
          this._refreshValue(),
          this._change(null, 0),
          void 0) : this._value()
      },
      values: function (e, i) {
        var s, n, o;
        if (arguments.length > 1)
          return this.options.values[e] = this._trimAlignValue(i),
            this._refreshValue(),
            this._change(null, e),
            void 0;
        if (!arguments.length)
          return this._values();
        if (!t.isArray(arguments[0]))
          return this._hasMultipleValues() ? this._values(e) : this.value();
        for (s = this.options.values,
          n = arguments[0],
          o = 0; s.length > o; o += 1)
          s[o] = this._trimAlignValue(n[o]),
            this._change(null, o);
        this._refreshValue()
      },
      _setOption: function (e, i) {
        var s, n = 0;
        switch ("range" === e && this.options.range === !0 && ("min" === i ? (this.options.value = this._values(0),
          this.options.values = null) : "max" === i && (this.options.value = this._values(this.options.values.length - 1),
            this.options.values = null)),
        t.isArray(this.options.values) && (n = this.options.values.length),
        this._super(e, i),
        e) {
          case "orientation":
            this._detectOrientation(),
              this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-" + this.orientation),
              this._refreshValue(),
              this.options.range && this._refreshRange(i),
              this.handles.css("horizontal" === i ? "bottom" : "left", "");
            break;
          case "value":
            this._animateOff = !0,
              this._refreshValue(),
              this._change(null, 0),
              this._animateOff = !1;
            break;
          case "values":
            for (this._animateOff = !0,
              this._refreshValue(),
              s = n - 1; s >= 0; s--)
              this._change(null, s);
            this._animateOff = !1;
            break;
          case "step":
          case "min":
          case "max":
            this._animateOff = !0,
              this._calculateNewMax(),
              this._refreshValue(),
              this._animateOff = !1;
            break;
          case "range":
            this._animateOff = !0,
              this._refresh(),
              this._animateOff = !1
        }
      },
      _setOptionDisabled: function (t) {
        this._super(t),
          this._toggleClass(null, "ui-state-disabled", !!t)
      },
      _value: function () {
        var t = this.options.value;
        return t = this._trimAlignValue(t)
      },
      _values: function (t) {
        var e, i, s;
        if (arguments.length)
          return e = this.options.values[t],
            e = this._trimAlignValue(e);
        if (this._hasMultipleValues()) {
          for (i = this.options.values.slice(),
            s = 0; i.length > s; s += 1)
            i[s] = this._trimAlignValue(i[s]);
          return i
        }
        return []
      },
      _trimAlignValue: function (t) {
        if (this._valueMin() >= t)
          return this._valueMin();
        if (t >= this._valueMax())
          return this._valueMax();
        var e = this.options.step > 0 ? this.options.step : 1
          , i = (t - this._valueMin()) % e
          , s = t - i;
        return 2 * Math.abs(i) >= e && (s += i > 0 ? e : -e),
          parseFloat(s.toFixed(5))
      },
      _calculateNewMax: function () {
        var t = this.options.max
          , e = this._valueMin()
          , i = this.options.step
          , s = Math.round((t - e) / i) * i;
        t = s + e,
          t > this.options.max && (t -= i),
          this.max = parseFloat(t.toFixed(this._precision()))
      },
      _precision: function () {
        var t = this._precisionOf(this.options.step);
        return null !== this.options.min && (t = Math.max(t, this._precisionOf(this.options.min))),
          t
      },
      _precisionOf: function (t) {
        var e = "" + t
          , i = e.indexOf(".");
        return -1 === i ? 0 : e.length - i - 1
      },
      _valueMin: function () {
        return this.options.min
      },
      _valueMax: function () {
        return this.max
      },
      _refreshRange: function (t) {
        "vertical" === t && this.range.css({
          width: "",
          left: ""
        }),
          "horizontal" === t && this.range.css({
            height: "",
            bottom: ""
          })
      },
      _refreshValue: function () {
        var e, i, s, n, o, a = this.options.range, r = this.options, h = this, l = this._animateOff ? !1 : r.animate, c = {};
        this._hasMultipleValues() ? this.handles.each(function (s) {
          i = 100 * ((h.values(s) - h._valueMin()) / (h._valueMax() - h._valueMin())),
            c["horizontal" === h.orientation ? "left" : "bottom"] = i + "%",
            t(this).stop(1, 1)[l ? "animate" : "css"](c, r.animate),
            h.options.range === !0 && ("horizontal" === h.orientation ? (0 === s && h.range.stop(1, 1)[l ? "animate" : "css"]({
              left: i + "%"
            }, r.animate),
              1 === s && h.range[l ? "animate" : "css"]({
                width: i - e + "%"
              }, {
                queue: !1,
                duration: r.animate
              })) : (0 === s && h.range.stop(1, 1)[l ? "animate" : "css"]({
                bottom: i + "%"
              }, r.animate),
                1 === s && h.range[l ? "animate" : "css"]({
                  height: i - e + "%"
                }, {
                  queue: !1,
                  duration: r.animate
                }))),
            e = i
        }) : (s = this.value(),
          n = this._valueMin(),
          o = this._valueMax(),
          i = o !== n ? 100 * ((s - n) / (o - n)) : 0,
          c["horizontal" === this.orientation ? "left" : "bottom"] = i + "%",
          this.handle.stop(1, 1)[l ? "animate" : "css"](c, r.animate),
          "min" === a && "horizontal" === this.orientation && this.range.stop(1, 1)[l ? "animate" : "css"]({
            width: i + "%"
          }, r.animate),
          "max" === a && "horizontal" === this.orientation && this.range.stop(1, 1)[l ? "animate" : "css"]({
            width: 100 - i + "%"
          }, r.animate),
          "min" === a && "vertical" === this.orientation && this.range.stop(1, 1)[l ? "animate" : "css"]({
            height: i + "%"
          }, r.animate),
          "max" === a && "vertical" === this.orientation && this.range.stop(1, 1)[l ? "animate" : "css"]({
            height: 100 - i + "%"
          }, r.animate))
      },
      _handleEvents: {
        keydown: function (e) {
          var i, s, n, o, a = t(e.target).data("ui-slider-handle-index");
          switch (e.keyCode) {
            case t.ui.keyCode.HOME:
            case t.ui.keyCode.END:
            case t.ui.keyCode.PAGE_UP:
            case t.ui.keyCode.PAGE_DOWN:
            case t.ui.keyCode.UP:
            case t.ui.keyCode.RIGHT:
            case t.ui.keyCode.DOWN:
            case t.ui.keyCode.LEFT:
              if (e.preventDefault(),
                !this._keySliding && (this._keySliding = !0,
                  this._addClass(t(e.target), null, "ui-state-active"),
                  i = this._start(e, a),
                  i === !1))
                return
          }
          switch (o = this.options.step,
          s = n = this._hasMultipleValues() ? this.values(a) : this.value(),
          e.keyCode) {
            case t.ui.keyCode.HOME:
              n = this._valueMin();
              break;
            case t.ui.keyCode.END:
              n = this._valueMax();
              break;
            case t.ui.keyCode.PAGE_UP:
              n = this._trimAlignValue(s + (this._valueMax() - this._valueMin()) / this.numPages);
              break;
            case t.ui.keyCode.PAGE_DOWN:
              n = this._trimAlignValue(s - (this._valueMax() - this._valueMin()) / this.numPages);
              break;
            case t.ui.keyCode.UP:
            case t.ui.keyCode.RIGHT:
              if (s === this._valueMax())
                return;
              n = this._trimAlignValue(s + o);
              break;
            case t.ui.keyCode.DOWN:
            case t.ui.keyCode.LEFT:
              if (s === this._valueMin())
                return;
              n = this._trimAlignValue(s - o)
          }
          this._slide(e, a, n)
        },
        keyup: function (e) {
          var i = t(e.target).data("ui-slider-handle-index");
          this._keySliding && (this._keySliding = !1,
            this._stop(e, i),
            this._change(e, i),
            this._removeClass(t(e.target), null, "ui-state-active"))
        }
      }
    }),
    t.widget("ui.sortable", t.ui.mouse, {
      version: "1.12.1",
      widgetEventPrefix: "sort",
      ready: !1,
      options: {
        appendTo: "parent",
        axis: !1,
        connectWith: !1,
        containment: !1,
        cursor: "auto",
        cursorAt: !1,
        dropOnEmpty: !0,
        forcePlaceholderSize: !1,
        forceHelperSize: !1,
        grid: !1,
        handle: !1,
        helper: "original",
        items: "> *",
        opacity: !1,
        placeholder: !1,
        revert: !1,
        scroll: !0,
        scrollSensitivity: 20,
        scrollSpeed: 20,
        scope: "default",
        tolerance: "intersect",
        zIndex: 1e3,
        activate: null,
        beforeStop: null,
        change: null,
        deactivate: null,
        out: null,
        over: null,
        receive: null,
        remove: null,
        sort: null,
        start: null,
        stop: null,
        update: null
      },
      _isOverAxis: function (t, e, i) {
        return t >= e && e + i > t
      },
      _isFloating: function (t) {
        return /left|right/.test(t.css("float")) || /inline|table-cell/.test(t.css("display"))
      },
      _create: function () {
        this.containerCache = {},
          this._addClass("ui-sortable"),
          this.refresh(),
          this.offset = this.element.offset(),
          this._mouseInit(),
          this._setHandleClassName(),
          this.ready = !0
      },
      _setOption: function (t, e) {
        this._super(t, e),
          "handle" === t && this._setHandleClassName()
      },
      _setHandleClassName: function () {
        var e = this;
        this._removeClass(this.element.find(".ui-sortable-handle"), "ui-sortable-handle"),
          t.each(this.items, function () {
            e._addClass(this.instance.options.handle ? this.item.find(this.instance.options.handle) : this.item, "ui-sortable-handle")
          })
      },
      _destroy: function () {
        this._mouseDestroy();
        for (var t = this.items.length - 1; t >= 0; t--)
          this.items[t].item.removeData(this.widgetName + "-item");
        return this
      },
      _mouseCapture: function (e, i) {
        var s = null
          , n = !1
          , o = this;
        return this.reverting ? !1 : this.options.disabled || "static" === this.options.type ? !1 : (this._refreshItems(e),
          t(e.target).parents().each(function () {
            return t.data(this, o.widgetName + "-item") === o ? (s = t(this),
              !1) : void 0
          }),
          t.data(e.target, o.widgetName + "-item") === o && (s = t(e.target)),
          s ? !this.options.handle || i || (t(this.options.handle, s).find("*").addBack().each(function () {
            this === e.target && (n = !0)
          }),
            n) ? (this.currentItem = s,
              this._removeCurrentsFromItems(),
              !0) : !1 : !1)
      },
      _mouseStart: function (e, i, s) {
        var n, o, a = this.options;
        if (this.currentContainer = this,
          this.refreshPositions(),
          this.helper = this._createHelper(e),
          this._cacheHelperProportions(),
          this._cacheMargins(),
          this.scrollParent = this.helper.scrollParent(),
          this.offset = this.currentItem.offset(),
          this.offset = {
            top: this.offset.top - this.margins.top,
            left: this.offset.left - this.margins.left
          },
          t.extend(this.offset, {
            click: {
              left: e.pageX - this.offset.left,
              top: e.pageY - this.offset.top
            },
            parent: this._getParentOffset(),
            relative: this._getRelativeOffset()
          }),
          this.helper.css("position", "absolute"),
          this.cssPosition = this.helper.css("position"),
          this.originalPosition = this._generatePosition(e),
          this.originalPageX = e.pageX,
          this.originalPageY = e.pageY,
          a.cursorAt && this._adjustOffsetFromHelper(a.cursorAt),
          this.domPosition = {
            prev: this.currentItem.prev()[0],
            parent: this.currentItem.parent()[0]
          },
          this.helper[0] !== this.currentItem[0] && this.currentItem.hide(),
          this._createPlaceholder(),
          a.containment && this._setContainment(),
          a.cursor && "auto" !== a.cursor && (o = this.document.find("body"),
            this.storedCursor = o.css("cursor"),
            o.css("cursor", a.cursor),
            this.storedStylesheet = t("<style>*{ cursor: " + a.cursor + " !important; }</style>").appendTo(o)),
          a.opacity && (this.helper.css("opacity") && (this._storedOpacity = this.helper.css("opacity")),
            this.helper.css("opacity", a.opacity)),
          a.zIndex && (this.helper.css("zIndex") && (this._storedZIndex = this.helper.css("zIndex")),
            this.helper.css("zIndex", a.zIndex)),
          this.scrollParent[0] !== this.document[0] && "HTML" !== this.scrollParent[0].tagName && (this.overflowOffset = this.scrollParent.offset()),
          this._trigger("start", e, this._uiHash()),
          this._preserveHelperProportions || this._cacheHelperProportions(),
          !s)
          for (n = this.containers.length - 1; n >= 0; n--)
            this.containers[n]._trigger("activate", e, this._uiHash(this));
        return t.ui.ddmanager && (t.ui.ddmanager.current = this),
          t.ui.ddmanager && !a.dropBehaviour && t.ui.ddmanager.prepareOffsets(this, e),
          this.dragging = !0,
          this._addClass(this.helper, "ui-sortable-helper"),
          this._mouseDrag(e),
          !0
      },
      _mouseDrag: function (e) {
        var i, s, n, o, a = this.options, r = !1;
        for (this.position = this._generatePosition(e),
          this.positionAbs = this._convertPositionTo("absolute"),
          this.lastPositionAbs || (this.lastPositionAbs = this.positionAbs),
          this.options.scroll && (this.scrollParent[0] !== this.document[0] && "HTML" !== this.scrollParent[0].tagName ? (this.overflowOffset.top + this.scrollParent[0].offsetHeight - e.pageY < a.scrollSensitivity ? this.scrollParent[0].scrollTop = r = this.scrollParent[0].scrollTop + a.scrollSpeed : e.pageY - this.overflowOffset.top < a.scrollSensitivity && (this.scrollParent[0].scrollTop = r = this.scrollParent[0].scrollTop - a.scrollSpeed),
            this.overflowOffset.left + this.scrollParent[0].offsetWidth - e.pageX < a.scrollSensitivity ? this.scrollParent[0].scrollLeft = r = this.scrollParent[0].scrollLeft + a.scrollSpeed : e.pageX - this.overflowOffset.left < a.scrollSensitivity && (this.scrollParent[0].scrollLeft = r = this.scrollParent[0].scrollLeft - a.scrollSpeed)) : (e.pageY - this.document.scrollTop() < a.scrollSensitivity ? r = this.document.scrollTop(this.document.scrollTop() - a.scrollSpeed) : this.window.height() - (e.pageY - this.document.scrollTop()) < a.scrollSensitivity && (r = this.document.scrollTop(this.document.scrollTop() + a.scrollSpeed)),
              e.pageX - this.document.scrollLeft() < a.scrollSensitivity ? r = this.document.scrollLeft(this.document.scrollLeft() - a.scrollSpeed) : this.window.width() - (e.pageX - this.document.scrollLeft()) < a.scrollSensitivity && (r = this.document.scrollLeft(this.document.scrollLeft() + a.scrollSpeed))),
            r !== !1 && t.ui.ddmanager && !a.dropBehaviour && t.ui.ddmanager.prepareOffsets(this, e)),
          this.positionAbs = this._convertPositionTo("absolute"),
          this.options.axis && "y" === this.options.axis || (this.helper[0].style.left = this.position.left + "px"),
          this.options.axis && "x" === this.options.axis || (this.helper[0].style.top = this.position.top + "px"),
          i = this.items.length - 1; i >= 0; i--)
          if (s = this.items[i],
            n = s.item[0],
            o = this._intersectsWithPointer(s),
            o && s.instance === this.currentContainer && n !== this.currentItem[0] && this.placeholder[1 === o ? "next" : "prev"]()[0] !== n && !t.contains(this.placeholder[0], n) && ("semi-dynamic" === this.options.type ? !t.contains(this.element[0], n) : !0)) {
            if (this.direction = 1 === o ? "down" : "up",
              "pointer" !== this.options.tolerance && !this._intersectsWithSides(s))
              break;
            this._rearrange(e, s),
              this._trigger("change", e, this._uiHash());
            break
          }
        return this._contactContainers(e),
          t.ui.ddmanager && t.ui.ddmanager.drag(this, e),
          this._trigger("sort", e, this._uiHash()),
          this.lastPositionAbs = this.positionAbs,
          !1
      },
      _mouseStop: function (e, i) {
        if (e) {
          if (t.ui.ddmanager && !this.options.dropBehaviour && t.ui.ddmanager.drop(this, e),
            this.options.revert) {
            var s = this
              , n = this.placeholder.offset()
              , o = this.options.axis
              , a = {};
            o && "x" !== o || (a.left = n.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] === this.document[0].body ? 0 : this.offsetParent[0].scrollLeft)),
              o && "y" !== o || (a.top = n.top - this.offset.parent.top - this.margins.top + (this.offsetParent[0] === this.document[0].body ? 0 : this.offsetParent[0].scrollTop)),
              this.reverting = !0,
              t(this.helper).animate(a, parseInt(this.options.revert, 10) || 500, function () {
                s._clear(e)
              })
          } else
            this._clear(e, i);
          return !1
        }
      },
      cancel: function () {
        if (this.dragging) {
          this._mouseUp(new t.Event("mouseup", {
            target: null
          })),
            "original" === this.options.helper ? (this.currentItem.css(this._storedCSS),
              this._removeClass(this.currentItem, "ui-sortable-helper")) : this.currentItem.show();
          for (var e = this.containers.length - 1; e >= 0; e--)
            this.containers[e]._trigger("deactivate", null, this._uiHash(this)),
              this.containers[e].containerCache.over && (this.containers[e]._trigger("out", null, this._uiHash(this)),
                this.containers[e].containerCache.over = 0)
        }
        return this.placeholder && (this.placeholder[0].parentNode && this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
          "original" !== this.options.helper && this.helper && this.helper[0].parentNode && this.helper.remove(),
          t.extend(this, {
            helper: null,
            dragging: !1,
            reverting: !1,
            _noFinalSort: null
          }),
          this.domPosition.prev ? t(this.domPosition.prev).after(this.currentItem) : t(this.domPosition.parent).prepend(this.currentItem)),
          this
      },
      serialize: function (e) {
        var i = this._getItemsAsjQuery(e && e.connected)
          , s = [];
        return e = e || {},
          t(i).each(function () {
            var i = (t(e.item || this).attr(e.attribute || "id") || "").match(e.expression || /(.+)[\-=_](.+)/);
            i && s.push((e.key || i[1] + "[]") + "=" + (e.key && e.expression ? i[1] : i[2]))
          }),
          !s.length && e.key && s.push(e.key + "="),
          s.join("&")
      },
      toArray: function (e) {
        var i = this._getItemsAsjQuery(e && e.connected)
          , s = [];
        return e = e || {},
          i.each(function () {
            s.push(t(e.item || this).attr(e.attribute || "id") || "")
          }),
          s
      },
      _intersectsWith: function (t) {
        var e = this.positionAbs.left
          , i = e + this.helperProportions.width
          , s = this.positionAbs.top
          , n = s + this.helperProportions.height
          , o = t.left
          , a = o + t.width
          , r = t.top
          , h = r + t.height
          , l = this.offset.click.top
          , c = this.offset.click.left
          , u = "x" === this.options.axis || s + l > r && h > s + l
          , d = "y" === this.options.axis || e + c > o && a > e + c
          , p = u && d;
        return "pointer" === this.options.tolerance || this.options.forcePointerForContainers || "pointer" !== this.options.tolerance && this.helperProportions[this.floating ? "width" : "height"] > t[this.floating ? "width" : "height"] ? p : e + this.helperProportions.width / 2 > o && a > i - this.helperProportions.width / 2 && s + this.helperProportions.height / 2 > r && h > n - this.helperProportions.height / 2
      },
      _intersectsWithPointer: function (t) {
        var e, i, s = "x" === this.options.axis || this._isOverAxis(this.positionAbs.top + this.offset.click.top, t.top, t.height), n = "y" === this.options.axis || this._isOverAxis(this.positionAbs.left + this.offset.click.left, t.left, t.width), o = s && n;
        return o ? (e = this._getDragVerticalDirection(),
          i = this._getDragHorizontalDirection(),
          this.floating ? "right" === i || "down" === e ? 2 : 1 : e && ("down" === e ? 2 : 1)) : !1
      },
      _intersectsWithSides: function (t) {
        var e = this._isOverAxis(this.positionAbs.top + this.offset.click.top, t.top + t.height / 2, t.height)
          , i = this._isOverAxis(this.positionAbs.left + this.offset.click.left, t.left + t.width / 2, t.width)
          , s = this._getDragVerticalDirection()
          , n = this._getDragHorizontalDirection();
        return this.floating && n ? "right" === n && i || "left" === n && !i : s && ("down" === s && e || "up" === s && !e)
      },
      _getDragVerticalDirection: function () {
        var t = this.positionAbs.top - this.lastPositionAbs.top;
        return 0 !== t && (t > 0 ? "down" : "up")
      },
      _getDragHorizontalDirection: function () {
        var t = this.positionAbs.left - this.lastPositionAbs.left;
        return 0 !== t && (t > 0 ? "right" : "left")
      },
      refresh: function (t) {
        return this._refreshItems(t),
          this._setHandleClassName(),
          this.refreshPositions(),
          this
      },
      _connectWith: function () {
        var t = this.options;
        return t.connectWith.constructor === String ? [t.connectWith] : t.connectWith
      },
      _getItemsAsjQuery: function (e) {
        function i() {
          r.push(this)
        }
        var s, n, o, a, r = [], h = [], l = this._connectWith();
        if (l && e)
          for (s = l.length - 1; s >= 0; s--)
            for (o = t(l[s], this.document[0]),
              n = o.length - 1; n >= 0; n--)
              a = t.data(o[n], this.widgetFullName),
                a && a !== this && !a.options.disabled && h.push([t.isFunction(a.options.items) ? a.options.items.call(a.element) : t(a.options.items, a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), a]);
        for (h.push([t.isFunction(this.options.items) ? this.options.items.call(this.element, null, {
          options: this.options,
          item: this.currentItem
        }) : t(this.options.items, this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), this]),
          s = h.length - 1; s >= 0; s--)
          h[s][0].each(i);
        return t(r)
      },
      _removeCurrentsFromItems: function () {
        var e = this.currentItem.find(":data(" + this.widgetName + "-item)");
        this.items = t.grep(this.items, function (t) {
          for (var i = 0; e.length > i; i++)
            if (e[i] === t.item[0])
              return !1;
          return !0
        })
      },
      _refreshItems: function (e) {
        this.items = [],
          this.containers = [this];
        var i, s, n, o, a, r, h, l, c = this.items, u = [[t.isFunction(this.options.items) ? this.options.items.call(this.element[0], e, {
          item: this.currentItem
        }) : t(this.options.items, this.element), this]], d = this._connectWith();
        if (d && this.ready)
          for (i = d.length - 1; i >= 0; i--)
            for (n = t(d[i], this.document[0]),
              s = n.length - 1; s >= 0; s--)
              o = t.data(n[s], this.widgetFullName),
                o && o !== this && !o.options.disabled && (u.push([t.isFunction(o.options.items) ? o.options.items.call(o.element[0], e, {
                  item: this.currentItem
                }) : t(o.options.items, o.element), o]),
                  this.containers.push(o));
        for (i = u.length - 1; i >= 0; i--)
          for (a = u[i][1],
            r = u[i][0],
            s = 0,
            l = r.length; l > s; s++)
            h = t(r[s]),
              h.data(this.widgetName + "-item", a),
              c.push({
                item: h,
                instance: a,
                width: 0,
                height: 0,
                left: 0,
                top: 0
              })
      },
      refreshPositions: function (e) {
        this.floating = this.items.length ? "x" === this.options.axis || this._isFloating(this.items[0].item) : !1,
          this.offsetParent && this.helper && (this.offset.parent = this._getParentOffset());
        var i, s, n, o;
        for (i = this.items.length - 1; i >= 0; i--)
          s = this.items[i],
            s.instance !== this.currentContainer && this.currentContainer && s.item[0] !== this.currentItem[0] || (n = this.options.toleranceElement ? t(this.options.toleranceElement, s.item) : s.item,
              e || (s.width = n.outerWidth(),
                s.height = n.outerHeight()),
              o = n.offset(),
              s.left = o.left,
              s.top = o.top);
        if (this.options.custom && this.options.custom.refreshContainers)
          this.options.custom.refreshContainers.call(this);
        else
          for (i = this.containers.length - 1; i >= 0; i--)
            o = this.containers[i].element.offset(),
              this.containers[i].containerCache.left = o.left,
              this.containers[i].containerCache.top = o.top,
              this.containers[i].containerCache.width = this.containers[i].element.outerWidth(),
              this.containers[i].containerCache.height = this.containers[i].element.outerHeight();
        return this
      },
      _createPlaceholder: function (e) {
        e = e || this;
        var i, s = e.options;
        s.placeholder && s.placeholder.constructor !== String || (i = s.placeholder,
          s.placeholder = {
            element: function () {
              var s = e.currentItem[0].nodeName.toLowerCase()
                , n = t("<" + s + ">", e.document[0]);
              return e._addClass(n, "ui-sortable-placeholder", i || e.currentItem[0].className)._removeClass(n, "ui-sortable-helper"),
                "tbody" === s ? e._createTrPlaceholder(e.currentItem.find("tr").eq(0), t("<tr>", e.document[0]).appendTo(n)) : "tr" === s ? e._createTrPlaceholder(e.currentItem, n) : "img" === s && n.attr("src", e.currentItem.attr("src")),
                i || n.css("visibility", "hidden"),
                n
            },
            update: function (t, n) {
              (!i || s.forcePlaceholderSize) && (n.height() || n.height(e.currentItem.innerHeight() - parseInt(e.currentItem.css("paddingTop") || 0, 10) - parseInt(e.currentItem.css("paddingBottom") || 0, 10)),
                n.width() || n.width(e.currentItem.innerWidth() - parseInt(e.currentItem.css("paddingLeft") || 0, 10) - parseInt(e.currentItem.css("paddingRight") || 0, 10)))
            }
          }),
          e.placeholder = t(s.placeholder.element.call(e.element, e.currentItem)),
          e.currentItem.after(e.placeholder),
          s.placeholder.update(e, e.placeholder)
      },
      _createTrPlaceholder: function (e, i) {
        var s = this;
        e.children().each(function () {
          t("<td>&#160;</td>", s.document[0]).attr("colspan", t(this).attr("colspan") || 1).appendTo(i)
        })
      },
      _contactContainers: function (e) {
        var i, s, n, o, a, r, h, l, c, u, d = null, p = null;
        for (i = this.containers.length - 1; i >= 0; i--)
          if (!t.contains(this.currentItem[0], this.containers[i].element[0]))
            if (this._intersectsWith(this.containers[i].containerCache)) {
              if (d && t.contains(this.containers[i].element[0], d.element[0]))
                continue;
              d = this.containers[i],
                p = i
            } else
              this.containers[i].containerCache.over && (this.containers[i]._trigger("out", e, this._uiHash(this)),
                this.containers[i].containerCache.over = 0);
        if (d)
          if (1 === this.containers.length)
            this.containers[p].containerCache.over || (this.containers[p]._trigger("over", e, this._uiHash(this)),
              this.containers[p].containerCache.over = 1);
          else {
            for (n = 1e4,
              o = null,
              c = d.floating || this._isFloating(this.currentItem),
              a = c ? "left" : "top",
              r = c ? "width" : "height",
              u = c ? "pageX" : "pageY",
              s = this.items.length - 1; s >= 0; s--)
              t.contains(this.containers[p].element[0], this.items[s].item[0]) && this.items[s].item[0] !== this.currentItem[0] && (h = this.items[s].item.offset()[a],
                l = !1,
                e[u] - h > this.items[s][r] / 2 && (l = !0),
                n > Math.abs(e[u] - h) && (n = Math.abs(e[u] - h),
                  o = this.items[s],
                  this.direction = l ? "up" : "down"));
            if (!o && !this.options.dropOnEmpty)
              return;
            if (this.currentContainer === this.containers[p])
              return this.currentContainer.containerCache.over || (this.containers[p]._trigger("over", e, this._uiHash()),
                this.currentContainer.containerCache.over = 1),
                void 0;
            o ? this._rearrange(e, o, null, !0) : this._rearrange(e, null, this.containers[p].element, !0),
              this._trigger("change", e, this._uiHash()),
              this.containers[p]._trigger("change", e, this._uiHash(this)),
              this.currentContainer = this.containers[p],
              this.options.placeholder.update(this.currentContainer, this.placeholder),
              this.containers[p]._trigger("over", e, this._uiHash(this)),
              this.containers[p].containerCache.over = 1
          }
      },
      _createHelper: function (e) {
        var i = this.options
          , s = t.isFunction(i.helper) ? t(i.helper.apply(this.element[0], [e, this.currentItem])) : "clone" === i.helper ? this.currentItem.clone() : this.currentItem;
        return s.parents("body").length || t("parent" !== i.appendTo ? i.appendTo : this.currentItem[0].parentNode)[0].appendChild(s[0]),
          s[0] === this.currentItem[0] && (this._storedCSS = {
            width: this.currentItem[0].style.width,
            height: this.currentItem[0].style.height,
            position: this.currentItem.css("position"),
            top: this.currentItem.css("top"),
            left: this.currentItem.css("left")
          }),
          (!s[0].style.width || i.forceHelperSize) && s.width(this.currentItem.width()),
          (!s[0].style.height || i.forceHelperSize) && s.height(this.currentItem.height()),
          s
      },
      _adjustOffsetFromHelper: function (e) {
        "string" == typeof e && (e = e.split(" ")),
          t.isArray(e) && (e = {
            left: +e[0],
            top: +e[1] || 0
          }),
          "left" in e && (this.offset.click.left = e.left + this.margins.left),
          "right" in e && (this.offset.click.left = this.helperProportions.width - e.right + this.margins.left),
          "top" in e && (this.offset.click.top = e.top + this.margins.top),
          "bottom" in e && (this.offset.click.top = this.helperProportions.height - e.bottom + this.margins.top)
      },
      _getParentOffset: function () {
        this.offsetParent = this.helper.offsetParent();
        var e = this.offsetParent.offset();
        return "absolute" === this.cssPosition && this.scrollParent[0] !== this.document[0] && t.contains(this.scrollParent[0], this.offsetParent[0]) && (e.left += this.scrollParent.scrollLeft(),
          e.top += this.scrollParent.scrollTop()),
          (this.offsetParent[0] === this.document[0].body || this.offsetParent[0].tagName && "html" === this.offsetParent[0].tagName.toLowerCase() && t.ui.ie) && (e = {
            top: 0,
            left: 0
          }),
        {
          top: e.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
          left: e.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
        }
      },
      _getRelativeOffset: function () {
        if ("relative" === this.cssPosition) {
          var t = this.currentItem.position();
          return {
            top: t.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
            left: t.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
          }
        }
        return {
          top: 0,
          left: 0
        }
      },
      _cacheMargins: function () {
        this.margins = {
          left: parseInt(this.currentItem.css("marginLeft"), 10) || 0,
          top: parseInt(this.currentItem.css("marginTop"), 10) || 0
        }
      },
      _cacheHelperProportions: function () {
        this.helperProportions = {
          width: this.helper.outerWidth(),
          height: this.helper.outerHeight()
        }
      },
      _setContainment: function () {
        var e, i, s, n = this.options;
        "parent" === n.containment && (n.containment = this.helper[0].parentNode),
          ("document" === n.containment || "window" === n.containment) && (this.containment = [0 - this.offset.relative.left - this.offset.parent.left, 0 - this.offset.relative.top - this.offset.parent.top, "document" === n.containment ? this.document.width() : this.window.width() - this.helperProportions.width - this.margins.left, ("document" === n.containment ? this.document.height() || document.body.parentNode.scrollHeight : this.window.height() || this.document[0].body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]),
          /^(document|window|parent)$/.test(n.containment) || (e = t(n.containment)[0],
            i = t(n.containment).offset(),
            s = "hidden" !== t(e).css("overflow"),
            this.containment = [i.left + (parseInt(t(e).css("borderLeftWidth"), 10) || 0) + (parseInt(t(e).css("paddingLeft"), 10) || 0) - this.margins.left, i.top + (parseInt(t(e).css("borderTopWidth"), 10) || 0) + (parseInt(t(e).css("paddingTop"), 10) || 0) - this.margins.top, i.left + (s ? Math.max(e.scrollWidth, e.offsetWidth) : e.offsetWidth) - (parseInt(t(e).css("borderLeftWidth"), 10) || 0) - (parseInt(t(e).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left, i.top + (s ? Math.max(e.scrollHeight, e.offsetHeight) : e.offsetHeight) - (parseInt(t(e).css("borderTopWidth"), 10) || 0) - (parseInt(t(e).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top])
      },
      _convertPositionTo: function (e, i) {
        i || (i = this.position);
        var s = "absolute" === e ? 1 : -1
          , n = "absolute" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && t.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent
          , o = /(html|body)/i.test(n[0].tagName);
        return {
          top: i.top + this.offset.relative.top * s + this.offset.parent.top * s - ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : o ? 0 : n.scrollTop()) * s,
          left: i.left + this.offset.relative.left * s + this.offset.parent.left * s - ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : o ? 0 : n.scrollLeft()) * s
        }
      },
      _generatePosition: function (e) {
        var i, s, n = this.options, o = e.pageX, a = e.pageY, r = "absolute" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && t.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent, h = /(html|body)/i.test(r[0].tagName);
        return "relative" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && this.scrollParent[0] !== this.offsetParent[0] || (this.offset.relative = this._getRelativeOffset()),
          this.originalPosition && (this.containment && (e.pageX - this.offset.click.left < this.containment[0] && (o = this.containment[0] + this.offset.click.left),
            e.pageY - this.offset.click.top < this.containment[1] && (a = this.containment[1] + this.offset.click.top),
            e.pageX - this.offset.click.left > this.containment[2] && (o = this.containment[2] + this.offset.click.left),
            e.pageY - this.offset.click.top > this.containment[3] && (a = this.containment[3] + this.offset.click.top)),
            n.grid && (i = this.originalPageY + Math.round((a - this.originalPageY) / n.grid[1]) * n.grid[1],
              a = this.containment ? i - this.offset.click.top >= this.containment[1] && i - this.offset.click.top <= this.containment[3] ? i : i - this.offset.click.top >= this.containment[1] ? i - n.grid[1] : i + n.grid[1] : i,
              s = this.originalPageX + Math.round((o - this.originalPageX) / n.grid[0]) * n.grid[0],
              o = this.containment ? s - this.offset.click.left >= this.containment[0] && s - this.offset.click.left <= this.containment[2] ? s : s - this.offset.click.left >= this.containment[0] ? s - n.grid[0] : s + n.grid[0] : s)),
        {
          top: a - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : h ? 0 : r.scrollTop()),
          left: o - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : h ? 0 : r.scrollLeft())
        }
      },
      _rearrange: function (t, e, i, s) {
        i ? i[0].appendChild(this.placeholder[0]) : e.item[0].parentNode.insertBefore(this.placeholder[0], "down" === this.direction ? e.item[0] : e.item[0].nextSibling),
          this.counter = this.counter ? ++this.counter : 1;
        var n = this.counter;
        this._delay(function () {
          n === this.counter && this.refreshPositions(!s)
        })
      },
      _clear: function (t, e) {
        function i(t, e, i) {
          return function (s) {
            i._trigger(t, s, e._uiHash(e))
          }
        }
        this.reverting = !1;
        var s, n = [];
        if (!this._noFinalSort && this.currentItem.parent().length && this.placeholder.before(this.currentItem),
          this._noFinalSort = null,
          this.helper[0] === this.currentItem[0]) {
          for (s in this._storedCSS)
            ("auto" === this._storedCSS[s] || "static" === this._storedCSS[s]) && (this._storedCSS[s] = "");
          this.currentItem.css(this._storedCSS),
            this._removeClass(this.currentItem, "ui-sortable-helper")
        } else
          this.currentItem.show();
        for (this.fromOutside && !e && n.push(function (t) {
          this._trigger("receive", t, this._uiHash(this.fromOutside))
        }),
          !this.fromOutside && this.domPosition.prev === this.currentItem.prev().not(".ui-sortable-helper")[0] && this.domPosition.parent === this.currentItem.parent()[0] || e || n.push(function (t) {
            this._trigger("update", t, this._uiHash())
          }),
          this !== this.currentContainer && (e || (n.push(function (t) {
            this._trigger("remove", t, this._uiHash())
          }),
            n.push(function (t) {
              return function (e) {
                t._trigger("receive", e, this._uiHash(this))
              }
            }
              .call(this, this.currentContainer)),
            n.push(function (t) {
              return function (e) {
                t._trigger("update", e, this._uiHash(this))
              }
            }
              .call(this, this.currentContainer)))),
          s = this.containers.length - 1; s >= 0; s--)
          e || n.push(i("deactivate", this, this.containers[s])),
            this.containers[s].containerCache.over && (n.push(i("out", this, this.containers[s])),
              this.containers[s].containerCache.over = 0);
        if (this.storedCursor && (this.document.find("body").css("cursor", this.storedCursor),
          this.storedStylesheet.remove()),
          this._storedOpacity && this.helper.css("opacity", this._storedOpacity),
          this._storedZIndex && this.helper.css("zIndex", "auto" === this._storedZIndex ? "" : this._storedZIndex),
          this.dragging = !1,
          e || this._trigger("beforeStop", t, this._uiHash()),
          this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
          this.cancelHelperRemoval || (this.helper[0] !== this.currentItem[0] && this.helper.remove(),
            this.helper = null),
          !e) {
          for (s = 0; n.length > s; s++)
            n[s].call(this, t);
          this._trigger("stop", t, this._uiHash())
        }
        return this.fromOutside = !1,
          !this.cancelHelperRemoval
      },
      _trigger: function () {
        t.Widget.prototype._trigger.apply(this, arguments) === !1 && this.cancel()
      },
      _uiHash: function (e) {
        var i = e || this;
        return {
          helper: i.helper,
          placeholder: i.placeholder || t([]),
          position: i.position,
          originalPosition: i.originalPosition,
          offset: i.positionAbs,
          item: i.currentItem,
          sender: e ? e.element : null
        }
      }
    }),
    t.widget("ui.spinner", {
      version: "1.12.1",
      defaultElement: "<input>",
      widgetEventPrefix: "spin",
      options: {
        classes: {
          "ui-spinner": "ui-corner-all",
          "ui-spinner-down": "ui-corner-br",
          "ui-spinner-up": "ui-corner-tr"
        },
        culture: null,
        icons: {
          down: "ui-icon-triangle-1-s",
          up: "ui-icon-triangle-1-n"
        },
        incremental: !0,
        max: null,
        min: null,
        numberFormat: null,
        page: 10,
        step: 1,
        change: null,
        spin: null,
        start: null,
        stop: null
      },
      _create: function () {
        this._setOption("max", this.options.max),
          this._setOption("min", this.options.min),
          this._setOption("step", this.options.step),
          "" !== this.value() && this._value(this.element.val(), !0),
          this._draw(),
          this._on(this._events),
          this._refresh(),
          this._on(this.window, {
            beforeunload: function () {
              this.element.removeAttr("autocomplete")
            }
          })
      },
      _getCreateOptions: function () {
        var e = this._super()
          , i = this.element;
        return t.each(["min", "max", "step"], function (t, s) {
          var n = i.attr(s);
          null != n && n.length && (e[s] = n)
        }),
          e
      },
      _events: {
        keydown: function (t) {
          this._start(t) && this._keydown(t) && t.preventDefault()
        },
        keyup: "_stop",
        focus: function () {
          this.previous = this.element.val()
        },
        blur: function (t) {
          return this.cancelBlur ? (delete this.cancelBlur,
            void 0) : (this._stop(),
              this._refresh(),
              this.previous !== this.element.val() && this._trigger("change", t),
              void 0)
        },
        mousewheel: function (t, e) {
          if (e) {
            if (!this.spinning && !this._start(t))
              return !1;
            this._spin((e > 0 ? 1 : -1) * this.options.step, t),
              clearTimeout(this.mousewheelTimer),
              this.mousewheelTimer = this._delay(function () {
                this.spinning && this._stop(t)
              }, 100),
              t.preventDefault()
          }
        },
        "mousedown .ui-spinner-button": function (e) {
          function i() {
            var e = this.element[0] === t.ui.safeActiveElement(this.document[0]);
            e || (this.element.trigger("focus"),
              this.previous = s,
              this._delay(function () {
                this.previous = s
              }))
          }
          var s;
          s = this.element[0] === t.ui.safeActiveElement(this.document[0]) ? this.previous : this.element.val(),
            e.preventDefault(),
            i.call(this),
            this.cancelBlur = !0,
            this._delay(function () {
              delete this.cancelBlur,
                i.call(this)
            }),
            this._start(e) !== !1 && this._repeat(null, t(e.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, e)
        },
        "mouseup .ui-spinner-button": "_stop",
        "mouseenter .ui-spinner-button": function (e) {
          return t(e.currentTarget).hasClass("ui-state-active") ? this._start(e) === !1 ? !1 : (this._repeat(null, t(e.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, e),
            void 0) : void 0
        },
        "mouseleave .ui-spinner-button": "_stop"
      },
      _enhance: function () {
        this.uiSpinner = this.element.attr("autocomplete", "off").wrap("<span>").parent().append("<a></a><a></a>")
      },
      _draw: function () {
        this._enhance(),
          this._addClass(this.uiSpinner, "ui-spinner", "ui-widget ui-widget-content"),
          this._addClass("ui-spinner-input"),
          this.element.attr("role", "spinbutton"),
          this.buttons = this.uiSpinner.children("a").attr("tabIndex", -1).attr("aria-hidden", !0).button({
            classes: {
              "ui-button": ""
            }
          }),
          this._removeClass(this.buttons, "ui-corner-all"),
          this._addClass(this.buttons.first(), "ui-spinner-button ui-spinner-up"),
          this._addClass(this.buttons.last(), "ui-spinner-button ui-spinner-down"),
          this.buttons.first().button({
            icon: this.options.icons.up,
            showLabel: !1
          }),
          this.buttons.last().button({
            icon: this.options.icons.down,
            showLabel: !1
          }),
          this.buttons.height() > Math.ceil(.5 * this.uiSpinner.height()) && this.uiSpinner.height() > 0 && this.uiSpinner.height(this.uiSpinner.height())
      },
      _keydown: function (e) {
        var i = this.options
          , s = t.ui.keyCode;
        switch (e.keyCode) {
          case s.UP:
            return this._repeat(null, 1, e),
              !0;
          case s.DOWN:
            return this._repeat(null, -1, e),
              !0;
          case s.PAGE_UP:
            return this._repeat(null, i.page, e),
              !0;
          case s.PAGE_DOWN:
            return this._repeat(null, -i.page, e),
              !0
        }
        return !1
      },
      _start: function (t) {
        return this.spinning || this._trigger("start", t) !== !1 ? (this.counter || (this.counter = 1),
          this.spinning = !0,
          !0) : !1
      },
      _repeat: function (t, e, i) {
        t = t || 500,
          clearTimeout(this.timer),
          this.timer = this._delay(function () {
            this._repeat(40, e, i)
          }, t),
          this._spin(e * this.options.step, i)
      },
      _spin: function (t, e) {
        var i = this.value() || 0;
        this.counter || (this.counter = 1),
          i = this._adjustValue(i + t * this._increment(this.counter)),
          this.spinning && this._trigger("spin", e, {
            value: i
          }) === !1 || (this._value(i),
            this.counter++)
      },
      _increment: function (e) {
        var i = this.options.incremental;
        return i ? t.isFunction(i) ? i(e) : Math.floor(e * e * e / 5e4 - e * e / 500 + 17 * e / 200 + 1) : 1
      },
      _precision: function () {
        var t = this._precisionOf(this.options.step);
        return null !== this.options.min && (t = Math.max(t, this._precisionOf(this.options.min))),
          t
      },
      _precisionOf: function (t) {
        var e = "" + t
          , i = e.indexOf(".");
        return -1 === i ? 0 : e.length - i - 1
      },
      _adjustValue: function (t) {
        var e, i, s = this.options;
        return e = null !== s.min ? s.min : 0,
          i = t - e,
          i = Math.round(i / s.step) * s.step,
          t = e + i,
          t = parseFloat(t.toFixed(this._precision())),
          null !== s.max && t > s.max ? s.max : null !== s.min && s.min > t ? s.min : t
      },
      _stop: function (t) {
        this.spinning && (clearTimeout(this.timer),
          clearTimeout(this.mousewheelTimer),
          this.counter = 0,
          this.spinning = !1,
          this._trigger("stop", t))
      },
      _setOption: function (t, e) {
        var i, s, n;
        return "culture" === t || "numberFormat" === t ? (i = this._parse(this.element.val()),
          this.options[t] = e,
          this.element.val(this._format(i)),
          void 0) : (("max" === t || "min" === t || "step" === t) && "string" == typeof e && (e = this._parse(e)),
            "icons" === t && (s = this.buttons.first().find(".ui-icon"),
              this._removeClass(s, null, this.options.icons.up),
              this._addClass(s, null, e.up),
              n = this.buttons.last().find(".ui-icon"),
              this._removeClass(n, null, this.options.icons.down),
              this._addClass(n, null, e.down)),
            this._super(t, e),
            void 0)
      },
      _setOptionDisabled: function (t) {
        this._super(t),
          this._toggleClass(this.uiSpinner, null, "ui-state-disabled", !!t),
          this.element.prop("disabled", !!t),
          this.buttons.button(t ? "disable" : "enable")
      },
      _setOptions: r(function (t) {
        this._super(t)
      }),
      _parse: function (t) {
        return "string" == typeof t && "" !== t && (t = window.Globalize && this.options.numberFormat ? Globalize.parseFloat(t, 10, this.options.culture) : +t),
          "" === t || isNaN(t) ? null : t
      },
      _format: function (t) {
        return "" === t ? "" : window.Globalize && this.options.numberFormat ? Globalize.format(t, this.options.numberFormat, this.options.culture) : t
      },
      _refresh: function () {
        this.element.attr({
          "aria-valuemin": this.options.min,
          "aria-valuemax": this.options.max,
          "aria-valuenow": this._parse(this.element.val())
        })
      },
      isValid: function () {
        var t = this.value();
        return null === t ? !1 : t === this._adjustValue(t)
      },
      _value: function (t, e) {
        var i;
        "" !== t && (i = this._parse(t),
          null !== i && (e || (i = this._adjustValue(i)),
            t = this._format(i))),
          this.element.val(t),
          this._refresh()
      },
      _destroy: function () {
        this.element.prop("disabled", !1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),
          this.uiSpinner.replaceWith(this.element)
      },
      stepUp: r(function (t) {
        this._stepUp(t)
      }),
      _stepUp: function (t) {
        this._start() && (this._spin((t || 1) * this.options.step),
          this._stop())
      },
      stepDown: r(function (t) {
        this._stepDown(t)
      }),
      _stepDown: function (t) {
        this._start() && (this._spin((t || 1) * -this.options.step),
          this._stop())
      },
      pageUp: r(function (t) {
        this._stepUp((t || 1) * this.options.page)
      }),
      pageDown: r(function (t) {
        this._stepDown((t || 1) * this.options.page)
      }),
      value: function (t) {
        return arguments.length ? (r(this._value).call(this, t),
          void 0) : this._parse(this.element.val())
      },
      widget: function () {
        return this.uiSpinner
      }
    }),
    t.uiBackCompat !== !1 && t.widget("ui.spinner", t.ui.spinner, {
      _enhance: function () {
        this.uiSpinner = this.element.attr("autocomplete", "off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())
      },
      _uiSpinnerHtml: function () {
        return "<span>"
      },
      _buttonHtml: function () {
        return "<a></a><a></a>"
      }
    }),
    t.ui.spinner,
    t.widget("ui.tabs", {
      version: "1.12.1",
      delay: 300,
      options: {
        active: null,
        classes: {
          "ui-tabs": "ui-corner-all",
          "ui-tabs-nav": "ui-corner-all",
          "ui-tabs-panel": "ui-corner-bottom",
          "ui-tabs-tab": "ui-corner-top"
        },
        collapsible: !1,
        event: "click",
        heightStyle: "content",
        hide: null,
        show: null,
        activate: null,
        beforeActivate: null,
        beforeLoad: null,
        load: null
      },
      _isLocal: function () {
        var t = /#.*$/;
        return function (e) {
          var i, s;
          i = e.href.replace(t, ""),
            s = location.href.replace(t, "");
          try {
            i = decodeURIComponent(i)
          } catch (n) { }
          try {
            s = decodeURIComponent(s)
          } catch (n) { }
          return e.hash.length > 1 && i === s
        }
      }(),
      _create: function () {
        var e = this
          , i = this.options;
        this.running = !1,
          this._addClass("ui-tabs", "ui-widget ui-widget-content"),
          this._toggleClass("ui-tabs-collapsible", null, i.collapsible),
          this._processTabs(),
          i.active = this._initialActive(),
          t.isArray(i.disabled) && (i.disabled = t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"), function (t) {
            return e.tabs.index(t)
          }))).sort()),
          this.active = this.options.active !== !1 && this.anchors.length ? this._findActive(i.active) : t(),
          this._refresh(),
          this.active.length && this.load(i.active)
      },
      _initialActive: function () {
        var e = this.options.active
          , i = this.options.collapsible
          , s = location.hash.substring(1);
        return null === e && (s && this.tabs.each(function (i, n) {
          return t(n).attr("aria-controls") === s ? (e = i,
            !1) : void 0
        }),
          null === e && (e = this.tabs.index(this.tabs.filter(".ui-tabs-active"))),
          (null === e || -1 === e) && (e = this.tabs.length ? 0 : !1)),
          e !== !1 && (e = this.tabs.index(this.tabs.eq(e)),
            -1 === e && (e = i ? !1 : 0)),
          !i && e === !1 && this.anchors.length && (e = 0),
          e
      },
      _getCreateEventData: function () {
        return {
          tab: this.active,
          panel: this.active.length ? this._getPanelForTab(this.active) : t()
        }
      },
      _tabKeydown: function (e) {
        var i = t(t.ui.safeActiveElement(this.document[0])).closest("li")
          , s = this.tabs.index(i)
          , n = !0;
        if (!this._handlePageNav(e)) {
          switch (e.keyCode) {
            case t.ui.keyCode.RIGHT:
            case t.ui.keyCode.DOWN:
              s++;
              break;
            case t.ui.keyCode.UP:
            case t.ui.keyCode.LEFT:
              n = !1,
                s--;
              break;
            case t.ui.keyCode.END:
              s = this.anchors.length - 1;
              break;
            case t.ui.keyCode.HOME:
              s = 0;
              break;
            case t.ui.keyCode.SPACE:
              return e.preventDefault(),
                clearTimeout(this.activating),
                this._activate(s),
                void 0;
            case t.ui.keyCode.ENTER:
              return e.preventDefault(),
                clearTimeout(this.activating),
                this._activate(s === this.options.active ? !1 : s),
                void 0;
            default:
              return
          }
          e.preventDefault(),
            clearTimeout(this.activating),
            s = this._focusNextTab(s, n),
            e.ctrlKey || e.metaKey || (i.attr("aria-selected", "false"),
              this.tabs.eq(s).attr("aria-selected", "true"),
              this.activating = this._delay(function () {
                this.option("active", s)
              }, this.delay))
        }
      },
      _panelKeydown: function (e) {
        this._handlePageNav(e) || e.ctrlKey && e.keyCode === t.ui.keyCode.UP && (e.preventDefault(),
          this.active.trigger("focus"))
      },
      _handlePageNav: function (e) {
        return e.altKey && e.keyCode === t.ui.keyCode.PAGE_UP ? (this._activate(this._focusNextTab(this.options.active - 1, !1)),
          !0) : e.altKey && e.keyCode === t.ui.keyCode.PAGE_DOWN ? (this._activate(this._focusNextTab(this.options.active + 1, !0)),
            !0) : void 0
      },
      _findNextTab: function (e, i) {
        function s() {
          return e > n && (e = 0),
            0 > e && (e = n),
            e
        }
        for (var n = this.tabs.length - 1; -1 !== t.inArray(s(), this.options.disabled);)
          e = i ? e + 1 : e - 1;
        return e
      },
      _focusNextTab: function (t, e) {
        return t = this._findNextTab(t, e),
          this.tabs.eq(t).trigger("focus"),
          t
      },
      _setOption: function (t, e) {
        return "active" === t ? (this._activate(e),
          void 0) : (this._super(t, e),
            "collapsible" === t && (this._toggleClass("ui-tabs-collapsible", null, e),
              e || this.options.active !== !1 || this._activate(0)),
            "event" === t && this._setupEvents(e),
            "heightStyle" === t && this._setupHeightStyle(e),
            void 0)
      },
      _sanitizeSelector: function (t) {
        return t ? t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&") : ""
      },
      refresh: function () {
        var e = this.options
          , i = this.tablist.children(":has(a[href])");
        e.disabled = t.map(i.filter(".ui-state-disabled"), function (t) {
          return i.index(t)
        }),
          this._processTabs(),
          e.active !== !1 && this.anchors.length ? this.active.length && !t.contains(this.tablist[0], this.active[0]) ? this.tabs.length === e.disabled.length ? (e.active = !1,
            this.active = t()) : this._activate(this._findNextTab(Math.max(0, e.active - 1), !1)) : e.active = this.tabs.index(this.active) : (e.active = !1,
              this.active = t()),
          this._refresh()
      },
      _refresh: function () {
        this._setOptionDisabled(this.options.disabled),
          this._setupEvents(this.options.event),
          this._setupHeightStyle(this.options.heightStyle),
          this.tabs.not(this.active).attr({
            "aria-selected": "false",
            "aria-expanded": "false",
            tabIndex: -1
          }),
          this.panels.not(this._getPanelForTab(this.active)).hide().attr({
            "aria-hidden": "true"
          }),
          this.active.length ? (this.active.attr({
            "aria-selected": "true",
            "aria-expanded": "true",
            tabIndex: 0
          }),
            this._addClass(this.active, "ui-tabs-active", "ui-state-active"),
            this._getPanelForTab(this.active).show().attr({
              "aria-hidden": "false"
            })) : this.tabs.eq(0).attr("tabIndex", 0)
      },
      _processTabs: function () {
        var e = this
          , i = this.tabs
          , s = this.anchors
          , n = this.panels;
        this.tablist = this._getList().attr("role", "tablist"),
          this._addClass(this.tablist, "ui-tabs-nav", "ui-helper-reset ui-helper-clearfix ui-widget-header"),
          this.tablist.on("mousedown" + this.eventNamespace, "> li", function (e) {
            t(this).is(".ui-state-disabled") && e.preventDefault()
          }).on("focus" + this.eventNamespace, ".ui-tabs-anchor", function () {
            t(this).closest("li").is(".ui-state-disabled") && this.blur()
          }),
          this.tabs = this.tablist.find("> li:has(a[href])").attr({
            role: "tab",
            tabIndex: -1
          }),
          this._addClass(this.tabs, "ui-tabs-tab", "ui-state-default"),
          this.anchors = this.tabs.map(function () {
            return t("a", this)[0]
          }).attr({
            role: "presentation",
            tabIndex: -1
          }),
          this._addClass(this.anchors, "ui-tabs-anchor"),
          this.panels = t(),
          this.anchors.each(function (i, s) {
            var n, o, a, r = t(s).uniqueId().attr("id"), h = t(s).closest("li"), l = h.attr("aria-controls");
            e._isLocal(s) ? (n = s.hash,
              a = n.substring(1),
              o = e.element.find(e._sanitizeSelector(n))) : (a = h.attr("aria-controls") || t({}).uniqueId()[0].id,
                n = "#" + a,
                o = e.element.find(n),
                o.length || (o = e._createPanel(a),
                  o.insertAfter(e.panels[i - 1] || e.tablist)),
                o.attr("aria-live", "polite")),
              o.length && (e.panels = e.panels.add(o)),
              l && h.data("ui-tabs-aria-controls", l),
              h.attr({
                "aria-controls": a,
                "aria-labelledby": r
              }),
              o.attr("aria-labelledby", r)
          }),
          this.panels.attr("role", "tabpanel"),
          this._addClass(this.panels, "ui-tabs-panel", "ui-widget-content"),
          i && (this._off(i.not(this.tabs)),
            this._off(s.not(this.anchors)),
            this._off(n.not(this.panels)))
      },
      _getList: function () {
        return this.tablist || this.element.find("ol, ul").eq(0)
      },
      _createPanel: function (e) {
        return t("<div>").attr("id", e).data("ui-tabs-destroy", !0)
      },
      _setOptionDisabled: function (e) {
        var i, s, n;
        for (t.isArray(e) && (e.length ? e.length === this.anchors.length && (e = !0) : e = !1),
          n = 0; s = this.tabs[n]; n++)
          i = t(s),
            e === !0 || -1 !== t.inArray(n, e) ? (i.attr("aria-disabled", "true"),
              this._addClass(i, null, "ui-state-disabled")) : (i.removeAttr("aria-disabled"),
                this._removeClass(i, null, "ui-state-disabled"));
        this.options.disabled = e,
          this._toggleClass(this.widget(), this.widgetFullName + "-disabled", null, e === !0)
      },
      _setupEvents: function (e) {
        var i = {};
        e && t.each(e.split(" "), function (t, e) {
          i[e] = "_eventHandler"
        }),
          this._off(this.anchors.add(this.tabs).add(this.panels)),
          this._on(!0, this.anchors, {
            click: function (t) {
              t.preventDefault()
            }
          }),
          this._on(this.anchors, i),
          this._on(this.tabs, {
            keydown: "_tabKeydown"
          }),
          this._on(this.panels, {
            keydown: "_panelKeydown"
          }),
          this._focusable(this.tabs),
          this._hoverable(this.tabs)
      },
      _setupHeightStyle: function (e) {
        var i, s = this.element.parent();
        "fill" === e ? (i = s.height(),
          i -= this.element.outerHeight() - this.element.height(),
          this.element.siblings(":visible").each(function () {
            var e = t(this)
              , s = e.css("position");
            "absolute" !== s && "fixed" !== s && (i -= e.outerHeight(!0))
          }),
          this.element.children().not(this.panels).each(function () {
            i -= t(this).outerHeight(!0)
          }),
          this.panels.each(function () {
            t(this).height(Math.max(0, i - t(this).innerHeight() + t(this).height()))
          }).css("overflow", "auto")) : "auto" === e && (i = 0,
            this.panels.each(function () {
              i = Math.max(i, t(this).height("").height())
            }).height(i))
      },
      _eventHandler: function (e) {
        var i = this.options
          , s = this.active
          , n = t(e.currentTarget)
          , o = n.closest("li")
          , a = o[0] === s[0]
          , r = a && i.collapsible
          , h = r ? t() : this._getPanelForTab(o)
          , l = s.length ? this._getPanelForTab(s) : t()
          , c = {
            oldTab: s,
            oldPanel: l,
            newTab: r ? t() : o,
            newPanel: h
          };
        e.preventDefault(),
          o.hasClass("ui-state-disabled") || o.hasClass("ui-tabs-loading") || this.running || a && !i.collapsible || this._trigger("beforeActivate", e, c) === !1 || (i.active = r ? !1 : this.tabs.index(o),
            this.active = a ? t() : o,
            this.xhr && this.xhr.abort(),
            l.length || h.length || t.error("jQuery UI Tabs: Mismatching fragment identifier."),
            h.length && this.load(this.tabs.index(o), e),
            this._toggle(e, c))
      },
      _toggle: function (e, i) {
        function s() {
          o.running = !1,
            o._trigger("activate", e, i)
        }
        function n() {
          o._addClass(i.newTab.closest("li"), "ui-tabs-active", "ui-state-active"),
            a.length && o.options.show ? o._show(a, o.options.show, s) : (a.show(),
              s())
        }
        var o = this
          , a = i.newPanel
          , r = i.oldPanel;
        this.running = !0,
          r.length && this.options.hide ? this._hide(r, this.options.hide, function () {
            o._removeClass(i.oldTab.closest("li"), "ui-tabs-active", "ui-state-active"),
              n()
          }) : (this._removeClass(i.oldTab.closest("li"), "ui-tabs-active", "ui-state-active"),
            r.hide(),
            n()),
          r.attr("aria-hidden", "true"),
          i.oldTab.attr({
            "aria-selected": "false",
            "aria-expanded": "false"
          }),
          a.length && r.length ? i.oldTab.attr("tabIndex", -1) : a.length && this.tabs.filter(function () {
            return 0 === t(this).attr("tabIndex")
          }).attr("tabIndex", -1),
          a.attr("aria-hidden", "false"),
          i.newTab.attr({
            "aria-selected": "true",
            "aria-expanded": "true",
            tabIndex: 0
          })
      },
      _activate: function (e) {
        var i, s = this._findActive(e);
        s[0] !== this.active[0] && (s.length || (s = this.active),
          i = s.find(".ui-tabs-anchor")[0],
          this._eventHandler({
            target: i,
            currentTarget: i,
            preventDefault: t.noop
          }))
      },
      _findActive: function (e) {
        return e === !1 ? t() : this.tabs.eq(e)
      },
      _getIndex: function (e) {
        return "string" == typeof e && (e = this.anchors.index(this.anchors.filter("[href$='" + t.ui.escapeSelector(e) + "']"))),
          e
      },
      _destroy: function () {
        this.xhr && this.xhr.abort(),
          this.tablist.removeAttr("role").off(this.eventNamespace),
          this.anchors.removeAttr("role tabIndex").removeUniqueId(),
          this.tabs.add(this.panels).each(function () {
            t.data(this, "ui-tabs-destroy") ? t(this).remove() : t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")
          }),
          this.tabs.each(function () {
            var e = t(this)
              , i = e.data("ui-tabs-aria-controls");
            i ? e.attr("aria-controls", i).removeData("ui-tabs-aria-controls") : e.removeAttr("aria-controls")
          }),
          this.panels.show(),
          "content" !== this.options.heightStyle && this.panels.css("height", "")
      },
      enable: function (e) {
        var i = this.options.disabled;
        i !== !1 && (void 0 === e ? i = !1 : (e = this._getIndex(e),
          i = t.isArray(i) ? t.map(i, function (t) {
            return t !== e ? t : null
          }) : t.map(this.tabs, function (t, i) {
            return i !== e ? i : null
          })),
          this._setOptionDisabled(i))
      },
      disable: function (e) {
        var i = this.options.disabled;
        if (i !== !0) {
          if (void 0 === e)
            i = !0;
          else {
            if (e = this._getIndex(e),
              -1 !== t.inArray(e, i))
              return;
            i = t.isArray(i) ? t.merge([e], i).sort() : [e]
          }
          this._setOptionDisabled(i)
        }
      },
      load: function (e, i) {
        e = this._getIndex(e);
        var s = this
          , n = this.tabs.eq(e)
          , o = n.find(".ui-tabs-anchor")
          , a = this._getPanelForTab(n)
          , r = {
            tab: n,
            panel: a
          }
          , h = function (t, e) {
            "abort" === e && s.panels.stop(!1, !0),
              s._removeClass(n, "ui-tabs-loading"),
              a.removeAttr("aria-busy"),
              t === s.xhr && delete s.xhr
          };
        this._isLocal(o[0]) || (this.xhr = t.ajax(this._ajaxSettings(o, i, r)),
          this.xhr && "canceled" !== this.xhr.statusText && (this._addClass(n, "ui-tabs-loading"),
            a.attr("aria-busy", "true"),
            this.xhr.done(function (t, e, n) {
              setTimeout(function () {
                a.html(t),
                  s._trigger("load", i, r),
                  h(n, e)
              }, 1)
            }).fail(function (t, e) {
              setTimeout(function () {
                h(t, e)
              }, 1)
            })))
      },
      _ajaxSettings: function (e, i, s) {
        var n = this;
        return {
          url: e.attr("href").replace(/#.*$/, ""),
          beforeSend: function (e, o) {
            return n._trigger("beforeLoad", i, t.extend({
              jqXHR: e,
              ajaxSettings: o
            }, s))
          }
        }
      },
      _getPanelForTab: function (e) {
        var i = t(e).attr("aria-controls");
        return this.element.find(this._sanitizeSelector("#" + i))
      }
    }),
    t.uiBackCompat !== !1 && t.widget("ui.tabs", t.ui.tabs, {
      _processTabs: function () {
        this._superApply(arguments),
          this._addClass(this.tabs, "ui-tab")
      }
    }),
    t.ui.tabs,
    t.widget("ui.tooltip", {
      version: "1.12.1",
      options: {
        classes: {
          "ui-tooltip": "ui-corner-all ui-widget-shadow"
        },
        content: function () {
          var e = t(this).attr("title") || "";
          return t("<a>").text(e).html()
        },
        hide: !0,
        items: "[title]:not([disabled])",
        position: {
          my: "left top+15",
          at: "left bottom",
          collision: "flipfit flip"
        },
        show: !0,
        track: !1,
        close: null,
        open: null
      },
      _addDescribedBy: function (e, i) {
        var s = (e.attr("aria-describedby") || "").split(/\s+/);
        s.push(i),
          e.data("ui-tooltip-id", i).attr("aria-describedby", t.trim(s.join(" ")))
      },
      _removeDescribedBy: function (e) {
        var i = e.data("ui-tooltip-id")
          , s = (e.attr("aria-describedby") || "").split(/\s+/)
          , n = t.inArray(i, s);
        -1 !== n && s.splice(n, 1),
          e.removeData("ui-tooltip-id"),
          s = t.trim(s.join(" ")),
          s ? e.attr("aria-describedby", s) : e.removeAttr("aria-describedby")
      },
      _create: function () {
        this._on({
          mouseover: "open",
          focusin: "open"
        }),
          this.tooltips = {},
          this.parents = {},
          this.liveRegion = t("<div>").attr({
            role: "log",
            "aria-live": "assertive",
            "aria-relevant": "additions"
          }).appendTo(this.document[0].body),
          this._addClass(this.liveRegion, null, "ui-helper-hidden-accessible"),
          this.disabledTitles = t([])
      },
      _setOption: function (e, i) {
        var s = this;
        this._super(e, i),
          "content" === e && t.each(this.tooltips, function (t, e) {
            s._updateContent(e.element)
          })
      },
      _setOptionDisabled: function (t) {
        this[t ? "_disable" : "_enable"]()
      },
      _disable: function () {
        var e = this;
        t.each(this.tooltips, function (i, s) {
          var n = t.Event("blur");
          n.target = n.currentTarget = s.element[0],
            e.close(n, !0)
        }),
          this.disabledTitles = this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function () {
            var e = t(this);
            return e.is("[title]") ? e.data("ui-tooltip-title", e.attr("title")).removeAttr("title") : void 0
          }))
      },
      _enable: function () {
        this.disabledTitles.each(function () {
          var e = t(this);
          e.data("ui-tooltip-title") && e.attr("title", e.data("ui-tooltip-title"))
        }),
          this.disabledTitles = t([])
      },
      open: function (e) {
        var i = this
          , s = t(e ? e.target : this.element).closest(this.options.items);
        s.length && !s.data("ui-tooltip-id") && (s.attr("title") && s.data("ui-tooltip-title", s.attr("title")),
          s.data("ui-tooltip-open", !0),
          e && "mouseover" === e.type && s.parents().each(function () {
            var e, s = t(this);
            s.data("ui-tooltip-open") && (e = t.Event("blur"),
              e.target = e.currentTarget = this,
              i.close(e, !0)),
              s.attr("title") && (s.uniqueId(),
                i.parents[this.id] = {
                  element: this,
                  title: s.attr("title")
                },
                s.attr("title", ""))
          }),
          this._registerCloseHandlers(e, s),
          this._updateContent(s, e))
      },
      _updateContent: function (t, e) {
        var i, s = this.options.content, n = this, o = e ? e.type : null;
        return "string" == typeof s || s.nodeType || s.jquery ? this._open(e, t, s) : (i = s.call(t[0], function (i) {
          n._delay(function () {
            t.data("ui-tooltip-open") && (e && (e.type = o),
              this._open(e, t, i))
          })
        }),
          i && this._open(e, t, i),
          void 0)
      },
      _open: function (e, i, s) {
        function n(t) {
          l.of = t,
            a.is(":hidden") || a.position(l)
        }
        var o, a, r, h, l = t.extend({}, this.options.position);
        if (s) {
          if (o = this._find(i))
            return o.tooltip.find(".ui-tooltip-content").html(s),
              void 0;
          i.is("[title]") && (e && "mouseover" === e.type ? i.attr("title", "") : i.removeAttr("title")),
            o = this._tooltip(i),
            a = o.tooltip,
            this._addDescribedBy(i, a.attr("id")),
            a.find(".ui-tooltip-content").html(s),
            this.liveRegion.children().hide(),
            h = t("<div>").html(a.find(".ui-tooltip-content").html()),
            h.removeAttr("name").find("[name]").removeAttr("name"),
            h.removeAttr("id").find("[id]").removeAttr("id"),
            h.appendTo(this.liveRegion),
            this.options.track && e && /^mouse/.test(e.type) ? (this._on(this.document, {
              mousemove: n
            }),
              n(e)) : a.position(t.extend({
                of: i
              }, this.options.position)),
            a.hide(),
            this._show(a, this.options.show),
            this.options.track && this.options.show && this.options.show.delay && (r = this.delayedShow = setInterval(function () {
              a.is(":visible") && (n(l.of),
                clearInterval(r))
            }, t.fx.interval)),
            this._trigger("open", e, {
              tooltip: a
            })
        }
      },
      _registerCloseHandlers: function (e, i) {
        var s = {
          keyup: function (e) {
            if (e.keyCode === t.ui.keyCode.ESCAPE) {
              var s = t.Event(e);
              s.currentTarget = i[0],
                this.close(s, !0)
            }
          }
        };
        i[0] !== this.element[0] && (s.remove = function () {
          this._removeTooltip(this._find(i).tooltip)
        }
        ),
          e && "mouseover" !== e.type || (s.mouseleave = "close"),
          e && "focusin" !== e.type || (s.focusout = "close"),
          this._on(!0, i, s)
      },
      close: function (e) {
        var i, s = this, n = t(e ? e.currentTarget : this.element), o = this._find(n);
        return o ? (i = o.tooltip,
          o.closing || (clearInterval(this.delayedShow),
            n.data("ui-tooltip-title") && !n.attr("title") && n.attr("title", n.data("ui-tooltip-title")),
            this._removeDescribedBy(n),
            o.hiding = !0,
            i.stop(!0),
            this._hide(i, this.options.hide, function () {
              s._removeTooltip(t(this))
            }),
            n.removeData("ui-tooltip-open"),
            this._off(n, "mouseleave focusout keyup"),
            n[0] !== this.element[0] && this._off(n, "remove"),
            this._off(this.document, "mousemove"),
            e && "mouseleave" === e.type && t.each(this.parents, function (e, i) {
              t(i.element).attr("title", i.title),
                delete s.parents[e]
            }),
            o.closing = !0,
            this._trigger("close", e, {
              tooltip: i
            }),
            o.hiding || (o.closing = !1)),
          void 0) : (n.removeData("ui-tooltip-open"),
            void 0)
      },
      _tooltip: function (e) {
        var i = t("<div>").attr("role", "tooltip")
          , s = t("<div>").appendTo(i)
          , n = i.uniqueId().attr("id");
        return this._addClass(s, "ui-tooltip-content"),
          this._addClass(i, "ui-tooltip", "ui-widget ui-widget-content"),
          i.appendTo(this._appendTo(e)),
          this.tooltips[n] = {
            element: e,
            tooltip: i
          }
      },
      _find: function (t) {
        var e = t.data("ui-tooltip-id");
        return e ? this.tooltips[e] : null
      },
      _removeTooltip: function (t) {
        t.remove(),
          delete this.tooltips[t.attr("id")]
      },
      _appendTo: function (t) {
        var e = t.closest(".ui-front, dialog");
        return e.length || (e = this.document[0].body),
          e
      },
      _destroy: function () {
        var e = this;
        t.each(this.tooltips, function (i, s) {
          var n = t.Event("blur")
            , o = s.element;
          n.target = n.currentTarget = o[0],
            e.close(n, !0),
            t("#" + i).remove(),
            o.data("ui-tooltip-title") && (o.attr("title") || o.attr("title", o.data("ui-tooltip-title")),
              o.removeData("ui-tooltip-title"))
        }),
          this.liveRegion.remove()
      }
    }),
    t.uiBackCompat !== !1 && t.widget("ui.tooltip", t.ui.tooltip, {
      options: {
        tooltipClass: null
      },
      _tooltip: function () {
        var t = this._superApply(arguments);
        return this.options.tooltipClass && t.tooltip.addClass(this.options.tooltipClass),
          t
      }
    }),
    t.ui.tooltip
});
var socialNetworkFactoryModule = function (e) {
  var t = new Object;
  t.IsUseOpenGraph = !1,
    t.name = "ok",
    t.share = function (e) {
      var t = $.Deferred();
      return n("https://connect.ok.ru/offer?url=" + encodeURIComponent(e.url) + "&title=" + encodeURIComponent(e.title) + "&imageUrl=" + encodeURIComponent(e.imageUrl), t),
        t.promise()
    }
    ,
    e.getOkSocialNetworkModule = function () {
      return t
    }
    ;
  var i = new Object;
  i.IsUseOpenGraph = !1,
    i.name = "vk",
    i.share = function (e) {
      var t = $.Deferred();
      return n("https://vk.com/share.php?url=" + encodeURIComponent(e.url) + "&title=" + encodeURIComponent(e.title) + "&image=" + encodeURIComponent(e.imageUrl) + "&noparse=true", t),
        t.promise()
    }
    ,
    e.getVkSocialNetworkModule = function () {
      return i
    }
    ;
  var o = new Object;
  function n(e, t) {
    var i = "width=600,height=500,left=" + (window.outerWidth / 2 - 300) + ",top=" + (window.outerHeight / 2 - 250)
      , o = window.open(e, "", i)
      , n = setInterval((function () {
        o.closed && (clearInterval(n),
          t.resolve({
            result: !0
          }))
      }
      ), 1e3)
  }
  return o.IsUseOpenGraph = !0,
    o.name = "fb",
    o.share = function (e) {
      var t = $.Deferred()
        , i = o.postUrl + "?title=" + e.title + "&url=" + e.url + "&imageUrl=" + e.imageUrl;
      return console.log("share facebook"),
        FB.ui({
          method: "share",
          display: "popup",
          href: i
        }, (function (e) {
          t.resolve({
            result: null != e
          })
        }
        )),
        t.promise()
    }
    ,
    e.initFbSocialNetworkModule = function () {
      var e, t = document, i = "script", o = "facebook-jssdk", n = t.getElementsByTagName(i)[0];
      t.getElementById(o) || ((e = t.createElement(i)).id = o,
        e.src = "//connect.facebook.net/en_US/sdk.js",
        n.parentNode.insertBefore(e, n))
    }
    ,
    e.getFbSocialNetworkModule = function (e, t) {
      return o.appId = e,
        o.postUrl = t,
        FB.init({
          appId: o.appId,
          xfbml: !0,
          version: "v3.2"
        }),
        o
    }
    ,
    e
}(socialNetworkFactoryModule || {})
  , GlobalUtils = (Math.trunc = Math.trunc || function (e) {
    return isNaN(e) ? NaN : e > 0 ? Math.floor(e) : Math.ceil(e)
  }
    ,
    self.getCurrentTimeZone = function () {
      var e = ""
        , t = -1 * (new Date).getTimezoneOffset()
        , i = moment.tz.guess()
        , o = "" + Math.trunc(Math.abs(t / 60));
      1 === o.length && (o = "0" + o);
      var n = "" + Math.abs(t % 60);
      return 1 === n.length && (n = "0" + n),
        t > 0 ? e += "+" : t < 0 && (e += "-"),
        e = {
          timeZoneOffset: e + o + ":" + n,
          timeZoneName: i
        }
    }
    ,
    self.uuidv4 = function () {
      return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (function (e) {
        var t = 16 * Math.random() | 0;
        return ("x" == e ? t : 3 & t | 8).toString(16)
      }
      ))
    }
    ,
    self.copyToClipboard = function (e) {
      var t = document.createElement("textarea");
      t.innerHTML = e,
        document.body.appendChild(t),
        t.select(),
        document.execCommand("copy"),
        document.body.removeChild(t)
    }
    ,
    self.encodeTags = function (e) {
      return e.replace(/&/g, "&amp;").replace(/</g, "##!!$$$$").replace(/>/g, "$$$$!!##")
    }
    ,
    self.sanitizeString = function (e) {
      var t = document.createElement("div");
      return t.innerText = e,
        t.innerHTML
    }
    ,
    self)
  , spinnerModule = function (e) {
    return e.Show = function () {
      $("#fullScreenSpinner").show()
    }
      ,
      e.Hide = function () {
        $("#fullScreenSpinner").hide()
      }
      ,
      e
  }(spinnerModule || {})
  , fileUploadModule = function (e) {
    function t(e) {
      var t, o = $.Deferred(), n = e.storageAccountData.containerUrl + "/" + e.fileId + e.extension, a = n + e.storageAccountData.token;
      return t = e.contentType ? {
        "x-ms-blob-type": "BlockBlob",
        "Content-Type": contentType
      } : {
        "x-ms-blob-type": "BlockBlob"
      },
        $.ajax({
          url: a,
          type: "PUT",
          headers: t,
          data: e.data,
          processData: !1,
          contentType: !1
        }).done((function (e) {
          o.resolve(n)
        }
        )).fail((function (t) {
          !function (e, t, o) {
            var n;
            n = 403 === e.status ? function (e) {
              var t = $.Deferred();
              return $.ajax({
                url: "/StorageAccount/NewSecurityToken?storageName=" + e.storageAccountData.storageName + "&storageType=" + e.storageAccountData.storageType,
                type: "GET"
              }).done((function (i) {
                e.storageAccountData.token = i.SecureToken,
                  t.resolve()
              }
              )).fail((function (e) {
                t.fail(e)
              }
              )),
                t.promise()
            }(o) : $.Deferred().resolve();
            n.then((function () {
              i(t, o)
            }
            ))
          }(t, o, e)
        }
        )),
        o.promise()
    }
    function i(e, i) {
      var o = i.errorCounterContainer;
      if (o.errorCount += 1,
        o.errorCount <= o.maximumErrorCount) {
        setTimeout((function () {
          t(i).done((function (t) {
            e.resolve(t)
          }
          ))
        }
        ), 1e3 * i.errorCounterContainer.uploadErrorDelay);
        var n = o.previousErrorDelay + o.uploadErrorDelay;
        o.previousErrorDelay = o.uploadErrorDelay,
          o.uploadErrorDelay = n
      } else
        e.reject("unable to load image due to error " + error)
    }
    return e.uploadData = function (e, i, o, n, a) {
      return t({
        data: e,
        storageAccountData: i,
        fileId: o,
        extension: n,
        contentType: a,
        errorCounterContainer: {
          previousErrorDelay: 3,
          uploadErrorDelay: 5,
          errorCount: 0,
          maximumErrorCount: 3
        }
      })
    }
      ,
      e
  }(fileUploadModule || {});
HTMLCanvasElement.prototype.toBlob || Object.defineProperty(HTMLCanvasElement.prototype, "toBlob", {
  value: function (e, t, i) {
    var o = this;
    setTimeout((function () {
      for (var n = atob(o.toDataURL(t, i).split(",")[1]), a = n.length, s = new Uint8Array(a), r = 0; r < a; r++)
        s[r] = n.charCodeAt(r);
      e(new Blob([s], {
        type: t || "image/png"
      }))
    }
    ))
  }
});
var imageUploadModule = function (e) {
  var t = e;
  function i(e) {
    var t = new FileReader;
    t.addEventListener("loadend", o),
      t.readAsArrayBuffer(e)
  }
  function o(e) {
    var i;
    i = void 0 === e.srcElement ? e.target.result : e.srcElement.result;
    var o = fileUploadModule.uploadData(i, t.storageAccountData, t.fileId, ".jpg");
    o.done((function (e) {
      t.deferred.resolve(e)
    }
    )),
      o.fail((function (e) {
        console.log(e),
          t.deferred.reject(e)
      }
      ))
  }
  return t.uploadCanvas = function (e, o, n) {
    return t.deferred = $.Deferred(),
      t.storageAccountData = e,
      t.fileId = o,
      n.toBlob(i, "image/jpeg", .9),
      t.deferred.promise()
  }
    ,
    e
}(imageUploadModule || {})
  , gameResultImageCreatorModule = function (e) {
    var t = e;
    function i(e) {
      var t = $.Deferred()
        , i = document.createElement("canvas")
        , o = i.getContext("2d")
        , n = new Image;
      return n.onerror = function () {
        t.reject("can not find pattern image")
      }
        ,
        n.onload = function () {
          i.width = n.width,
            i.height = n.height,
            o.drawImage(n, 0, 0, n.width, n.height),
            t.resolve(i)
        }
        ,
        n.crossOrigin = "anonymous",
        n.src = e,
        t.promise()
    }
    function o(e) {
      var i = $.Deferred()
        , o = e.getContext("2d")
        , n = t.text;
      o.rotate(-5 * Math.PI / 180),
        o.font = "bold 70px Montserrat",
        o.fillStyle = "#FFC83C",
        o.textAlign = "left";
      var a = "ru" === global_Localization.global_lang ? 20 : -40
        , s = e.width / 2
        , r = s - o.measureText(n.imageTextPartOne).width + a
        , l = s + a;
      o.fillText(n.imageTextPartOne, r, 360),
        o.fillStyle = "white",
        o.fillText(n.imageTextPartTwo, l, 360),
        o.font = "bold 30px Montserrat",
        o.fillStyle = "#FFC83C";
      var d = n.quizTitle.trimEnd()
        , c = s - o.measureText(d).width / 2 - 60;
      return o.fillText(`${d}`, c, 510),
        i.resolve(e),
        i.promise()
    }
    function n(e) {
      return imageUploadModule.uploadCanvas(t.resultStorage, t.fileId, e)
    }
    return t.textParameters = {
      position: {
        x: 400,
        y: 215
      },
      font: '55px "Open Sans", Arial, sans-serif'
    },
      t.customizationPath = "",
      t.initialImageUrl = function (e) {
        if (e)
          return t.customizationPath + "/quiz.share.image." + e.name + "." + localizationModule.lang.toLowerCase() + ".jpg" + t.patternStorage.token;
        {
          const e = global_isSinglePlayer ? "/result.pattern.image.spm." : "/result.pattern.image.mpm.";
          return t.customizationPath + e + localizationModule.lang.toLowerCase() + ".jpg" + t.patternStorage.token
        }
      }
      ,
      e.init = function (e, i, o, n, a) {
        t.resultStorage = e,
          t.patternStorage = i,
          t.customizationPath = o,
          t.fileId = n,
          void 0 !== a && (t.textParameters = a)
      }
      ,
      e.createImage = function (e) {
        t.text = e;
        var a = $.Deferred();
        return i(t.initialImageUrl()).then(o).then(n).then((function (e) {
          a.resolve(e)
        }
        )).fail((function (e) {
          a.reject(e)
        }
        )),
          a.promise()
      }
      ,
      e.createPostImage = function (e, o) {
        var a = $.Deferred();
        return i(t.initialImageUrl(o)).then((function (t) {
          return function (e, t, i) {
            var o = $.Deferred()
              , n = "" + t.text.toUpperCase() + ""
              , a = t.header
              , s = e.getContext("2d");
            s.font = "bold 22px Montserrat",
              s.fillStyle = "white",
              s.textAlign = "center";
            var r = e.width / 2 - 60
              , l = 300
              , d = 215
              , c = 25;
            "fb" == i && (s.font = "bold 28px Montserrat",
              r = e.width / 2 - 120,
              l = 465,
              d = 320,
              c = 30);
            var u = n.split(" ").reduce((function (e, t, i, o) {
              return e.str1 ? (e.str1.length < 17 ? e.str1 += " " + t : e.str2 += " " + t,
                e) : {
                str1: o[0] + " " + t,
                str2: ""
              }
            }
            ));
            s.rotate(-4.6 * Math.PI / 180),
              s.textAlign = "center",
              s.fillText(u.str1 ? u.str1 : u, r, l),
              u.str2 && s.fillText(u.str2, r, l + c);
            a && s.fillText(a, r, l - d);
            return o.resolve(e),
              o.promise()
          }(t, e, o.name)
        }
        )).then(n).then((function (e) {
          a.resolve(e)
        }
        )).fail((function (e) {
          a.reject(e)
        }
        )),
          a.promise()
      }
      ,
      e
  }(gameResultImageCreatorModule || {})
  , gameShareResultModule = function (e) {
    var t = new Object;
    function i(e) {
      spinnerModule.Hide()
    }
    function o() {
      getShareResultContainer().css("display", "none")
    }
    return t.isImagePrepared = !1,
      e.ShareScreen = Object.freeze({
        WaitingScreen: "WaitingScreen",
        LeaderBoardScreen: "LeaderBoardScreen"
      }),
      getShareResultContainer = function () {
        return $(".resultHeader__Share")
      }
      ,
      e.setPatterns = function (e, i, o, n, a) {
        t.postTitlePattern = e,
          t.imageTextPatternPartOne = i,
          t.imageTextPatternPartTwo = o,
          t.url = n,
          t.isImagePrepared = !1,
          t.isPostImagePrepared = !1,
          t.postQuizTitlePattern = a
      }
      ,
      e.setScore = function (e) {
        void 0 !== e && e.Position > 0 && e.Score > 0 ? (t.isImagePrepared = !1,
          t.imageTextPartOne = t.imageTextPatternPartOne.replace("{0}", e.Position.toString()),
          t.imageTextPartTwo = t.imageTextPatternPartTwo.replace("{0}", t.playersCount),
          t.title = t.postTitlePattern.replace("{0}", e.Position.toString()).replace("{1}", t.playersCount),
          "US" === global_nodeLocation ? o() : getShareResultContainer().css("display", "flex")) : o()
      }
      ,
      e.setPlayersCount = function (e) {
        t.playersCount = e
      }
      ,
      e.share = function (e, o) {
        const n = {
          imageTextPartOne: t.imageTextPartOne,
          imageTextPartTwo: t.imageTextPartTwo,
          quizTitle: global_quizTitle
        };
        var a = $.Deferred();
        spinnerModule.Show();
        var s = $.Deferred()
          , r = t.isImagePrepared ? s : gameResultImageCreatorModule.createImage(n);
        return r.fail((function (e) {
          i(),
            a.reject(e)
        }
        )),
          r.then((function (n) {
            t.isImagePrepared = !0,
              t.imageUrl = n;
            var s = e.share(t);
            s.fail((function (e) {
              i(),
                a.reject(e)
            }
            )),
              s.done((function () {
                "function" == typeof ga && ga("send", "event", "QuizSocialPost", o, e.name),
                  spinnerModule.Hide(),
                  a.resolve()
              }
              ))
          }
          )),
          s.resolve(t.imageUrl),
          a.promise()
      }
      ,
      e.post = function (e, o, n) {
        var a = gameModule.getStartDateLocal()
          , s = void 0;
        a.isAfter(moment()) && (s = "ru" == gameModule.getTimeLocale() ? a.format("DD/MM/YYYY") + "  " + a.format("HH:mm") : a.format("MM/DD/YYYY") + " at " + a.format("HH:mm"));
        var r = {
          text: n,
          header: s
        }
          , l = $.Deferred()
          , d = $.Deferred();
        return spinnerModule.Show(),
          t.title = t.postQuizTitlePattern.replace("{0}", n),
          t.url = window.location.protocol + "//" + window.location.host + window.location.pathname + "?utm_source=" + e.name + "&utm_campaign=social_sharing&utm_medium=" + o + "&utm_content=" + global_quizCode,
          (t.isPostImagePrepared ? d : gameResultImageCreatorModule.createPostImage(r, e)).fail((function (e) {
            i(),
              l.reject({
                result: !1
              })
          }
          )).then((function (n) {
            t.isPostImagePrepared = !0,
              t.imageUrl = n;
            var a = e.share(t);
            a.fail((function (e) {
              i(),
                l.reject(e)
            }
            )),
              a.done((function (t) {
                spinnerModule.Hide(),
                  "function" == typeof ga && ga("send", "event", "QuizSocialPost", o, e.name),
                  l.resolve(t)
              }
              ))
          }
          )),
          d.resolve(t.imageUrl),
          l.promise()
      }
      ,
      e
  }(gameShareResultModule || {})
  , questionType = Object.freeze({
    Default: 1,
    Polling: 2,
    Open: 3,
    Image: 4,
    Draw: 5,
    Slide: 6,
    Activity: 7,
    Round: 8,
    WordCloud: 9
  });
function EventObserver() {
  this.handlers = []
}
EventObserver.prototype = {
  subscribe: function (e) {
    this.handlers.push(e)
  },
  unsubscribe: function (e) {
    this.handlers = this.handlers.filter((function (t) {
      if (t !== e)
        return t
    }
    ))
  },
  fire: function (e) {
    this.handlers.forEach((function (t) {
      t.call(this, e)
    }
    ))
  }
};
var mapper = function (e) {
  var t = {
    a: "AnswerIds",
    b: "CurrentQuestion",
    c: "HostState",
    d: "PlayersCount",
    e: "QuestionsCount",
    f: "TimeForAnswerInSeconds",
    g: "TimeForReviewAnswerInSeconds",
    h: "TimeLeft",
    i: "TopScores",
    k: "CountdownTimerInSeconds",
    l: "IsPaused",
    m: "IsNotAvailable",
    n: "AnswersSummary",
    p: "ShowAlwaysAnswerButton",
    q: "IsVotingQuestionsOnly",
    r: "AnswerText",
    s: "IsAnswerTextCorrect",
    t: "TeamTopScores",
    u: "AnswerDrawModelId",
    v: "ArchiveId",
    w: "ActivePlayersCount",
    x: "PromoModal",
    y: "WordcloudWords",
    z: "IsFullHDImageUploadEnabled",
    aa: "IsAddingMediaForReviewStageEnabled",
    ab: "PreviousAnswerAttempts",
    ac: "SelectedUserReaction",
    j: "ReactionsSummaries",
    ad: "BannedNicknameUserIds"
  }
    , i = {
      a: "Answers",
      b: "ArchiveQuestionId",
      c: "Id",
      d: "ImagePath",
      e: "ImageMediaType",
      f: "IsSingleChoise",
      g: "Number",
      h: "PromoEnabled",
      i: "PromoImagePath",
      k: "PromoImageMediaType",
      l: "PromoText",
      m: "Text",
      n: "IsNeedCorrectAnswerNote",
      o: "CorrectAnswerNote",
      p: "ImageThumbnailUrl",
      q: "ImageVideoAutoPlay",
      r: "PromoImageThumbnailUrl",
      s: "PromoImageVideoAutoPlay",
      t: "ImageHeight",
      u: "ImageWidth",
      v: "PromoQuestionUrlReviewAfterGame",
      w: "ModerationPromoEnabled",
      x: "ModerationPromoImagePath",
      y: "ModerationPromoImageMediaType",
      z: "ModerationPromoText",
      j: "ModerationPromoQuestionUrlReviewAfterGame",
      aa: "ModerationPromoImageThumbnailUrl",
      ab: "ModerationPromoImageVideoAutoPlay",
      ac: "HideCorrectAnswerNumber",
      ad: "CorrectAnswerNumber",
      ae: "Type",
      af: "IsNeedQuestionNote",
      ag: "QuestionNote",
      ah: "DrawModelId",
      ai: "DrawModelCode",
      ak: "QuestionImageUrls",
      al: "IsHideLeaderboardForPlayer",
      am: "IsManuallyGoNextQuestion",
      an: "StepTitle",
      ao: "PromoModal",
      ap: "CustomData",
      aq: "IsEliminationQuestion",
      ar: "EliminationWinnerMessage",
      as: "EliminationLoserMessage",
      at: "PromoExternalUrl",
      au: "ModerationPromoExternalUrl",
      av: "FullHDImagePath",
      aw: "IsFullHDImageUploaded",
      ax: "CorrectAnswerImagePath",
      ay: "CorrectAnswerImageMediaType",
      az: "CorrectAnswerImageHeight",
      ba: "CorrectAnswerImageWidth",
      bb: "CorrectAnswerImageThumbnailUrl",
      bc: "CorrectAnswerImageVideoAutoPlay",
      bd: "FullHDCorrectAnswerImagePath",
      be: "IsFullHDCorrectAnswerImageUploaded",
      bf: "IsHideLeaderboardForOwner",
      bg: "IsCustomTime",
      bf: "IsHideLeaderboardForOwner",
      bh: "IsUserReactionsEnabled",
      bi: "IsNotAddingToBankQuestion"
    }
    , o = {
      a: "Position",
      b: "Score",
      c: "User",
      d: "ShowWinnerCode",
      e: "WinnerCode",
      f: "Email",
      g: "ShowPrizeAll",
      h: "IsContactEnabled",
      i: "IsWinnerPersonalTextEnabled",
      j: "WinnerPersonalText",
      k: "IsBrandedCouponEnabled",
      l: "BrandedCouponCode",
      m: "QuizPrizeForAllImage",
      n: "QuizPrizeForAllText",
      o: "QuizPrizeForAllCode",
      p: "GameTime",
      q: "Rating",
      r: "ContactEmail",
      s: "ContactPhone",
      t: "ShowSendPromoInfo",
      u: "CorrectAnswersCount",
      v: "InCorrectAnswersCount",
      w: "AllAnswersCount",
      x: "QuizPrizeForAllUrl",
      y: "IsPlayerEliminated",
      z: "IsBanned"
    }
    , n = {
      a: "ArchiveAnswerId",
      b: "Id",
      c: "IsCorrect",
      d: "Text",
      e: "ImagePath",
      f: "ImageThumbnailUrl",
      g: "DrawModelId",
      h: "DrawModelCode"
    }
    , a = {
      a: "ImageId",
      b: "StorageUrl"
    }
    , s = {
      a: "Id",
      b: "AnswersCount",
      c: "AnswersPercent"
    }
    , r = {
      a: "ReactionType",
      b: "ReactionCount"
    }
    , l = {
      a: "LastAnsweredPlayers",
      b: "LastAnsweredPlayersTotalCount"
    }
    , d = {
      a: "DisplayName",
      b: "FullName",
      c: "ImagePath",
      d: "UserId"
    }
    , c = {
      a: "FromImagePath",
      b: "FromName",
      c: "Text",
      d: "DateTime"
    }
    , u = {
      a: "QuestionId",
      b: "QuestionStatistics"
    }
    , h = {
      a: "QuestionId",
      b: "WordcloudWords"
    }
    , m = {
      a: "QuestionId",
      b: "Reactions"
    }
    , p = {
      a: "Label",
      b: "Weight"
    }
    , f = {
      a: "AnswerTexts",
      b: "PreviousAnswerAttemptsCount"
    }
    , g = {
      a: "Position",
      b: "Score",
      c: "Team",
      d: "GameTime",
      e: "IndividualScore"
    }
    , _ = {
      a: "Id",
      b: "Name",
      c: "PlayersCount",
      d: "ImagePath"
    }
    , v = {
      a: "Id",
      b: "IsEnabled",
      c: "ImageId",
      d: "Image",
      e: "TabletImageId",
      f: "TabletImage",
      g: "MobileImageId",
      h: "MobileImage",
      i: "Duration",
      j: "ExternalUrl",
      k: "Text"
    };
  function y(e, t) {
    if (!e)
      return null;
    var i = {};
    for (var o in t)
      i[t[o]] = e[o];
    return i
  }
  return e.toPosition = function (e) {
    if (!e)
      return null;
    var o = y(e, t);
    if (o.CurrentQuestion = y(o.CurrentQuestion, i),
      o.CurrentQuestion && o.CurrentQuestion.Answers)
      for (var s = 0; s < o.CurrentQuestion.Answers.length; s++)
        o.CurrentQuestion.Answers[s] = y(o.CurrentQuestion.Answers[s], n);
    if (o.CurrentQuestion && o.CurrentQuestion.QuestionImageUrls)
      for (s = 0; s < o.CurrentQuestion.QuestionImageUrls.length; s++)
        o.CurrentQuestion.QuestionImageUrls[s] = y(o.CurrentQuestion.QuestionImageUrls[s], a);
    if (o.TopScores)
      for (s = 0; s < o.TopScores.length; s++)
        o.TopScores[s] = this.toScore(o.TopScores[s]);
    if (o.TeamTopScores)
      for (s = 0; s < o.TeamTopScores.length; s++)
        o.TeamTopScores[s] = this.toTeamScore(o.TeamTopScores[s]);
    if (o.AnswersSummary)
      for (s = 0; s < o.AnswersSummary.length; s++)
        o.AnswersSummary[s] = this.toAnswerSummary(o.AnswersSummary[s]);
    if (o.ReactionsSummaries)
      for (s = 0; s < o.ReactionsSummaries.length; s++)
        o.ReactionsSummaries[s] = this.toReactionSummary(o.ReactionsSummaries[s]);
    return o.CurrentQuestion && o.CurrentQuestion.PromoModal && (o.CurrentQuestion.PromoModal = y(o.CurrentQuestion.PromoModal, v)),
      o.PromoModal && (o.PromoModal = y(o.PromoModal, v)),
      o.WordcloudWords && (o.WordcloudWords = this.toWordcloudWords(o.WordcloudWords)),
      o.CurrentQuestion && (o.CurrentQuestion.CustomData ? o.CurrentQuestion.CustomDataValue = JSON.parse(o.CurrentQuestion.CustomData) : o.CurrentQuestion.CustomDataValue = void 0),
      o.PreviousAnswerAttempts && (o.PreviousAnswerAttempts = this.toPreviousAnswerAttempts(o.PreviousAnswerAttempts)),
      o
  }
    ,
    e.ToTeamScores = function (e) {
      var t = [];
      if (e)
        for (var i = 0; i < e.length; i++)
          t[i] = this.toTeamScore(e[i]);
      return t
    }
    ,
    e.ToScores = function (e) {
      var t = [];
      if (e)
        for (var i = 0; i < e.length; i++)
          t[i] = this.toScore(e[i]);
      return t
    }
    ,
    e.toScore = function (e) {
      if (!e)
        return null;
      var t = y(e, o);
      return t.User = this.toUser(t.User),
        t
    }
    ,
    e.toUser = function (e) {
      return y(e, d)
    }
    ,
    e.toTeamScore = function (e) {
      if (!e)
        return null;
      var t = y(e, g);
      return t.Team = this.toTeam(t.Team),
        t
    }
    ,
    e.toTeam = function (e) {
      return y(e, _)
    }
    ,
    e.toAnswerState = function (e) {
      if (!e)
        return null;
      var t = y(e, l);
      if (t.LastAnsweredPlayers)
        for (var i = 0; i < t.LastAnsweredPlayers.length; i++)
          t.LastAnsweredPlayers[i] = this.toUser(t.LastAnsweredPlayers[i]);
      return t
    }
    ,
    e.toChatMessage = function (e) {
      return y(e, c)
    }
    ,
    e.toAnswerSummary = function (e) {
      return e ? y(e, s) : null
    }
    ,
    e.toReactionSummary = function (e) {
      return e ? y(e, r) : null
    }
    ,
    e.toQuestionStatistics = function (e) {
      if (!e)
        return null;
      var t = y(e, u);
      if (t.QuestionStatistics)
        for (var i = 0; i < t.QuestionStatistics.length; i++)
          t.QuestionStatistics[i] = this.toAnswerSummary(t.QuestionStatistics[i]);
      return t
    }
    ,
    e.toWordcloudWord = function (e) {
      return e ? y(e, p) : null
    }
    ,
    e.toWordcloudWords = function (e) {
      return e ? e.map(e => this.toWordcloudWord(e)) : null
    }
    ,
    e.toWordcloudWordsStats = function (e) {
      if (!e)
        return null;
      var t = y(e, h);
      return t.WordcloudWords = this.toWordcloudWords(t.WordcloudWords),
        t
    }
    ,
    e.toPreviousAnswerAttempts = function (e) {
      return e ? y(e, f) : null
    }
    ,
    e.toReactionsStats = function (e) {
      if (!e)
        return null;
      var t = y(e, m);
      if (t.Reactions)
        for (var i = 0; i < t.Reactions.length; i++)
          t.Reactions[i] = this.toReactionSummary(t.Reactions[i]);
      return t
    }
    ,
    e
}(mapper || {})
  , errorTypeEnum = {
    Unknown: 0,
    LimitIsReached: 1,
    IsNotAllowedToPlay: 2,
    DoesNotAllowed: 3
  }
  , validationResult = {
    Success: 0,
    LimitIsReached: 1,
    IsNotAllowedToPlay: 2,
    DoesNotHaveRequiredExtraInfo: 4,
    DoesNotHaveNickname: 8,
    DoesNotCheckQuizRequirements: 16,
    DoesNotHaveGdpr: 32,
    GeoLocationRequirement: 64,
    DoesNotAllowed: 128,
    AccessSecretCode: 256,
    NeedToSelectTeam: 512
  }
  , quizTypeEnum = Object.freeze({
    Quiz: 0,
    Pooling: 1,
    SinglePlayer: 2
  })
  , hostStateEnum = Object.freeze({
    NotInitiated: 0,
    Awaiting: 1,
    Countdown: 2,
    Answer: 3,
    Moderation: 4,
    ReviewAnswer: 5,
    ReviewAnswerSkipped: 6,
    Completed: 7,
    Stopped: 8
  });
const stopAllVideo = function () {
  window.videoPlayersList && (window.videoPlayersList.forEach(e => {
    e.dispose()
  }
  ),
    window.videoPlayersList = [])
};
var gameCoreModule = function (e, t) {
  var i = !0;
  function o(t) {
    t.IsPaused !== e.isPaused && (t.IsPaused ? (e.pause(),
      alertBoxModule.gamePausedShow()) : (e.resume(),
        alertBoxModule.gamePausedHide()))
  }
  return e.currentUserId = void 0,
    e.currentTeamId = void 0,
    e.currentTeamName = void 0,
    e.quizCode = void 0,
    e.hostId = void 0,
    e.quizId = void 0,
    e.archiveId = void 0,
    e.isSinglePlayer = void 0,
    e.isPersonalDataConsentEnabled = void 0,
    e.isLeaderboardModerationEnabled = void 0,
    e.hostInstance = $.connection.hostInstanceHub,
    e.isUserRegisteredRequest = function () {
      var e = $.Deferred();
      return $.get("/api/auth/isregistered").done((function (t) {
        e.resolve(t.isRegistered)
      }
      )).fail(e.reject),
        e.promise()
    }
    ,
    e.isUserAuthenticatedRequest = function () {
      var e = $.Deferred();
      return $.get("/api/auth/isauthenticated").done((function (t) {
        e.resolve(t.isAuthenticated)
      }
      )).fail(e.reject),
        e.promise()
    }
    ,
    e.getCurrentUserAuth = function () {
      var t = $.Deferred();
      return $.get("/api/auth/current").done((function (i) {
        e.currentUserId = i.id,
          t.resolve()
      }
      )).fail(t.reject),
        t.promise()
    }
    ,
    e.checkHostAvailability = function () {
      var t = $.Deferred();
      return $.get("/api/host/check/" + e.quizCode).done((function (e) {
        t.resolve(e.hostIsAvailable)
      }
      )).fail(t.reject),
        t.promise()
    }
    ,
    e.getHostInfo = function () {
      var t = $.Deferred();
      return $.get("/api/host/info/" + e.quizCode).done((function (i) {
        e.hostId = i.hostId,
          e.quizId = i.quizId,
          e.archiveId = i.archiveId,
          e.isSinglePlayer = i.isSinglePlayer,
          e.isReplayEnable = i.isReplayEnable,
          e.hostIsNotAvailable = i.isNotAvailable,
          e.isPaused = i.isPaused || e.hostIsNotAvailable,
          e.isPersonalDataConsentEnabled = i.isPersonalDataConsentEnabled,
          e.isLeaderboardModerationEnabled = i.isLeaderboardModerationEnabled,
          t.resolve()
      }
      )).fail(t.reject),
        t.promise()
    }
    ,
    e.checkQuizRedirections = function () {
      var t = $.Deferred();
      return $.get("/api/host/ValidateUserInfo/" + e.quizCode).done((function (i) {
        i.redirectUrl ? e.redirectTo(i.redirectUrl) : t.resolve()
      }
      )).fail(t.reject),
        t.promise()
    }
    ,
    e.validatePlayerBeforeJoinRequest = function () {
      var t = $.Deferred();
      return $.get("/api/host/validate/" + e.quizCode).done((function (e) {
        t.resolve(e.result)
      }
      )).fail(t.reject),
        t.promise()
    }
    ,
    e.validatePlayerBeforeJoin = function () {
      var i = $.Deferred();
      return e.validatePlayerBeforeJoinRequest().pipe((function (o) {
        var n = o.ValidateResult
          , a = o.Message
          , s = o.ConsentForCommunications;
        if (n === validationResult.Success)
          return e.addJoinToQuizRecord(s),
            void i.resolve();
        if ((n & validationResult.IsNotAllowedToPlay) !== validationResult.IsNotAllowedToPlay)
          if ((n & validationResult.DoesNotAllowed) !== validationResult.DoesNotAllowed) {
            if (!((n & validationResult.DoesNotHaveRequiredExtraInfo) === validationResult.DoesNotHaveRequiredExtraInfo || (n & validationResult.DoesNotHaveNickname) === validationResult.DoesNotHaveNickname || n & validationResult.NeedToSelectTeam))
              return $.Deferred().resolve().then((function () {
                if ((n & validationResult.DoesNotCheckQuizRequirements) === validationResult.DoesNotCheckQuizRequirements)
                  return e.checkQuizRequirements()
              }
              )).then((function () {
                if ((n & validationResult.AccessSecretCode) === validationResult.AccessSecretCode)
                  return accessSecretCodeModule.checkSecretCode()
              }
              )).then((function () {
                if ((n & validationResult.GeoLocationRequirement) === validationResult.GeoLocationRequirement)
                  return geoLocationModule.checkUserGeoLocation(global_GeoLocation)
              }
              )).then((function () {
                if ((n & validationResult.DoesNotHaveGdpr) === validationResult.DoesNotHaveGdpr)
                  return e.getGdprAgreements()
              }
              )).then(i.resolve).fail(i.reject).promise();
            e.redirectTo(t.routes.mvc.account.extraInfo)
          } else
            e.errorHandler(errorTypeEnum.DoesNotAllowed, a);
        else
          e.errorHandler(errorTypeEnum.IsNotAllowedToPlay)
      }
      )).fail(i.reject),
        i.promise()
    }
    ,
    e.showConsentModal = function () {
      $("#consentCommunicationsModal").modal()
    }
    ,
    e.hideConsentModal = function () {
      $("#consentCommunicationsModal").modal("hide")
    }
    ,
    e.onDeclineConsentClick = function () {
      e.hideConsentModal(),
        e.joinToQuiz(!1)
    }
    ,
    e.onAcceptConsentClick = function () {
      e.hideConsentModal(),
        e.joinToQuiz(!0)
    }
    ,
    e.addJoinToQuizRecord = function (t) {
      e.isPersonalDataConsentEnabled && null === t ? e.showConsentModal() : e.isPersonalDataConsentEnabled || e.joinToQuiz()
    }
    ,
    e.joinToQuiz = function (t) {
      var i = {
        quizId: e.quizId,
        archiveId: e.archiveId,
        isAcceptedConsent: t
      };
      $.ajax({
        url: "/HostInstance/JoinToQuiz",
        type: "POST",
        data: i,
        success: function (e) {
          e.success || console.log(e.message)
        }
      })
    }
    ,
    e.checkQuizRequirementsRequest = function () {
      var t = $.Deferred();
      return $.get("/api/host/requirements/" + e.quizCode).done((function (e) {
        t.resolve(e.result)
      }
      )).fail(t.reject),
        t.promise()
    }
    ,
    e.checkQuizRequirements = function () {
      var i = $.Deferred();
      return e.checkQuizRequirementsRequest().pipe((function (o) {
        o ? i.resolve() : e.redirectTo(t.routes.mvc.game.checkRequirements)
      }
      )).fail(i.reject),
        i.promise()
    }
    ,
    e.getGdprAgreements = function () {
      var i = $.Deferred();
      return gdprPopupModule.showAgreeGdpr().done((function (o) {
        o ? i.resolve() : e.redirectTo(t.routes.mvc.account.home)
      }
      )).fail(i.reject),
        i.promise()
    }
    ,
    e.joinPlayer = function () {
      var t = $.Deferred();
      return $.post("/api/host/join/" + e.quizCode).done((function (e) {
        t.resolve(e.validateResult)
      }
      )).fail(t.reject),
        t.promise()
    }
    ,
    e.isUserParticipantRequest = function () {
      var t = $.Deferred();
      return $.get("/api/competitions/" + e.quizCode + "/participants/me").done((function (e) {
        e ? t.resolve(!0) : t.resolve(!1)
      }
      )).fail(t.reject),
        t.promise()
    }
    ,
    e.userParticipateRequest = function () {
      var t = $.Deferred()
        , i = encodeURIComponent($.cookie("user.timezone.id"));
      return $.get("/api/competitions/" + e.quizCode + "/participate?timeZoneId=" + i).done(t.resolve).fail(t.reject),
        t.promise()
    }
    ,
    e.setHostAvailability = function () {
      e.hostIsNotAvailable && (e.pause(),
        console.log("alert box host"),
        alertBoxModule.hostFailedShow(e.isOwner, waitModule.isActive, leadersModule.isActive))
    }
    ,
    e.start = function () {
      e.isSinglePlayer && e.isOwner ? window.location = "/p/" + e.quizCode : (console.log("gameCoreModule.start"),
        e.hostInstance.server.start(e.hostId).done((function () {
          console.log("game is started!")
        }
        )).fail((function () {
          console.log("Fail - gameCoreModule.start")
        }
        )))
    }
    ,
    e.sendEllapsedTime = function (t, i) {
      e.hostInstance.server.sendEllapsedTime(e.hostId, t, i)
    }
    ,
    e.goNextStage = function (t, i) {
      console.log("gameCoreModule.goNextStage"),
        e.hostInstance.server.goNextStage(e.hostId, t, i).done((function (t) {
          t.IsSuccess || e.showDialogError(t),
            console.log("go next stage!")
        }
        )).fail((function () {
          console.log("Fail - gameCoreModule.goNextStage")
        }
        ))
    }
    ,
    e.banPlayersNick = function (t) {
      leadersModule.currentLeader && leadersModule.currentLeader.UserId === t && leadersModule.hideWinnerNickAndPhoto(),
        e.hostInstance.server.banPlayersNick(e.hostId, t).fail((function (e) {
          console.log("Fail to ban players nick", e)
        }
        ))
    }
    ,
    e.unbanPlayersNick = function (t) {
      leadersModule.currentLeader && leadersModule.currentLeader.UserId === t && leadersModule.showWinnerNickAndPhoto(leadersModule.currentLeader),
        e.hostInstance.server.unbanPlayersNick(e.hostId, t).fail((function (e) {
          console.log("Fail to unban players nick", e)
        }
        ))
    }
    ,
    e.showDialogError = function (e) {
      $("#gameErrorModal_title").empty().append(e.DialogTitle),
        $("#gameErrorModal_descr").empty().append(e.DialogDescription),
        $("#gameErrorModal").modal().toggleClass("modal--close")
    }
    ,
    e.redirectTo = function (e) {
      window.location.replace(e)
    }
    ,
    e.redirectToHome = function () {
      e.redirectTo(t.routes.mvc.account.home)
    }
    ,
    e.showNavigationButtons = function (e, t) {
      $(".icon-pause-button-background,.icon-play-button-background").toggleClass("disabled", !t),
        $(".countDownTimer__pause-layer-mobile").toggleClass("hidden", !e)
    }
    ,
    e.errorHandler = function (t, i) {
      switch (t) {
        case errorTypeEnum.LimitIsReached:
          alertBoxModule.playerValidationPlayersLimitIsReached.show();
          break;
        case errorTypeEnum.IsNotAllowedToPlay:
          alertBoxModule.playerValidationYouHaveBeenBanned.show();
          break;
        case errorTypeEnum.DoesNotAllowed:
          alertBoxModule.playerDoesNotAllowedEmail.show(i);
          break;
        default:
          alertBoxModule.errorUnknown.show()
      }
      e.errorsScreenStarted.fire()
    }
    ,
    e.participationStarted = new EventObserver,
    e.errorsScreenStarted = new EventObserver,
    e.waitStageStarted = new EventObserver,
    e.hostInstance.client.waitStageStarted = function (t) {
      t = mapper.toPosition(t),
        e.showNavigationButtons(!1, !1),
        e.waitStageStarted.fire(t)
    }
    ,
    e.countdownStageStarted = new EventObserver,
    e.hostInstance.client.countdownStageStarted = function (t) {
      console.log("gameCoreModule.countdownStageStartedFire"),
        stopAllVideo(),
        t = mapper.toPosition(t),
        e.clearAnswers(),
        e.showNavigationButtons(!1, !1),
        e.countdownStageStarted.fire(t)
    }
    ,
    e.moderationStageStarted = new EventObserver,
    e.hostInstance.client.moderationStageStarted = function (t) {
      console.log("gameCoreModule.moderationStageStartedFire"),
        stopAllVideo(),
        t = mapper.toPosition(t),
        e.showNavigationButtons(!1, !1),
        e.moderationStageStarted.fire(t)
    }
    ,
    e.questionsAnswerStageStarted = new EventObserver,
    e.hostInstance.client.questionsAnswerStageStarted = function (t) {
      console.log("gameCoreModule.questionsAnswerStageStarted.fire"),
        stopAllVideo(),
        t = mapper.toPosition(t),
        e.showNavigationButtons(!0, !t.CurrentQuestion.IsManuallyGoNextQuestion),
        o(t),
        e.fillAnswers(t),
        e.questionsAnswerStageStarted.fire(t),
        i ? (i = !1,
          quiz_push_messages.showGamePushMessage(quiz_push_messages.gameStates.OnGameStart)) : quiz_push_messages.showGamePushMessage(quiz_push_messages.gameStates.OnNewGameQuestion)
    }
    ,
    e.answeredUpdate = new EventObserver,
    e.hostInstance.client.answeredUpdate = function (t) {
      t = mapper.toAnswerState(t),
        e.answeredUpdate.fire(t)
    }
    ,
    e.playersNickBanListUpdate = new EventObserver,
    e.hostInstance.client.playersNickBanListUpdate = function (t) {
      e.playersNickBanListUpdate.fire(t)
    }
    ,
    e.questionsReviewStageStarted = new EventObserver,
    e.hostInstance.client.questionsReviewStageStarted = function (t) {
      t = mapper.toPosition(t),
        leadersModule.setBannedNicksUserIds(t.BannedNicknameUserIds),
        leadersModule.hideBannedUsersNicks(),
        e.showNavigationButtons(!0, !t.CurrentQuestion.IsManuallyGoNextQuestion),
        o(t),
        e.fillPosition(t),
        e.questionsReviewStageStarted.fire(t)
    }
    ,
    e.leadersStageStarted = new EventObserver,
    e.hostInstance.client.leadersStageStarted = function (t) {
      stopAllVideo(),
        o(t = mapper.toPosition(t)),
        e.showNavigationButtons(!1, !1),
        e.leadersStageStarted.fire(t),
        quiz_push_messages.showGamePushMessage(quiz_push_messages.gameStates.OnGameEnd),
        e.isStopManagerHeartbeat = !0
    }
    ,
    e.hostStopped = new EventObserver,
    e.hostInstance.client.hostStopped = function (t) {
      t = mapper.toPosition(t),
        e.hostStopped.fire(t)
    }
    ,
    e.setPauseState = new EventObserver,
    e.hostInstance.client.setPauseState = function (t) {
      e.setPauseState.fire(t)
    }
    ,
    e.autoStartDisabled = new EventObserver,
    e.hostInstance.client.autoStartDisabled = function () {
      e.autoStartDisabled.fire()
    }
    ,
    e.receiveChatMessage = new EventObserver,
    e.hostInstance.client.receiveChatMessage = function (t) {
      console.log("gameCoreModule.receiveChatMessage"),
        t = mapper.toChatMessage(t),
        e.receiveChatMessage.fire(t)
    }
    ,
    e.setUserBanned = new EventObserver,
    e.hostInstance.client.setUserBanned = function (t) {
      e.setUserBanned.fire(t)
    }
    ,
    e.questionStatisticsUpdate = new EventObserver,
    e.hostInstance.client.questionStatisticsUpdate = function (t) {
      t = mapper.toQuestionStatistics(t),
        e.questionStatisticsUpdate.fire(t)
    }
    ,
    e.questionWordloudStatisticsUpdate = new EventObserver,
    e.hostInstance.client.questionWordloudStatisticsUpdate = function (t) {
      t = mapper.toWordcloudWordsStats(t),
        e.questionWordloudStatisticsUpdate.fire(t)
    }
    ,
    e.questionReactionsStatisticsUpdate = new EventObserver,
    e.hostInstance.client.questionReactionsStatisticsUpdate = function (t) {
      t = mapper.toReactionsStats(t),
        e.questionReactionsStatisticsUpdate.fire(t)
    }
    ,
    e.hostInstance.client.hostInstanceFailed = function () {
      e.hostIsNotAvailable || (console.log("gameCoreModule.hostInstanceFailed"),
        e.pause(),
        e.switchPauseState(e.isPaused),
        e.hostIsNotAvailable = !0,
        alertBoxModule.hostRestoredHide(),
        alertBoxModule.hostFailedShow(e.isOwner, waitModule.isActive, leadersModule.isActive))
    }
    ,
    e.hostInstance.client.hostInstanceRestored = function () {
      e.hostIsNotAvailable && (console.log("gameCoreModule.hostInstanceRestored"),
        e.hostIsNotAvailable = !1,
        alertBoxModule.hostFailedHide(),
        alertBoxModule.hostRestoredShow(e.isOwner, waitModule.isActive, leadersModule.isActive))
    }
    ,
    e.pause = function () {
      e.isPaused = !0,
        questionReviewModule.pause(),
        questionAnswerModule.pause(),
        gameAssistantModule.pause()
    }
    ,
    e.resume = function () {
      e.hostIsNotAvailable || (e.isPaused = !1,
        questionReviewModule.resume(),
        questionAnswerModule.resume(),
        gameAssistantModule.resume(),
        alertBoxModule.hostRestoredHide())
    }
    ,
    e.switchPauseState = function (e) {
      e ? ($(".play-button").show(),
        $(".pause-button").hide()) : ($(".play-button").hide(),
          $(".pause-button").show())
    }
    ,
    $.connection.hub.connectionSlow((function () {
      console.log("connectionSlow"),
        alertBoxModule.connectionSlowShow()
    }
    )),
    $.connection.hub.reconnected((function () {
      console.log("reconnected"),
        alertBoxModule.connectionLostHide(),
        alertBoxModule.connectionSlowHide()
    }
    )),
    $.connection.hub.reconnecting((function () {
      console.log("reconnecting"),
        alertBoxModule.connectionLostShow()
    }
    )),
    e
}(gameCoreModule || {}, {
  routes: global_routes
});
gameCoreModule = function (e) {
  var t = {}
    , i = {}
    , o = {};
  return e.playerEliminated = new EventObserver,
    e.join = function () {
      $.connection.hub.start({
        transport: ["webSockets", "longPolling"]
      }).done((function () {
        e.hostInstance.server.join(e.hostId).done((function (t) {
          t.IsSuccess ? t.Payload.IsPlayerRejected ? e.errorHandler(errorTypeEnum.LimitIsReached) : (console.log("You are joined! TeamId:" + t.Payload.TeamId),
            e.currentTeamId = t.Payload.TeamId,
            e.currentTeamName = t.Payload.TeamName,
            e.currentTeamName && $("#playerTeam").html(e.currentTeamName),
            t.Payload.IsTeamAutoSelectNow && ($("#teamJoinModal-title span").html(e.currentTeamName),
              $("#teamJoinModal").modal()),
            t.Payload.IsPlayerEliminated && e.playerEliminated.fire(!0),
            t.Payload.CurrentUserReaction && 0 !== t.Payload.CurrentQuestion && questionAnswerModule.setSelectedReactionById(t.Payload.CurrentUserReaction)) : e.showDialogError(t),
            alertBoxModule.connectionLostHide(),
            alertBoxModule.connectionSlowHide(),
            e.validatePlayerBeforeJoin()
        }
        )).fail((function () {
          console.log("Fail - gameCoreModule.connect")
        }
        ))
      }
      ))
    }
    ,
    e.changeTeam = function (t) {
      e.hostInstance.server.changeTeam(e.hostId, t).done((function (t) {
        t.IsSuccess ? (e.currentTeamId = t.Payload,
          console.log("You are change team! " + t.Payload)) : e.showDialogError(t)
      }
      )).fail((function () {
        console.log("Fail - ameCoreModule.changeTeam")
      }
      ))
    }
    ,
    e.leave = function () {
      $.connection.hub.stop()
    }
    ,
    e.answer = function (n, a, s, r) {
      e.hostInstance.server.answer(e.hostId, n, a, s, r).done((function (l) {
        l.IsSuccess || e.showDialogError(l),
          t[n] = a,
          i[n] = s,
          o[n] = r,
          console.log("You have answered!")
      }
      )).fail((function (e) {
        console.log("Fail - gameCoreModule.answer"),
          console.log(e)
      }
      ))
    }
    ,
    e.answerAttempt = async function (o, n, a) {
      await e.hostInstance.server.answerAttempt(e.hostId, o, n, a).done((function (s) {
        s.IsSuccess || e.showDialogError(s),
          s.Payload.IsLimitAttemptsReached && s.Payload.AttemptsCount && s.Payload.PreviousAnswers ? (questionAnswerModule.setIsLimitAttemptsReached(!0),
            questionAnswerModule.setUserAttemptsCount(s.Payload.AttemptsCount),
            questionAnswerModule.setPreviousAnswers(s.Payload.PreviousAnswers),
            questionAnswerModule.hideAnswerAttemptsLeft()) : s.Payload.IsCorrect && s.Payload.QuestionType && s.Payload.QuestionType === questionType.Open ? (questionAnswerModule.setAnswerIsCorrect(!0),
              questionAnswerModule.hideAnswerAttemptsLeft()) : (questionAnswerModule.setPreviousAnswers(s.Payload.PreviousAnswers),
                s.Payload.AttemptsCount && (questionAnswerModule.setUserAttemptsCount(s.Payload.AttemptsCount),
                  questionAnswerModule.displayUserAttemptsLeft()),
                questionAnswerModule.displayPreviouslyAnswers()),
          t[o] = n,
          i[o] = a,
          console.log("You have answered!")
      }
      )).fail((function (e) {
        console.log("Fail - gameCoreModule.answer"),
          console.log(e)
      }
      ))
    }
    ,
    e.reaction = function (t, i) {
      e.hostInstance.server.reaction(e.hostId, t, i).done((function (t) {
        t.IsSuccess || e.showDialogError(t)
      }
      )).fail((function (e) {
        console.log("Fail - gameCoreModule.reaction"),
          console.log(e)
      }
      ))
    }
    ,
    e.clearAnswers = function () {
      t = {},
        i = {},
        o = {}
    }
    ,
    e.fillPosition = function (e) {
      null != e.AnswerIds && 0 != e.AnswerIds.length || null != t[e.CurrentQuestion.Id] && (e.AnswerIds = t[e.CurrentQuestion.Id]),
        e.AnswerText || null != i[e.CurrentQuestion.Id] && (e.AnswerText = i[e.CurrentQuestion.Id]),
        e.AnswerDrawModelId || null != o[e.CurrentQuestion.Id] && (e.AnswerDrawModelId = o[e.CurrentQuestion.Id])
    }
    ,
    e.fillAnswers = function (e) {
      e.AnswerIds && e.AnswerIds.length > 0 && null == t[e.CurrentQuestion.Id] && (t[e.CurrentQuestion.Id] = e.AnswerIds),
        e.AnswerText && null == i[e.CurrentQuestion.Id] && (i[e.CurrentQuestion.Id] = e.AnswerText),
        e.AnswerDrawModelId && null == o[e.CurrentQuestion.Id] && (o[e.CurrentQuestion.Id] = e.AnswerDrawModelId)
    }
    ,
    e.playerResultGet = function () {
      console.log("Starting playerResult!");
      var t = e.currentTeamId;
      t || (t = "00000000-0000-0000-0000-000000000000"),
        e.hostInstance.server.playerResultGet(e.hostId, t).done((function () {
          console.log("You are requested playerResult!")
        }
        )).fail((function (e) {
          console.log("Fail - gameCoreModule.playerResultGet"),
            console.log(e)
        }
        ))
    }
    ,
    e.playerResult = new EventObserver,
    e.hostInstance.client.playerResult = function (t) {
      t = mapper.toScore(t),
        e.playerResult.fire(t)
    }
    ,
    e.playerTeamResult = new EventObserver,
    e.hostInstance.client.playerTeamResult = function (t) {
      t = mapper.toTeamScore(t),
        e.playerTeamResult.fire(t)
    }
    ,
    e.sendQuizWinnerCode = function (t, i) {
      console.log(t),
        e.hostInstance.server.sendQuizWinnerCode(t).done((function () {
          console.log("You are requested send winner code!"),
            null != i && i({
              success: !0
            })
        }
        )).fail((function () {
          console.log("Fail - gameCoreModule.sendQuizWinnerCode"),
            i({
              success: !1
            })
        }
        ))
    }
    ,
    e.sendQuizPromoInfo = function (t, i) {
      e.hostInstance.server.sendQuizPromoInfo(e.hostId, t.email).done((function () {
        console.log("You are requested send promo info!"),
          null != i && i({
            success: !0
          })
      }
      )).fail((function () {
        console.log("Fail - gameCoreModule.sendQuizPromoInfo"),
          i({
            success: !1
          })
      }
      ))
    }
    ,
    e.addQuizPromoInfo = function (t) {
      e.hostInstance.server.addPromoInfo(e.hostId).done((function () {
        console.log("You are requested add promo info!"),
          null != t && t({
            success: !0
          })
      }
      )).fail((function () {
        console.log("Fail - gameCoreModule.addPromoInfo"),
          t({
            success: !1
          })
      }
      ))
    }
    ,
    e.playerJoined = new EventObserver,
    e.hostInstance.client.playerJoined = function (t, i) {
      e.playerJoined.fire({
        count: t,
        allCount: i
      })
    }
    ,
    $.connection.hub.disconnected((function () {
      void 0 !== activityQuestionModule && activityUIModule.hide(),
        console.log("disconnected.player"),
        setTimeout((function () {
          e.join()
        }
        ), 5e3)
    }
    )),
    e
}(gameCoreModule);
var gameAssistantModule = function (e) {
  function t(e) {
    var t = $.cookie("gameAssistantAlertsGlobalEnabled")
      , i = !!t && "true" === t.toLowerCase();
    return {
      position: e || {
        HostState: 0
      },
      isPaused: e && e.IsPaused,
      isHideCorrectAnswerNumber: e && e.CurrentQuestion && e.CurrentQuestion.HideCorrectAnswerNumber,
      isAnswered: function () {
        return this.position && this.position.IsAnswered
      },
      isStageNotInitiated: function () {
        return this.position && 0 === this.position.HostState
      },
      isStageAwaiting: function () {
        return this.position && 1 === this.position.HostState
      },
      isStageCountdown: function () {
        return this.position && 2 === this.position.HostState
      },
      isStageAnswer: function () {
        return this.position && 3 === this.position.HostState
      },
      isStageReviewAnswer: function () {
        return this.position && 4 === this.position.HostState
      },
      isStageReviewAnswerSkipped: function () {
        return this.position && 5 === this.position.HostState
      },
      isStageCompleted: function () {
        return this.position && 6 === this.position.HostState
      },
      isStageStopped: function () {
        return this.position && 7 === this.position.HostState
      },
      tickStatus: {
        remainingTimeInSeconds: 0,
        currentPercentCompleted: 0,
        totalTime: 0
      },
      alertsEnabled: function () {
        return i
      }
    }
  }
  function i() {
    $(".game-assistant-alert").fadeOut()
  }
  return e.state = t(),
    e.initByPosition = function (o) {
      i(),
        e.state = t(o),
        e.initByPositionPlayer && e.initByPositionPlayer(o)
    }
    ,
    e.pause = function () {
      e.state.isPaused = !0,
        i()
    }
    ,
    e.resume = function () {
      e.state.isPaused = !1
    }
    ,
    e.onTimerQuestionAnswerStage = function (t) {
      e.state.tickStatus = t,
        e.state.alertsEnabled() && e.state.isStageAnswer() && e.onTimerQuestionAnswerStagePlayer && e.onTimerQuestionAnswerStagePlayer()
    }
    ,
    e
}(gameAssistantModule || {});
if (gameAssistantModule = function (e) {
  return e.initByPositionPlayer = function (t) {
    e.state.getAnswerSelectedDelay = function () {
      var t = 0;
      return e.state.answerSelected && e.state.answerSelected.tick && (t = e.state.tickStatus.currentPercentCompleted - e.state.answerSelected.tick.currentPercentCompleted),
        t
    }
      ,
      e.state.alertsEnabled() && (e.state.ignoreNotSelected = !1,
        e.state.alertPlayerHaveNotSelectedAnswers = {
          wasClosed: !1,
          logic: function () {
            if (e.state.ignoreNotSelected || e.state.isAnswered() || e.state.isPaused || e.state.position.AnswerText || this.wasClosed)
              this.hide();
            else {
              var t = !!e.state.answerSelected && e.state.answerSelected.isSelected
                , i = e.state.getAnswerSelectedDelay();
              t ? this.hide() : !t && i >= 10 && e.state.tickStatus.remainingTimeInSeconds > 2 && e.state.tickStatus.currentPercentCompleted >= 75 && this.show()
            }
          },
          show: function () {
            var e = this.hide
              , t = this;
            alertBoxModule.playerHaveNotSelectedAnswersShow((function () {
              t.wasClosed = !0,
                e()
            }
            ))
          },
          hide: function () {
            alertBoxModule.playerHaveNotSelectedAnswersHide()
          }
        },
        e.state.alertPlayerHaveNotClickAnswerButton = {
          wasClosed: !1,
          logic: function () {
            !e.state.isAnswered() && e.state.answerSelected && e.state.answerSelected.isSelected && !e.state.isPaused && e.state.isHideCorrectAnswerNumber && !this.wasClosed ? e.state.getAnswerSelectedDelay() >= 10 ? e.state.tickStatus.remainingTimeInSeconds > 2 && this.show() : this.hide() : this.hide()
          },
          show: function () {
            var e = $("#answerAction__AnswerText").text()
              , t = this.hide
              , i = this;
            alertBoxModule.playerHaveNotClickAnswerButtonShow(e, (function () {
              $("#answerAction").click(),
                t()
            }
            ), (function () {
              i.wasClosed = !0,
                t()
            }
            ))
          },
          hide: function () {
            alertBoxModule.playerHaveNotClickAnswerButtonHide()
          }
        },
        e.state.alertPlayerNotAllAnswersShown = {
          wasClosed: !1,
          isAllAnswersShownAlready: !1,
          logic: function () {
            !this.isAllAnswersShown() && !e.state.isAnswered() && e.state.tickStatus.currentPercentCompleted >= 50 && e.state.tickStatus.remainingTimeInSeconds > 2 && !e.state.isPaused && !this.wasClosed ? this.show() : this.hide()
          },
          show: function () {
            var e = this.hide
              , t = this;
            alertBoxModule.playerNotAllAnswersShownShow((function () {
              $("html, body").animate({
                scrollTop: $(".questionDetails__Answers .answerButton").last().offset().top
              }, 500)
            }
            ), (function () {
              t.wasClosed = !0,
                e()
            }
            ))
          },
          hide: function () {
            alertBoxModule.playerNotAllAnswersShownHide()
          },
          isAllAnswersShown: function () {
            return this.isAllAnswersShownAlready || this.checkLastAnswerWasShownInWindow(),
              this.isAllAnswersShownAlready
          },
          checkLastAnswerWasShownInWindow: function () {
            clearTimeout($.data(this, "scrollCheck")),
              $.data(this, "scrollCheck", setTimeout((function () {
                e.state.alertPlayerNotAllAnswersShown.isAllAnswersShownAlready = e.state.alertPlayerNotAllAnswersShown.isLastAnswerWasShownInWindow()
              }
              ), 200))
          },
          isLastAnswerWasShownInWindow: function () {
            var e = $(".questionDetails__Answers .answerButton").last();
            return !!e && $(window).height() + $(window).scrollTop() >= e.offset().top + e.height()
          }
        })
  }
    ,
    e.onTimerQuestionAnswerStagePlayer = function (t) {
      e.state.alertPlayerHaveNotSelectedAnswers && e.state.alertPlayerHaveNotSelectedAnswers.logic(),
        e.state.alertPlayerHaveNotClickAnswerButton && e.state.alertPlayerHaveNotClickAnswerButton.logic()
    }
    ,
    e.isAnswered = function (t) {
      e.state.position.IsAnswered = t
    }
    ,
    e.answerSelected = function (t) {
      e.state.answerSelected = {
        isSelected: t,
        tick: e.state.tickStatus
      },
        t && e.state.alertPlayerHaveNotSelectedAnswers && e.state.alertPlayerHaveNotSelectedAnswers.hide()
    }
    ,
    e.ignoreNotSelected = function (t) {
      e.state.ignoreNotSelected = t
    }
    ,
    e
}(gameAssistantModule),
  "US" === global_nodeLocation) {
  var tag = document.createElement("script");
  tag.src = "https://www.youtube.com/iframe_api";
  var firstScriptTag = document.getElementsByTagName("script")[0];
  firstScriptTag.parentNode.insertBefore(tag, firstScriptTag)
}
const videoPlayerElementId = "video-player"
  , videoViewContainerElementId = "video-view-container"
  , videoElementClassName = "video-js";
var imageBlockLocalization = {
  amsVideoNotAvailableText: "Video is not available",
  amsVideoNotAvailableOwnerText: "Video is not available"
}
  , imageBlockModule = function (e) {
    function t(e, t) {
      var i = this;
      i.settings = t;
      let o = $("#" + e + " > div");
      if (!o.length) {
        let t = $("#" + e);
        t.length && (t.append("<div></div>"),
          o = $("#" + e + " > div"))
      }
      return i.setElement = function () {
        if (void 0 !== i.settings.src && null !== i.settings.src && 0 !== i.settings.src.length || "VideoSelfHosted" === t.mediaType || "VideoStream" === t.mediaType)
          switch (o.empty(),
          o.removeAttr("style"),
          o.removeClass("imageBlock__VideoNotSupported"),
          n(o[0], !1),
          i.settings.mediaType) {
            case "VideoRutube":
              i.setRutubeElement();
              break;
            case "Video":
              i.setYoutubeElement();
              break;
            case "VideoSelfHosted":
              i.setVideoSelfHostedElement(e);
              break;
            case "VideoStream":
              i.setYoutubeStreamElement();
              break;
            default:
              i.setImageElement()
          }
      }
        ,
        i.setRutubeElement = function () {
          $(".hiddenWhenYoutubeMsgVisible").hide(),
            n(o[0], !0);
          const e = GlobalUtils.uuidv4();
          $(o[0]).append("<div class='frameContainer'><div id='" + e + "'></div></div>"),
            window.addEventListener("message", (function (t) {
              if (t.data) {
                if ("player:ready" === JSON.parse(t.data).type && i.settings.isAutoPlay) {
                  const t = document.getElementById(e)
                    , i = {
                      type: "player:mute",
                      data: {}
                    }
                    , o = {
                      type: "player:play",
                      data: {}
                    };
                  t.contentWindow.postMessage(JSON.stringify(i), "*"),
                    t.contentWindow.postMessage(JSON.stringify(o), "*")
                }
              }
            }
            )),
            setTimeout(() => {
              const t = `<iframe \n                            id='${e}' \n                            frameborder='0' \n                            webkitallowfullscreen\n                            allowfullscreen\n                            mozallowfullscreen\n                            allow='clipboard-write; autoplay; gyroscope;'\n                            webkitAllowFullScreen \n                            mozallowfullscreen \n                            allowFullScreen\n                            src='${i.settings.src}'\n                            width='100%'\n                            height='100%'\n                        >       \n                        </iframe>`;
              $("#" + e).replaceWith(t)
            }
              , 100)
        }
        ,
        i.setYoutubeElement = function () {
          $(".hiddenWhenYoutubeMsgVisible").show(),
            i.settings.isAutoPlay && !i.settings.isMobile || ($(".hiddenWhenYoutubeMsgVisible").hide(),
              n(o[0], !0));
          var e = GlobalUtils.uuidv4();
          $(o[0]).append("<div class='frameContainer'><div id='" + e + "'></div></div>");
          var t = GlobalUtils.getUrlParameter("start", i.settings.src);
          t = "" === t ? 0 : t;
          var a, s = GlobalUtils.getUrlParameter("end", i.settings.src), r = {
            controls: 1,
            enablejsapi: 1,
            modestbranding: 1,
            start: t
          };
          s && (r.end = s);
          var l = function () {
            "undefined" != typeof YT && YT && YT.Player ? a = new YT.Player(e, {
              videoId: GlobalUtils.getYoutubeId(i.settings.src).id,
              playerVars: r,
              events: {
                onReady: function () {
                  i.settings.isAutoPlay && (a.mute(),
                    a.playVideo())
                }
              }
            }) : setTimeout(l, 100)
          };
          l()
        }
        ,
        i.setYoutubeStreamElement = function () {
          streamPlayer.isStreamInMediaBlock() && ($(o[0]).append("<div class='youtubeStreamImageBlock frameContainer'></div>").parents("#questionDetails__ImageBlock").attr("media-type", "VideoStream"),
            streamPlayer.moveToMediablock())
        }
        ,
        i.setVideoSelfHostedElement = function (e) {
          $(".hiddenWhenYoutubeMsgVisible").show();
          var a = null;
          if (i.settings.src) {
            i.settings.isAutoPlay && !i.settings.isMobile || ($(".hiddenWhenYoutubeMsgVisible").hide(),
              n(o[0], !0)),
              a = $('<div class="frameContainer"></div>'),
              $(o[0]).append(a);
            const t = document.getElementById(e);
            for (; t.firstChild;)
              t.removeChild(t.firstChild);
            !function (e, t, i, o) {
              if (!e || !t)
                return;
              if (t.includes("windows") || t.includes("azure")) {
                const t = document.createElement("div");
                t.innerHTML = global_isOwner ? imageBlockLocalization.amsVideoNotAvailableOwnerText : imageBlockLocalization.amsVideoNotAvailableText,
                  t.className = "imageBlock__VideoNotSupported",
                  e.appendChild(t)
              } else {
                const n = document.createElement("video");
                n.style = "width: 100%; height: 100%;",
                  i && (n.setAttribute("autoplay", ""),
                    n.setAttribute("preload", "auto"));
                const a = "video-player-" + Date.now();
                n.id = a,
                  n.className = "video-js",
                  e.appendChild(n);
                const s = videojs(a, {
                  controls: !0,
                  fluid: !0,
                  preload: "auto",
                  aspectRatio: "16:9",
                  poster: o,
                  playsinline: !0,
                  sources: [{
                    src: t,
                    type: "application/x-mpegURL"
                  }]
                });
                window.videoPlayersList ? window.videoPlayersList.push(s) : window.videoPlayersList = [s]
              }
            }(t, i.settings.src, i.settings.isAutoPlay, i.settings.thumbnailSrc)
          } else
            o[0].className = "videoProcessingContainer",
              (a = new Image).className = "videoProcessingImg",
              a.src = "/app/images/home/video_processing" + (i.settings.isMobile ? "_mob" : "") + "_" + t.lang + ".png",
              $(o[0]).append(a)
        }
        ,
        i.setImageElement = function () {
          var e = $(o[0]).parent().parent().width()
            , t = $(o[0]).parent().width()
            , n = 0;
          e > 0 && (n = i.calculateNewHeight(i.settings.imageHeight, i.settings.imageWidth, t)),
            o[0].style.cssText = "",
            $(o[0]).height(n);
          var a = i.settings.maxImageHeight ? i.settings.maxImageHeight : "50vh";
          $(o[0]).css({
            "max-height": a
          });
          var s = new Image;
          $(s).attr("src", i.settings.src).addClass("ImageBlock__Background").css("visibility", "hidden").appendTo(o[0]);
          var r = document.createElement("IMG");
          r.src = i.settings.src,
            r.onload = function () {
              var e;
              e = i.settings.src,
                o[0].style.cssText = "background-image:url(" + e + ");background-size:contain;background-repeat:no-repeat;background-position: center;max-height:" + a + ";",
                n > 0 && (o[0].style.cssText += "height:" + n + "px;"),
                r.className = "ImageBlock__Image",
                this.width < this.height ? o[0].style.cssText += "height:100%;" : o[0].style.cssText += "width:100%;",
                n > 0 && (o[0].style.cssText += "height:" + n + "px;"),
                this.onload = null
            }
        }
        ,
        i.calculateNewHeight = function (e, t, i) {
          return 0 === e || 0 === t ? 0 : i / t * e
        }
        ,
        i.dispose = function (e) {
          if (i.settings.mediaType && "VideoSelfHosted" === i.settings.mediaType) {
            var t = $("#questionDetails__ImageBlock");
            $("#" + e + " > div").empty(),
              t.children().length || t.append("<div></div>")
          }
        }
        ,
        i.setElement(),
        i
    }
    function i(e) {
      e.thumbnailSrc || (e.thumbnailSrc = ""),
        e.lang || (e.lang = "en"),
        e.isMobile = /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0, 4)),
        "Video" !== e.mediaType && "VideoRutube" !== e.mediaType || (e.isAutoPlay = -1 !== e.src.toLowerCase().indexOf("autoplay"),
          e.isMuted = e.isAutoPlay)
    }
    this.testName = "imageBlockModule";
    var o = {};
    function n(e, t) {
      t ? $(e).closest(".infoBlock").find(".YoutubeInfoMsg").removeClass("hidden") : $(e).closest(".infoBlock").find(".YoutubeInfoMsg").addClass("hidden")
    }
    return e.init = function (t) {
      var i, o = {
        src: (i = $("#" + t)).attr("src"),
        mediaType: i.attr("media-type"),
        thumbnailSrc: i.attr("thumbnail-src"),
        isAutoPlay: i.attr("video-autoplay") && "true" === i.attr("video-autoplay").toLowerCase(),
        isMuted: "true" === (i.attr("is-muted") ? i.attr("is-muted") : "false").toLowerCase(),
        lang: i.attr("language"),
        imageWidth: i.attr("img-width"),
        imageHeight: i.attr("img-height"),
        maxImageHeight: i.attr("max-img-height")
      };
      return e.initWithSettings(t, o)
    }
      ,
      e.initWithSettings = function (e, n) {
        if (e in o)
          return o[e];
        i(n);
        var a = new t(e, n);
        return o[e] = a,
          a
      }
      ,
      e.dispose = function (e) {
        var t = o[e];
        null != t && (t.dispose(e),
          delete o[e])
      }
      ,
      e.isVideoDisplayed = function () {
        for (var e in o)
          if ("Video" === o[e].settings.mediaType || "VideoSelfHosted" === o[e].settings.mediaType || "VideoRutube" === o[e].settings.mediaType)
            return !0;
        return !1
      }
      ,
      e.isVideoStreamDisplayed = function () {
        for (var e in o)
          if ("VideoStream" === o[e].settings.mediaType)
            return !0;
        return !1
      }
      ,
      e
  }(imageBlockModule || {})
  , alertBoxModule = (GlobalUtils = (Math.trunc = Math.trunc || function (e) {
    return isNaN(e) ? NaN : e > 0 ? Math.floor(e) : Math.ceil(e)
  }
    ,
    self.getCurrentTimeZone = function () {
      var e = ""
        , t = -1 * (new Date).getTimezoneOffset()
        , i = moment.tz.guess()
        , o = "" + Math.trunc(Math.abs(t / 60));
      1 === o.length && (o = "0" + o);
      var n = "" + Math.abs(t % 60);
      return 1 === n.length && (n = "0" + n),
        t > 0 ? e += "+" : t < 0 && (e += "-"),
        e = {
          timeZoneOffset: e + o + ":" + n,
          timeZoneName: i
        }
    }
    ,
    self.uuidv4 = function () {
      return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (function (e) {
        var t = 16 * Math.random() | 0;
        return ("x" == e ? t : 3 & t | 8).toString(16)
      }
      ))
    }
    ,
    self.getYoutubeId = function (e) {
      if (e) {
        var t = e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=|\?v=)([^#\&\?]*).*/);
        return t && 11 == t[2].length ? {
          isValid: !0,
          id: t[2]
        } : {
          isValid: !1
        }
      }
      return {
        isValid: !1
      }
    }
    ,
    self.getUrlParameter = function (e, t) {
      return (t.split(e + "=")[1] || "").split("&")[0]
    }
    ,
    self.sanitizeString = function (e) {
      var t = document.createElement("div");
      return t.innerText = e,
        t.innerHTML
    }
    ,
    self),
    function (e) {
      return $((function () {
        $(".alertItem").each((function () {
          var e = $(this)
            , t = $(this).find(".alertItem__Close")
            , i = $(this).find(".alertItem__More")
            , o = $(this).find(".alertItem__Details");
          t.click((function () {
            e.hide()
          }
          )),
            i.click((function () {
              o.toggle()
            }
            ))
        }
        ))
      }
      )),
        e.connectionSlowShow = function () {
          $("#connectionSlowAlert").show()
        }
        ,
        e.connectionSlowHide = function () {
          $("#connectionSlowAlert").hide()
        }
        ,
        e.connectionLostShow = function () {
          $("#connectionLostAlert").show()
        }
        ,
        e.connectionLostHide = function () {
          $("#connectionLostAlert").hide()
        }
        ,
        e.gamePausedShow = function () {
          console.log("pause notification showed"),
            $("#gamePause").show()
        }
        ,
        e.gamePausedHide = function () {
          $("#gamePause").hide()
        }
        ,
        e.hostFailedShow = function (e, t, i) {
          i || (t ? e && $("#hostFailedOnWaitAlert").show() : $("#hostFailedAlert").show())
        }
        ,
        e.hostFailedHide = function () {
          $("#hostFailedAlert").hide(),
            $("#hostFailedOnWaitAlert").hide()
        }
        ,
        e.hostRestoredShow = function (e, t, i) {
          i || (t ? e && $("#hostRestoredOnWait").show() : e ? $("#hostRestoredOwner").show() : $("#hostRestoredPlayer").show())
        }
        ,
        e.hostRestoredHide = function () {
          $("#hostRestoredOwner").hide(),
            $("#hostRestoredPlayer").hide(),
            $("#hostRestoredOnWait").hide()
        }
        ,
        e.playerHaveNotSelectedAnswersShow = function (e) {
          if (!$("#playerHaveNotSelectedAnswers").is(":visible")) {
            var t = $("#playerHaveNotSelectedAnswers .alertItem__Close");
            t.unbind("click"),
              t.bind("click", e),
              $("#playerHaveNotSelectedAnswers").fadeIn()
          }
        }
        ,
        e.playerHaveNotSelectedAnswersHide = function () {
          $("#playerHaveNotSelectedAnswers").hide()
        }
        ,
        e.playerHaveNotClickAnswerButtonShow = function (e, t, i) {
          if (!$("#playerHaveNotClickAnswerButton").is(":visible")) {
            var o = $("#playerHaveNotClickAnswerButton .alertItem_Text")
              , n = o.html().replace(/%%BTN_TEXT%%/gi, e);
            o.html(n);
            var a = $("#playerHaveNotClickAnswerButton .alertItem__Action");
            a.unbind("click"),
              a.bind("click", t);
            var s = $("#playerHaveNotClickAnswerButton .alertItem__Close");
            s.unbind("click"),
              s.bind("click", i),
              $("#playerHaveNotClickAnswerButton").fadeIn()
          }
        }
        ,
        e.playerHaveNotClickAnswerButtonHide = function () {
          $("#playerHaveNotClickAnswerButton").hide()
        }
        ,
        e.playerNotAllAnswersShownShow = function (e, t) {
          var i = $("#playerNotAllAnswersShown .alertItem__Action");
          i.unbind("click"),
            i.bind("click", e);
          var o = $("#playerNotAllAnswersShown .alertItem__Close");
          o.unbind("click"),
            o.bind("click", t),
            $("#playerNotAllAnswersShown").fadeIn()
        }
        ,
        e.playerNotAllAnswersShownHide = function () {
          $("#playerNotAllAnswersShown").fadeOut()
        }
        ,
        e.playerValidationYouHaveBeenBanned = {
          getContainer: function () {
            return $("#playerValidationYouHaveBeenBanned")
          },
          show: function () {
            this.getContainer().fadeIn()
          },
          hide: function () {
            this.getContainer().fadeOut()
          }
        },
        e.playerValidationPlayersLimitIsReached = {
          getContainer: function () {
            return $("#playerValidationPlayersLimitIsReached")
          },
          show: function () {
            this.getContainer().fadeIn()
          },
          hide: function () {
            this.getContainer().fadeOut()
          }
        },
        e.playerDoesNotAllowedEmail = {
          getContainer: function () {
            return $("#playerDoesNotAllowedEmail")
          },
          show: function (e) {
            e && this.getContainer().find(".playerDoesNotAllowedEmail__Text").text(e),
              this.getContainer().fadeIn()
          },
          hide: function () {
            this.getContainer().fadeOut()
          }
        },
        e.errorUnknown = {
          getContainer: function () {
            return $("#errorUnknown")
          },
          show: function () {
            this.getContainer().fadeIn()
          },
          hide: function () {
            this.getContainer().fadeOut()
          }
        },
        e
    }(alertBoxModule || {}))
  , localizationModule = function (e, t) {
    return e.lang = t.global_lang,
      e.localizationData = t.localization_data,
      e.GetSuffix = function (t) {
        var i = t % 10;
        if (1 == Math.floor(t / 10))
          return e.localizationData.suffixes.other;
        switch (i) {
          case 1:
            return e.localizationData.suffixesForPlaces.first;
          case 2:
            return e.localizationData.suffixesForPlaces.second;
          case 3:
            return e.localizationData.suffixesForPlaces.third;
          default:
            return e.localizationData.suffixesForPlaces.other
        }
      }
      ,
      e.GetDeclension = function (t) {
        if ((t %= 100) >= 11 && t <= 19)
          return e.localizationData.wordsForPoints.plural;
        switch (t % 10) {
          case 1:
            return e.localizationData.wordsForPoints.nominativ;
          case 2:
          case 3:
          case 4:
            return e.localizationData.wordsForPoints.genetiv;
          default:
            return e.localizationData.wordsForPoints.plural
        }
      }
      ,
      e.GetAppealToTheCurrenUser = function (e) {
        return e
      }
      ,
      e.getOrdinalSuffix = function (t) {
        var i = [e.localizationData.suffixesForPlaces.other, e.localizationData.suffixesForPlaces.first, e.localizationData.suffixesForPlaces.second, e.localizationData.suffixesForPlaces.third]
          , o = t % 100;
        return "" + (i[(o - 20) % 10] || i[o] || i[0])
      }
      ,
      e
  }(localizationModule || {}, global_Localization);
/*!
 *  howler.js v2.1.3
 *  howlerjs.com
 *
 *  (c) 2013-2019, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
!function () {
  "use strict";
  var e = function () {
    this.init()
  };
  e.prototype = {
    init: function () {
      var e = this || t;
      return e._counter = 1e3,
        e._html5AudioPool = [],
        e.html5PoolSize = 10,
        e._codecs = {},
        e._howls = [],
        e._muted = !1,
        e._volume = 1,
        e._canPlayEvent = "canplaythrough",
        e._navigator = "undefined" != typeof window && window.navigator ? window.navigator : null,
        e.masterGain = null,
        e.noAudio = !1,
        e.usingWebAudio = !0,
        e.autoSuspend = !0,
        e.ctx = null,
        e.autoUnlock = !0,
        e._setup(),
        e
    },
    volume: function (e) {
      var i = this || t;
      if (e = parseFloat(e),
        i.ctx || d(),
        void 0 !== e && e >= 0 && e <= 1) {
        if (i._volume = e,
          i._muted)
          return i;
        i.usingWebAudio && i.masterGain.gain.setValueAtTime(e, t.ctx.currentTime);
        for (var o = 0; o < i._howls.length; o++)
          if (!i._howls[o]._webAudio)
            for (var n = i._howls[o]._getSoundIds(), a = 0; a < n.length; a++) {
              var s = i._howls[o]._soundById(n[a]);
              s && s._node && (s._node.volume = s._volume * e)
            }
        return i
      }
      return i._volume
    },
    mute: function (e) {
      var i = this || t;
      i.ctx || d(),
        i._muted = e,
        i.usingWebAudio && i.masterGain.gain.setValueAtTime(e ? 0 : i._volume, t.ctx.currentTime);
      for (var o = 0; o < i._howls.length; o++)
        if (!i._howls[o]._webAudio)
          for (var n = i._howls[o]._getSoundIds(), a = 0; a < n.length; a++) {
            var s = i._howls[o]._soundById(n[a]);
            s && s._node && (s._node.muted = !!e || s._muted)
          }
      return i
    },
    unload: function () {
      for (var e = this || t, i = e._howls.length - 1; i >= 0; i--)
        e._howls[i].unload();
      return e.usingWebAudio && e.ctx && void 0 !== e.ctx.close && (e.ctx.close(),
        e.ctx = null,
        d()),
        e
    },
    codecs: function (e) {
      return (this || t)._codecs[e.replace(/^x-/, "")]
    },
    _setup: function () {
      var e = this || t;
      if (e.state = e.ctx && e.ctx.state || "suspended",
        e._autoSuspend(),
        !e.usingWebAudio)
        if ("undefined" != typeof Audio)
          try {
            void 0 === (new Audio).oncanplaythrough && (e._canPlayEvent = "canplay")
          } catch (t) {
            e.noAudio = !0
          }
        else
          e.noAudio = !0;
      try {
        (new Audio).muted && (e.noAudio = !0)
      } catch (e) { }
      return e.noAudio || e._setupCodecs(),
        e
    },
    _setupCodecs: function () {
      var e = this || t
        , i = null;
      try {
        i = "undefined" != typeof Audio ? new Audio : null
      } catch (t) {
        return e
      }
      if (!i || "function" != typeof i.canPlayType)
        return e;
      var o = i.canPlayType("audio/mpeg;").replace(/^no$/, "")
        , n = e._navigator && e._navigator.userAgent.match(/OPR\/([0-6].)/g)
        , a = n && parseInt(n[0].split("/")[1], 10) < 33;
      return e._codecs = {
        mp3: !(a || !o && !i.canPlayType("audio/mp3;").replace(/^no$/, "")),
        mpeg: !!o,
        opus: !!i.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/, ""),
        ogg: !!i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
        oga: !!i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
        wav: !!i.canPlayType('audio/wav; codecs="1"').replace(/^no$/, ""),
        aac: !!i.canPlayType("audio/aac;").replace(/^no$/, ""),
        caf: !!i.canPlayType("audio/x-caf;").replace(/^no$/, ""),
        m4a: !!(i.canPlayType("audio/x-m4a;") || i.canPlayType("audio/m4a;") || i.canPlayType("audio/aac;")).replace(/^no$/, ""),
        mp4: !!(i.canPlayType("audio/x-mp4;") || i.canPlayType("audio/mp4;") || i.canPlayType("audio/aac;")).replace(/^no$/, ""),
        weba: !!i.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, ""),
        webm: !!i.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, ""),
        dolby: !!i.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/, ""),
        flac: !!(i.canPlayType("audio/x-flac;") || i.canPlayType("audio/flac;")).replace(/^no$/, "")
      },
        e
    },
    _unlockAudio: function () {
      var e = this || t;
      if (!e._audioUnlocked && e.ctx) {
        e._audioUnlocked = !1,
          e.autoUnlock = !1,
          e._mobileUnloaded || 44100 === e.ctx.sampleRate || (e._mobileUnloaded = !0,
            e.unload()),
          e._scratchBuffer = e.ctx.createBuffer(1, 1, 22050);
        var i = function (t) {
          for (var o = 0; o < e.html5PoolSize; o++)
            try {
              var n = new Audio;
              n._unlocked = !0,
                e._releaseHtml5Audio(n)
            } catch (t) {
              e.noAudio = !0
            }
          for (o = 0; o < e._howls.length; o++)
            if (!e._howls[o]._webAudio)
              for (var a = e._howls[o]._getSoundIds(), s = 0; s < a.length; s++) {
                var r = e._howls[o]._soundById(a[s]);
                r && r._node && !r._node._unlocked && (r._node._unlocked = !0,
                  r._node.load())
              }
          e._autoResume();
          var l = e.ctx.createBufferSource();
          l.buffer = e._scratchBuffer,
            l.connect(e.ctx.destination),
            void 0 === l.start ? l.noteOn(0) : l.start(0),
            "function" == typeof e.ctx.resume && e.ctx.resume(),
            l.onended = function () {
              l.disconnect(0),
                e._audioUnlocked = !0,
                document.removeEventListener("touchstart", i, !0),
                document.removeEventListener("touchend", i, !0),
                document.removeEventListener("click", i, !0);
              for (var t = 0; t < e._howls.length; t++)
                e._howls[t]._emit("unlock")
            }
        };
        return document.addEventListener("touchstart", i, !0),
          document.addEventListener("touchend", i, !0),
          document.addEventListener("click", i, !0),
          e
      }
    },
    _obtainHtml5Audio: function () {
      var e = this || t;
      if (e._html5AudioPool.length)
        return e._html5AudioPool.pop();
      var i = (new Audio).play();
      return i && "undefined" != typeof Promise && (i instanceof Promise || "function" == typeof i.then) && i.catch((function () {
        console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")
      }
      )),
        new Audio
    },
    _releaseHtml5Audio: function (e) {
      var i = this || t;
      return e._unlocked && i._html5AudioPool.push(e),
        i
    },
    _autoSuspend: function () {
      var e = this;
      if (e.autoSuspend && e.ctx && void 0 !== e.ctx.suspend && t.usingWebAudio) {
        for (var i = 0; i < e._howls.length; i++)
          if (e._howls[i]._webAudio)
            for (var o = 0; o < e._howls[i]._sounds.length; o++)
              if (!e._howls[i]._sounds[o]._paused)
                return e;
        return e._suspendTimer && clearTimeout(e._suspendTimer),
          e._suspendTimer = setTimeout((function () {
            e.autoSuspend && (e._suspendTimer = null,
              e.state = "suspending",
              e.ctx.suspend().then((function () {
                e.state = "suspended",
                  e._resumeAfterSuspend && (delete e._resumeAfterSuspend,
                    e._autoResume())
              }
              )))
          }
          ), 3e4),
          e
      }
    },
    _autoResume: function () {
      var e = this;
      if (e.ctx && void 0 !== e.ctx.resume && t.usingWebAudio)
        return "running" === e.state && e._suspendTimer ? (clearTimeout(e._suspendTimer),
          e._suspendTimer = null) : "suspended" === e.state ? (e.ctx.resume().then((function () {
            e.state = "running";
            for (var t = 0; t < e._howls.length; t++)
              e._howls[t]._emit("resume")
          }
          )),
            e._suspendTimer && (clearTimeout(e._suspendTimer),
              e._suspendTimer = null)) : "suspending" === e.state && (e._resumeAfterSuspend = !0),
          e
    }
  };
  var t = new e
    , i = function (e) {
      e.src && 0 !== e.src.length ? this.init(e) : console.error("An array of source files must be passed with any new Howl.")
    };
  i.prototype = {
    init: function (e) {
      var i = this;
      return t.ctx || d(),
        i._autoplay = e.autoplay || !1,
        i._format = "string" != typeof e.format ? e.format : [e.format],
        i._html5 = e.html5 || !1,
        i._muted = e.mute || !1,
        i._loop = e.loop || !1,
        i._pool = e.pool || 5,
        i._preload = "boolean" != typeof e.preload || e.preload,
        i._rate = e.rate || 1,
        i._sprite = e.sprite || {},
        i._src = "string" != typeof e.src ? e.src : [e.src],
        i._volume = void 0 !== e.volume ? e.volume : 1,
        i._xhrWithCredentials = e.xhrWithCredentials || !1,
        i._duration = 0,
        i._state = "unloaded",
        i._sounds = [],
        i._endTimers = {},
        i._queue = [],
        i._playLock = !1,
        i._onend = e.onend ? [{
          fn: e.onend
        }] : [],
        i._onfade = e.onfade ? [{
          fn: e.onfade
        }] : [],
        i._onload = e.onload ? [{
          fn: e.onload
        }] : [],
        i._onloaderror = e.onloaderror ? [{
          fn: e.onloaderror
        }] : [],
        i._onplayerror = e.onplayerror ? [{
          fn: e.onplayerror
        }] : [],
        i._onpause = e.onpause ? [{
          fn: e.onpause
        }] : [],
        i._onplay = e.onplay ? [{
          fn: e.onplay
        }] : [],
        i._onstop = e.onstop ? [{
          fn: e.onstop
        }] : [],
        i._onmute = e.onmute ? [{
          fn: e.onmute
        }] : [],
        i._onvolume = e.onvolume ? [{
          fn: e.onvolume
        }] : [],
        i._onrate = e.onrate ? [{
          fn: e.onrate
        }] : [],
        i._onseek = e.onseek ? [{
          fn: e.onseek
        }] : [],
        i._onunlock = e.onunlock ? [{
          fn: e.onunlock
        }] : [],
        i._onresume = [],
        i._webAudio = t.usingWebAudio && !i._html5,
        void 0 !== t.ctx && t.ctx && t.autoUnlock && t._unlockAudio(),
        t._howls.push(i),
        i._autoplay && i._queue.push({
          event: "play",
          action: function () {
            i.play()
          }
        }),
        i._preload && i.load(),
        i
    },
    load: function () {
      var e = null;
      if (t.noAudio)
        this._emit("loaderror", null, "No audio support.");
      else {
        "string" == typeof this._src && (this._src = [this._src]);
        for (var i = 0; i < this._src.length; i++) {
          var n, s;
          if (this._format && this._format[i])
            n = this._format[i];
          else {
            if ("string" != typeof (s = this._src[i])) {
              this._emit("loaderror", null, "Non-string found in selected audio sources - ignoring.");
              continue
            }
            (n = /^data:audio\/([^;,]+);/i.exec(s)) || (n = /\.([^.]+)$/.exec(s.split("?", 1)[0])),
              n && (n = n[1].toLowerCase())
          }
          if (n || console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),
            n && t.codecs(n)) {
            e = this._src[i];
            break
          }
        }
        if (e)
          return this._src = e,
            this._state = "loading",
            "https:" === window.location.protocol && "http:" === e.slice(0, 5) && (this._html5 = !0,
              this._webAudio = !1),
            new o(this),
            this._webAudio && a(this),
            this;
        this._emit("loaderror", null, "No codec support for selected audio sources.")
      }
    },
    play: function (e, i) {
      var o = this
        , n = null;
      if ("number" == typeof e)
        n = e,
          e = null;
      else {
        if ("string" == typeof e && "loaded" === o._state && !o._sprite[e])
          return null;
        if (void 0 === e && (e = "__default",
          !o._playLock)) {
          for (var a = 0, s = 0; s < o._sounds.length; s++)
            o._sounds[s]._paused && !o._sounds[s]._ended && (a++,
              n = o._sounds[s]._id);
          1 === a ? e = null : n = null
        }
      }
      var r = n ? o._soundById(n) : o._inactiveSound();
      if (!r)
        return null;
      if (n && !e && (e = r._sprite || "__default"),
        "loaded" !== o._state) {
        r._sprite = e,
          r._ended = !1;
        var l = r._id;
        return o._queue.push({
          event: "play",
          action: function () {
            o.play(l)
          }
        }),
          l
      }
      if (n && !r._paused)
        return i || o._loadQueue("play"),
          r._id;
      o._webAudio && t._autoResume();
      var d = Math.max(0, r._seek > 0 ? r._seek : o._sprite[e][0] / 1e3)
        , c = Math.max(0, (o._sprite[e][0] + o._sprite[e][1]) / 1e3 - d)
        , u = 1e3 * c / Math.abs(r._rate)
        , h = o._sprite[e][0] / 1e3
        , m = (o._sprite[e][0] + o._sprite[e][1]) / 1e3;
      r._sprite = e,
        r._ended = !1;
      var p = function () {
        r._paused = !1,
          r._seek = d,
          r._start = h,
          r._stop = m,
          r._loop = !(!r._loop && !o._sprite[e][2])
      };
      if (!(d >= m)) {
        var f = r._node;
        if (o._webAudio) {
          var g = function () {
            o._playLock = !1,
              p(),
              o._refreshBuffer(r);
            var e = r._muted || o._muted ? 0 : r._volume;
            f.gain.setValueAtTime(e, t.ctx.currentTime),
              r._playStart = t.ctx.currentTime,
              void 0 === f.bufferSource.start ? r._loop ? f.bufferSource.noteGrainOn(0, d, 86400) : f.bufferSource.noteGrainOn(0, d, c) : r._loop ? f.bufferSource.start(0, d, 86400) : f.bufferSource.start(0, d, c),
              u !== 1 / 0 && (o._endTimers[r._id] = setTimeout(o._ended.bind(o, r), u)),
              i || setTimeout((function () {
                o._emit("play", r._id),
                  o._loadQueue()
              }
              ), 0)
          };
          "running" === t.state ? g() : (o._playLock = !0,
            o.once("resume", g),
            o._clearTimer(r._id))
        } else {
          var _ = function () {
            f.currentTime = d,
              f.muted = r._muted || o._muted || t._muted || f.muted,
              f.volume = r._volume * t.volume(),
              f.playbackRate = r._rate;
            try {
              var n = f.play();
              if (n && "undefined" != typeof Promise && (n instanceof Promise || "function" == typeof n.then) ? (o._playLock = !0,
                p(),
                n.then((function () {
                  o._playLock = !1,
                    f._unlocked = !0,
                    i || (o._emit("play", r._id),
                      o._loadQueue())
                }
                )).catch((function () {
                  o._playLock = !1,
                    o._emit("playerror", r._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),
                    r._ended = !0,
                    r._paused = !0
                }
                ))) : i || (o._playLock = !1,
                  p(),
                  o._emit("play", r._id),
                  o._loadQueue()),
                f.playbackRate = r._rate,
                f.paused)
                return void o._emit("playerror", r._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");
              "__default" !== e || r._loop ? o._endTimers[r._id] = setTimeout(o._ended.bind(o, r), u) : (o._endTimers[r._id] = function () {
                o._ended(r),
                  f.removeEventListener("ended", o._endTimers[r._id], !1)
              }
                ,
                f.addEventListener("ended", o._endTimers[r._id], !1))
            } catch (e) {
              o._emit("playerror", r._id, e)
            }
          };
          "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA" === f.src && (f.src = o._src,
            f.load());
          var v = window && window.ejecta || !f.readyState && t._navigator.isCocoonJS;
          if (f.readyState >= 3 || v)
            _();
          else {
            o._playLock = !0;
            var y = function () {
              _(),
                f.removeEventListener(t._canPlayEvent, y, !1)
            };
            f.addEventListener(t._canPlayEvent, y, !1),
              o._clearTimer(r._id)
          }
        }
        return r._id
      }
      o._ended(r)
    },
    pause: function (e) {
      var t = this;
      if ("loaded" !== t._state || t._playLock)
        return t._queue.push({
          event: "pause",
          action: function () {
            t.pause(e)
          }
        }),
          t;
      for (var i = t._getSoundIds(e), o = 0; o < i.length; o++) {
        t._clearTimer(i[o]);
        var n = t._soundById(i[o]);
        if (n && !n._paused && (n._seek = t.seek(i[o]),
          n._rateSeek = 0,
          n._paused = !0,
          t._stopFade(i[o]),
          n._node))
          if (t._webAudio) {
            if (!n._node.bufferSource)
              continue;
            void 0 === n._node.bufferSource.stop ? n._node.bufferSource.noteOff(0) : n._node.bufferSource.stop(0),
              t._cleanBuffer(n._node)
          } else
            isNaN(n._node.duration) && n._node.duration !== 1 / 0 || n._node.pause();
        arguments[1] || t._emit("pause", n ? n._id : null)
      }
      return t
    },
    stop: function (e, t) {
      var i = this;
      if ("loaded" !== i._state || i._playLock)
        return i._queue.push({
          event: "stop",
          action: function () {
            i.stop(e)
          }
        }),
          i;
      for (var o = i._getSoundIds(e), n = 0; n < o.length; n++) {
        i._clearTimer(o[n]);
        var a = i._soundById(o[n]);
        a && (a._seek = a._start || 0,
          a._rateSeek = 0,
          a._paused = !0,
          a._ended = !0,
          i._stopFade(o[n]),
          a._node && (i._webAudio ? a._node.bufferSource && (void 0 === a._node.bufferSource.stop ? a._node.bufferSource.noteOff(0) : a._node.bufferSource.stop(0),
            i._cleanBuffer(a._node)) : isNaN(a._node.duration) && a._node.duration !== 1 / 0 || (a._node.currentTime = a._start || 0,
              a._node.pause(),
              a._node.duration === 1 / 0 && i._clearSound(a._node))),
          t || i._emit("stop", a._id))
      }
      return i
    },
    mute: function (e, i) {
      var o = this;
      if ("loaded" !== o._state || o._playLock)
        return o._queue.push({
          event: "mute",
          action: function () {
            o.mute(e, i)
          }
        }),
          o;
      if (void 0 === i) {
        if ("boolean" != typeof e)
          return o._muted;
        o._muted = e
      }
      for (var n = o._getSoundIds(i), a = 0; a < n.length; a++) {
        var s = o._soundById(n[a]);
        s && (s._muted = e,
          s._interval && o._stopFade(s._id),
          o._webAudio && s._node ? s._node.gain.setValueAtTime(e ? 0 : s._volume, t.ctx.currentTime) : s._node && (s._node.muted = !!t._muted || e),
          o._emit("mute", s._id))
      }
      return o
    },
    volume: function () {
      var e, i, o, n = this, a = arguments;
      if (0 === a.length)
        return n._volume;
      if (1 === a.length || 2 === a.length && void 0 === a[1]) {
        var s = n._getSoundIds()
          , r = s.indexOf(a[0]);
        r >= 0 ? i = parseInt(a[0], 10) : e = parseFloat(a[0])
      } else
        a.length >= 2 && (e = parseFloat(a[0]),
          i = parseInt(a[1], 10));
      if (!(void 0 !== e && e >= 0 && e <= 1))
        return (o = i ? n._soundById(i) : n._sounds[0]) ? o._volume : 0;
      if ("loaded" !== n._state || n._playLock)
        return n._queue.push({
          event: "volume",
          action: function () {
            n.volume.apply(n, a)
          }
        }),
          n;
      void 0 === i && (n._volume = e),
        i = n._getSoundIds(i);
      for (var l = 0; l < i.length; l++)
        (o = n._soundById(i[l])) && (o._volume = e,
          a[2] || n._stopFade(i[l]),
          n._webAudio && o._node && !o._muted ? o._node.gain.setValueAtTime(e, t.ctx.currentTime) : o._node && !o._muted && (o._node.volume = e * t.volume()),
          n._emit("volume", o._id));
      return n
    },
    fade: function (e, i, o, n) {
      var a = this;
      if ("loaded" !== a._state || a._playLock)
        return a._queue.push({
          event: "fade",
          action: function () {
            a.fade(e, i, o, n)
          }
        }),
          a;
      e = parseFloat(e),
        i = parseFloat(i),
        o = parseFloat(o),
        a.volume(e, n);
      for (var s = a._getSoundIds(n), r = 0; r < s.length; r++) {
        var l = a._soundById(s[r]);
        if (l) {
          if (n || a._stopFade(s[r]),
            a._webAudio && !l._muted) {
            var d = t.ctx.currentTime
              , c = d + o / 1e3;
            l._volume = e,
              l._node.gain.setValueAtTime(e, d),
              l._node.gain.linearRampToValueAtTime(i, c)
          }
          a._startFadeInterval(l, e, i, o, s[r], void 0 === n)
        }
      }
      return a
    },
    _startFadeInterval: function (e, t, i, o, n, a) {
      var s = this
        , r = t
        , l = i - t
        , d = Math.abs(l / .01)
        , c = Math.max(4, d > 0 ? o / d : o)
        , u = Date.now();
      e._fadeTo = i,
        e._interval = setInterval((function () {
          var n = (Date.now() - u) / o;
          u = Date.now(),
            r += l * n,
            r = Math.max(0, r),
            r = Math.min(1, r),
            r = Math.round(100 * r) / 100,
            s._webAudio ? e._volume = r : s.volume(r, e._id, !0),
            a && (s._volume = r),
            (i < t && r <= i || i > t && r >= i) && (clearInterval(e._interval),
              e._interval = null,
              e._fadeTo = null,
              s.volume(i, e._id),
              s._emit("fade", e._id))
        }
        ), c)
    },
    _stopFade: function (e) {
      var i = this._soundById(e);
      return i && i._interval && (this._webAudio && i._node.gain.cancelScheduledValues(t.ctx.currentTime),
        clearInterval(i._interval),
        i._interval = null,
        this.volume(i._fadeTo, e),
        i._fadeTo = null,
        this._emit("fade", e)),
        this
    },
    loop: function () {
      var e, t, i, o = this, n = arguments;
      if (0 === n.length)
        return o._loop;
      if (1 === n.length) {
        if ("boolean" != typeof n[0])
          return !!(i = o._soundById(parseInt(n[0], 10))) && i._loop;
        e = n[0],
          o._loop = e
      } else
        2 === n.length && (e = n[0],
          t = parseInt(n[1], 10));
      for (var a = o._getSoundIds(t), s = 0; s < a.length; s++)
        (i = o._soundById(a[s])) && (i._loop = e,
          o._webAudio && i._node && i._node.bufferSource && (i._node.bufferSource.loop = e,
            e && (i._node.bufferSource.loopStart = i._start || 0,
              i._node.bufferSource.loopEnd = i._stop)));
      return o
    },
    rate: function () {
      var e, i, o, n = this, a = arguments;
      if (0 === a.length)
        i = n._sounds[0]._id;
      else if (1 === a.length) {
        var s = n._getSoundIds()
          , r = s.indexOf(a[0]);
        r >= 0 ? i = parseInt(a[0], 10) : e = parseFloat(a[0])
      } else
        2 === a.length && (e = parseFloat(a[0]),
          i = parseInt(a[1], 10));
      if ("number" != typeof e)
        return (o = n._soundById(i)) ? o._rate : n._rate;
      if ("loaded" !== n._state || n._playLock)
        return n._queue.push({
          event: "rate",
          action: function () {
            n.rate.apply(n, a)
          }
        }),
          n;
      void 0 === i && (n._rate = e),
        i = n._getSoundIds(i);
      for (var l = 0; l < i.length; l++)
        if (o = n._soundById(i[l])) {
          n.playing(i[l]) && (o._rateSeek = n.seek(i[l]),
            o._playStart = n._webAudio ? t.ctx.currentTime : o._playStart),
            o._rate = e,
            n._webAudio && o._node && o._node.bufferSource ? o._node.bufferSource.playbackRate.setValueAtTime(e, t.ctx.currentTime) : o._node && (o._node.playbackRate = e);
          var d = n.seek(i[l])
            , c = (n._sprite[o._sprite][0] + n._sprite[o._sprite][1]) / 1e3 - d
            , u = 1e3 * c / Math.abs(o._rate);
          !n._endTimers[i[l]] && o._paused || (n._clearTimer(i[l]),
            n._endTimers[i[l]] = setTimeout(n._ended.bind(n, o), u)),
            n._emit("rate", o._id)
        }
      return n
    },
    seek: function () {
      var e, i, o = this, n = arguments;
      if (0 === n.length)
        i = o._sounds[0]._id;
      else if (1 === n.length) {
        var a = o._getSoundIds()
          , s = a.indexOf(n[0]);
        s >= 0 ? i = parseInt(n[0], 10) : o._sounds.length && (i = o._sounds[0]._id,
          e = parseFloat(n[0]))
      } else
        2 === n.length && (e = parseFloat(n[0]),
          i = parseInt(n[1], 10));
      if (void 0 === i)
        return o;
      if ("loaded" !== o._state || o._playLock)
        return o._queue.push({
          event: "seek",
          action: function () {
            o.seek.apply(o, n)
          }
        }),
          o;
      var r = o._soundById(i);
      if (r) {
        if (!("number" == typeof e && e >= 0)) {
          if (o._webAudio) {
            var l = o.playing(i) ? t.ctx.currentTime - r._playStart : 0
              , d = r._rateSeek ? r._rateSeek - r._seek : 0;
            return r._seek + (d + l * Math.abs(r._rate))
          }
          return r._node.currentTime
        }
        var c = o.playing(i);
        c && o.pause(i, !0),
          r._seek = e,
          r._ended = !1,
          o._clearTimer(i),
          o._webAudio || !r._node || isNaN(r._node.duration) || (r._node.currentTime = e);
        var u = function () {
          o._emit("seek", i),
            c && o.play(i, !0)
        };
        if (c && !o._webAudio) {
          var h = function () {
            o._playLock ? setTimeout(h, 0) : u()
          };
          setTimeout(h, 0)
        } else
          u()
      }
      return o
    },
    playing: function (e) {
      if ("number" == typeof e) {
        var t = this._soundById(e);
        return !!t && !t._paused
      }
      for (var i = 0; i < this._sounds.length; i++)
        if (!this._sounds[i]._paused)
          return !0;
      return !1
    },
    duration: function (e) {
      var t = this._duration
        , i = this._soundById(e);
      return i && (t = this._sprite[i._sprite][1] / 1e3),
        t
    },
    state: function () {
      return this._state
    },
    unload: function () {
      for (var e = this, i = e._sounds, o = 0; o < i.length; o++)
        i[o]._paused || e.stop(i[o]._id),
          e._webAudio || (e._clearSound(i[o]._node),
            i[o]._node.removeEventListener("error", i[o]._errorFn, !1),
            i[o]._node.removeEventListener(t._canPlayEvent, i[o]._loadFn, !1),
            t._releaseHtml5Audio(i[o]._node)),
          delete i[o]._node,
          e._clearTimer(i[o]._id);
      var a = t._howls.indexOf(e);
      a >= 0 && t._howls.splice(a, 1);
      var s = !0;
      for (o = 0; o < t._howls.length; o++)
        if (t._howls[o]._src === e._src || e._src.indexOf(t._howls[o]._src) >= 0) {
          s = !1;
          break
        }
      return n && s && delete n[e._src],
        t.noAudio = !1,
        e._state = "unloaded",
        e._sounds = [],
        e = null,
        null
    },
    on: function (e, t, i, o) {
      var n = this["_on" + e];
      return "function" == typeof t && n.push(o ? {
        id: i,
        fn: t,
        once: o
      } : {
        id: i,
        fn: t
      }),
        this
    },
    off: function (e, t, i) {
      var o = this["_on" + e]
        , n = 0;
      if ("number" == typeof t && (i = t,
        t = null),
        t || i)
        for (n = 0; n < o.length; n++) {
          var a = i === o[n].id;
          if (t === o[n].fn && a || !t && a) {
            o.splice(n, 1);
            break
          }
        }
      else if (e)
        this["_on" + e] = [];
      else {
        var s = Object.keys(this);
        for (n = 0; n < s.length; n++)
          0 === s[n].indexOf("_on") && Array.isArray(this[s[n]]) && (this[s[n]] = [])
      }
      return this
    },
    once: function (e, t, i) {
      return this.on(e, t, i, 1),
        this
    },
    _emit: function (e, t, i) {
      for (var o = this["_on" + e], n = o.length - 1; n >= 0; n--)
        o[n].id && o[n].id !== t && "load" !== e || (setTimeout(function (e) {
          e.call(this, t, i)
        }
          .bind(this, o[n].fn), 0),
          o[n].once && this.off(e, o[n].fn, o[n].id));
      return this._loadQueue(e),
        this
    },
    _loadQueue: function (e) {
      if (this._queue.length > 0) {
        var t = this._queue[0];
        t.event === e && (this._queue.shift(),
          this._loadQueue()),
          e || t.action()
      }
      return this
    },
    _ended: function (e) {
      var i = e._sprite;
      if (!this._webAudio && e._node && !e._node.paused && !e._node.ended && e._node.currentTime < e._stop)
        return setTimeout(this._ended.bind(this, e), 100),
          this;
      var o = !(!e._loop && !this._sprite[i][2]);
      if (this._emit("end", e._id),
        !this._webAudio && o && this.stop(e._id, !0).play(e._id),
        this._webAudio && o) {
        this._emit("play", e._id),
          e._seek = e._start || 0,
          e._rateSeek = 0,
          e._playStart = t.ctx.currentTime;
        var n = 1e3 * (e._stop - e._start) / Math.abs(e._rate);
        this._endTimers[e._id] = setTimeout(this._ended.bind(this, e), n)
      }
      return this._webAudio && !o && (e._paused = !0,
        e._ended = !0,
        e._seek = e._start || 0,
        e._rateSeek = 0,
        this._clearTimer(e._id),
        this._cleanBuffer(e._node),
        t._autoSuspend()),
        this._webAudio || o || this.stop(e._id, !0),
        this
    },
    _clearTimer: function (e) {
      if (this._endTimers[e]) {
        if ("function" != typeof this._endTimers[e])
          clearTimeout(this._endTimers[e]);
        else {
          var t = this._soundById(e);
          t && t._node && t._node.removeEventListener("ended", this._endTimers[e], !1)
        }
        delete this._endTimers[e]
      }
      return this
    },
    _soundById: function (e) {
      for (var t = 0; t < this._sounds.length; t++)
        if (e === this._sounds[t]._id)
          return this._sounds[t];
      return null
    },
    _inactiveSound: function () {
      this._drain();
      for (var e = 0; e < this._sounds.length; e++)
        if (this._sounds[e]._ended)
          return this._sounds[e].reset();
      return new o(this)
    },
    _drain: function () {
      var e = this._pool
        , t = 0
        , i = 0;
      if (!(this._sounds.length < e)) {
        for (i = 0; i < this._sounds.length; i++)
          this._sounds[i]._ended && t++;
        for (i = this._sounds.length - 1; i >= 0; i--) {
          if (t <= e)
            return;
          this._sounds[i]._ended && (this._webAudio && this._sounds[i]._node && this._sounds[i]._node.disconnect(0),
            this._sounds.splice(i, 1),
            t--)
        }
      }
    },
    _getSoundIds: function (e) {
      if (void 0 === e) {
        for (var t = [], i = 0; i < this._sounds.length; i++)
          t.push(this._sounds[i]._id);
        return t
      }
      return [e]
    },
    _refreshBuffer: function (e) {
      return e._node.bufferSource = t.ctx.createBufferSource(),
        e._node.bufferSource.buffer = n[this._src],
        e._panner ? e._node.bufferSource.connect(e._panner) : e._node.bufferSource.connect(e._node),
        e._node.bufferSource.loop = e._loop,
        e._loop && (e._node.bufferSource.loopStart = e._start || 0,
          e._node.bufferSource.loopEnd = e._stop || 0),
        e._node.bufferSource.playbackRate.setValueAtTime(e._rate, t.ctx.currentTime),
        this
    },
    _cleanBuffer: function (e) {
      var i = t._navigator && t._navigator.vendor.indexOf("Apple") >= 0;
      if (t._scratchBuffer && e.bufferSource && (e.bufferSource.onended = null,
        e.bufferSource.disconnect(0),
        i))
        try {
          e.bufferSource.buffer = t._scratchBuffer
        } catch (e) { }
      return e.bufferSource = null,
        this
    },
    _clearSound: function (e) {
      /MSIE |Trident\//.test(t._navigator && t._navigator.userAgent) || (e.src = "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")
    }
  };
  var o = function (e) {
    this._parent = e,
      this.init()
  };
  o.prototype = {
    init: function () {
      var e = this._parent;
      return this._muted = e._muted,
        this._loop = e._loop,
        this._volume = e._volume,
        this._rate = e._rate,
        this._seek = 0,
        this._paused = !0,
        this._ended = !0,
        this._sprite = "__default",
        this._id = ++t._counter,
        e._sounds.push(this),
        this.create(),
        this
    },
    create: function () {
      var e = this._parent
        , i = t._muted || this._muted || this._parent._muted ? 0 : this._volume;
      return e._webAudio ? (this._node = void 0 === t.ctx.createGain ? t.ctx.createGainNode() : t.ctx.createGain(),
        this._node.gain.setValueAtTime(i, t.ctx.currentTime),
        this._node.paused = !0,
        this._node.connect(t.masterGain)) : t.noAudio || (this._node = t._obtainHtml5Audio(),
          this._errorFn = this._errorListener.bind(this),
          this._node.addEventListener("error", this._errorFn, !1),
          this._loadFn = this._loadListener.bind(this),
          this._node.addEventListener(t._canPlayEvent, this._loadFn, !1),
          this._node.src = e._src,
          this._node.preload = "auto",
          this._node.volume = i * t.volume(),
          this._node.load()),
        this
    },
    reset: function () {
      var e = this._parent;
      return this._muted = e._muted,
        this._loop = e._loop,
        this._volume = e._volume,
        this._rate = e._rate,
        this._seek = 0,
        this._rateSeek = 0,
        this._paused = !0,
        this._ended = !0,
        this._sprite = "__default",
        this._id = ++t._counter,
        this
    },
    _errorListener: function () {
      this._parent._emit("loaderror", this._id, this._node.error ? this._node.error.code : 0),
        this._node.removeEventListener("error", this._errorFn, !1)
    },
    _loadListener: function () {
      var e = this._parent;
      e._duration = Math.ceil(10 * this._node.duration) / 10,
        0 === Object.keys(e._sprite).length && (e._sprite = {
          __default: [0, 1e3 * e._duration]
        }),
        "loaded" !== e._state && (e._state = "loaded",
          e._emit("load"),
          e._loadQueue()),
        this._node.removeEventListener(t._canPlayEvent, this._loadFn, !1)
    }
  };
  var n = {}
    , a = function (e) {
      var t = e._src;
      if (n[t])
        return e._duration = n[t].duration,
          void l(e);
      if (/^data:[^;]+;base64,/.test(t)) {
        for (var i = atob(t.split(",")[1]), o = new Uint8Array(i.length), a = 0; a < i.length; ++a)
          o[a] = i.charCodeAt(a);
        r(o.buffer, e)
      } else {
        var d = new XMLHttpRequest;
        d.open("GET", t, !0),
          d.withCredentials = e._xhrWithCredentials,
          d.responseType = "arraybuffer",
          d.onload = function () {
            var t = (d.status + "")[0];
            "0" === t || "2" === t || "3" === t ? r(d.response, e) : e._emit("loaderror", null, "Failed loading audio file with status: " + d.status + ".")
          }
          ,
          d.onerror = function () {
            e._webAudio && (e._html5 = !0,
              e._webAudio = !1,
              e._sounds = [],
              delete n[t],
              e.load())
          }
          ,
          s(d)
      }
    }
    , s = function (e) {
      try {
        e.send()
      } catch (t) {
        e.onerror()
      }
    }
    , r = function (e, i) {
      var o = function () {
        i._emit("loaderror", null, "Decoding audio data failed.")
      }
        , a = function (e) {
          e && i._sounds.length > 0 ? (n[i._src] = e,
            l(i, e)) : o()
        };
      "undefined" != typeof Promise && 1 === t.ctx.decodeAudioData.length ? t.ctx.decodeAudioData(e).then(a).catch(o) : t.ctx.decodeAudioData(e, a, o)
    }
    , l = function (e, t) {
      t && !e._duration && (e._duration = t.duration),
        0 === Object.keys(e._sprite).length && (e._sprite = {
          __default: [0, 1e3 * e._duration]
        }),
        "loaded" !== e._state && (e._state = "loaded",
          e._emit("load"),
          e._loadQueue())
    }
    , d = function () {
      if (t.usingWebAudio) {
        try {
          "undefined" != typeof AudioContext ? t.ctx = new AudioContext : "undefined" != typeof webkitAudioContext ? t.ctx = new webkitAudioContext : t.usingWebAudio = !1
        } catch (e) {
          t.usingWebAudio = !1
        }
        t.ctx || (t.usingWebAudio = !1);
        var e = /iP(hone|od|ad)/.test(t._navigator && t._navigator.platform)
          , i = t._navigator && t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/)
          , o = i ? parseInt(i[1], 10) : null;
        if (e && o && o < 9) {
          var n = /safari/.test(t._navigator && t._navigator.userAgent.toLowerCase());
          (t._navigator && t._navigator.standalone && !n || t._navigator && !t._navigator.standalone && !n) && (t.usingWebAudio = !1)
        }
        t.usingWebAudio && (t.masterGain = void 0 === t.ctx.createGain ? t.ctx.createGainNode() : t.ctx.createGain(),
          t.masterGain.gain.setValueAtTime(t._muted ? 0 : t._volume, t.ctx.currentTime),
          t.masterGain.connect(t.ctx.destination)),
          t._setup()
      }
    };
  "function" == typeof define && define.amd && define([], (function () {
    return {
      Howler: t,
      Howl: i
    }
  }
  )),
    "undefined" != typeof exports && (exports.Howler = t,
      exports.Howl = i),
    "undefined" != typeof window ? (window.HowlerGlobal = e,
      window.Howler = t,
      window.Howl = i,
      window.Sound = o) : "undefined" != typeof global && (global.HowlerGlobal = e,
        global.Howler = t,
        global.Howl = i,
        global.Sound = o)
}(),
  /*!
   *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
   *  
   *  howler.js v2.1.3
   *  howlerjs.com
   *
   *  (c) 2013-2019, James Simpson of GoldFire Studios
   *  goldfirestudios.com
   *
   *  MIT License
   */
  function () {
    "use strict";
    var e;
    HowlerGlobal.prototype._pos = [0, 0, 0],
      HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0],
      HowlerGlobal.prototype.stereo = function (e) {
        if (!this.ctx || !this.ctx.listener)
          return this;
        for (var t = this._howls.length - 1; t >= 0; t--)
          this._howls[t].stereo(e);
        return this
      }
      ,
      HowlerGlobal.prototype.pos = function (e, t, i) {
        return this.ctx && this.ctx.listener ? (t = "number" != typeof t ? this._pos[1] : t,
          i = "number" != typeof i ? this._pos[2] : i,
          "number" != typeof e ? this._pos : (this._pos = [e, t, i],
            void 0 !== this.ctx.listener.positionX ? (this.ctx.listener.positionX.setTargetAtTime(this._pos[0], Howler.ctx.currentTime, .1),
              this.ctx.listener.positionY.setTargetAtTime(this._pos[1], Howler.ctx.currentTime, .1),
              this.ctx.listener.positionZ.setTargetAtTime(this._pos[2], Howler.ctx.currentTime, .1)) : this.ctx.listener.setPosition(this._pos[0], this._pos[1], this._pos[2]),
            this)) : this
      }
      ,
      HowlerGlobal.prototype.orientation = function (e, t, i, o, n, a) {
        if (!this.ctx || !this.ctx.listener)
          return this;
        var s = this._orientation;
        return t = "number" != typeof t ? s[1] : t,
          i = "number" != typeof i ? s[2] : i,
          o = "number" != typeof o ? s[3] : o,
          n = "number" != typeof n ? s[4] : n,
          a = "number" != typeof a ? s[5] : a,
          "number" != typeof e ? s : (this._orientation = [e, t, i, o, n, a],
            void 0 !== this.ctx.listener.forwardX ? (this.ctx.listener.forwardX.setTargetAtTime(e, Howler.ctx.currentTime, .1),
              this.ctx.listener.forwardY.setTargetAtTime(t, Howler.ctx.currentTime, .1),
              this.ctx.listener.forwardZ.setTargetAtTime(i, Howler.ctx.currentTime, .1),
              this.ctx.listener.upX.setTargetAtTime(o, Howler.ctx.currentTime, .1),
              this.ctx.listener.upY.setTargetAtTime(n, Howler.ctx.currentTime, .1),
              this.ctx.listener.upZ.setTargetAtTime(a, Howler.ctx.currentTime, .1)) : this.ctx.listener.setOrientation(e, t, i, o, n, a),
            this)
      }
      ,
      Howl.prototype.init = (e = Howl.prototype.init,
        function (t) {
          return this._orientation = t.orientation || [1, 0, 0],
            this._stereo = t.stereo || null,
            this._pos = t.pos || null,
            this._pannerAttr = {
              coneInnerAngle: void 0 !== t.coneInnerAngle ? t.coneInnerAngle : 360,
              coneOuterAngle: void 0 !== t.coneOuterAngle ? t.coneOuterAngle : 360,
              coneOuterGain: void 0 !== t.coneOuterGain ? t.coneOuterGain : 0,
              distanceModel: void 0 !== t.distanceModel ? t.distanceModel : "inverse",
              maxDistance: void 0 !== t.maxDistance ? t.maxDistance : 1e4,
              panningModel: void 0 !== t.panningModel ? t.panningModel : "HRTF",
              refDistance: void 0 !== t.refDistance ? t.refDistance : 1,
              rolloffFactor: void 0 !== t.rolloffFactor ? t.rolloffFactor : 1
            },
            this._onstereo = t.onstereo ? [{
              fn: t.onstereo
            }] : [],
            this._onpos = t.onpos ? [{
              fn: t.onpos
            }] : [],
            this._onorientation = t.onorientation ? [{
              fn: t.onorientation
            }] : [],
            e.call(this, t)
        }
      ),
      Howl.prototype.stereo = function (e, i) {
        var o = this;
        if (!o._webAudio)
          return o;
        if ("loaded" !== o._state)
          return o._queue.push({
            event: "stereo",
            action: function () {
              o.stereo(e, i)
            }
          }),
            o;
        var n = void 0 === Howler.ctx.createStereoPanner ? "spatial" : "stereo";
        if (void 0 === i) {
          if ("number" != typeof e)
            return o._stereo;
          o._stereo = e,
            o._pos = [e, 0, 0]
        }
        for (var a = o._getSoundIds(i), s = 0; s < a.length; s++) {
          var r = o._soundById(a[s]);
          if (r) {
            if ("number" != typeof e)
              return r._stereo;
            r._stereo = e,
              r._pos = [e, 0, 0],
              r._node && (r._pannerAttr.panningModel = "equalpower",
                r._panner && r._panner.pan || t(r, n),
                "spatial" === n ? void 0 !== r._panner.positionX ? (r._panner.positionX.setValueAtTime(e, Howler.ctx.currentTime),
                  r._panner.positionY.setValueAtTime(0, Howler.ctx.currentTime),
                  r._panner.positionZ.setValueAtTime(0, Howler.ctx.currentTime)) : r._panner.setPosition(e, 0, 0) : r._panner.pan.setValueAtTime(e, Howler.ctx.currentTime)),
              o._emit("stereo", r._id)
          }
        }
        return o
      }
      ,
      Howl.prototype.pos = function (e, i, o, n) {
        var a = this;
        if (!a._webAudio)
          return a;
        if ("loaded" !== a._state)
          return a._queue.push({
            event: "pos",
            action: function () {
              a.pos(e, i, o, n)
            }
          }),
            a;
        if (i = "number" != typeof i ? 0 : i,
          o = "number" != typeof o ? -.5 : o,
          void 0 === n) {
          if ("number" != typeof e)
            return a._pos;
          a._pos = [e, i, o]
        }
        for (var s = a._getSoundIds(n), r = 0; r < s.length; r++) {
          var l = a._soundById(s[r]);
          if (l) {
            if ("number" != typeof e)
              return l._pos;
            l._pos = [e, i, o],
              l._node && (l._panner && !l._panner.pan || t(l, "spatial"),
                void 0 !== l._panner.positionX ? (l._panner.positionX.setValueAtTime(e, Howler.ctx.currentTime),
                  l._panner.positionY.setValueAtTime(i, Howler.ctx.currentTime),
                  l._panner.positionZ.setValueAtTime(o, Howler.ctx.currentTime)) : l._panner.setPosition(e, i, o)),
              a._emit("pos", l._id)
          }
        }
        return a
      }
      ,
      Howl.prototype.orientation = function (e, i, o, n) {
        var a = this;
        if (!a._webAudio)
          return a;
        if ("loaded" !== a._state)
          return a._queue.push({
            event: "orientation",
            action: function () {
              a.orientation(e, i, o, n)
            }
          }),
            a;
        if (i = "number" != typeof i ? a._orientation[1] : i,
          o = "number" != typeof o ? a._orientation[2] : o,
          void 0 === n) {
          if ("number" != typeof e)
            return a._orientation;
          a._orientation = [e, i, o]
        }
        for (var s = a._getSoundIds(n), r = 0; r < s.length; r++) {
          var l = a._soundById(s[r]);
          if (l) {
            if ("number" != typeof e)
              return l._orientation;
            l._orientation = [e, i, o],
              l._node && (l._panner || (l._pos || (l._pos = a._pos || [0, 0, -.5]),
                t(l, "spatial")),
                void 0 !== l._panner.orientationX ? (l._panner.orientationX.setValueAtTime(e, Howler.ctx.currentTime),
                  l._panner.orientationY.setValueAtTime(i, Howler.ctx.currentTime),
                  l._panner.orientationZ.setValueAtTime(o, Howler.ctx.currentTime)) : l._panner.setOrientation(e, i, o)),
              a._emit("orientation", l._id)
          }
        }
        return a
      }
      ,
      Howl.prototype.pannerAttr = function () {
        var e, i, o, n = this, a = arguments;
        if (!n._webAudio)
          return n;
        if (0 === a.length)
          return n._pannerAttr;
        if (1 === a.length) {
          if ("object" != typeof a[0])
            return (o = n._soundById(parseInt(a[0], 10))) ? o._pannerAttr : n._pannerAttr;
          e = a[0],
            void 0 === i && (e.pannerAttr || (e.pannerAttr = {
              coneInnerAngle: e.coneInnerAngle,
              coneOuterAngle: e.coneOuterAngle,
              coneOuterGain: e.coneOuterGain,
              distanceModel: e.distanceModel,
              maxDistance: e.maxDistance,
              refDistance: e.refDistance,
              rolloffFactor: e.rolloffFactor,
              panningModel: e.panningModel
            }),
              n._pannerAttr = {
                coneInnerAngle: void 0 !== e.pannerAttr.coneInnerAngle ? e.pannerAttr.coneInnerAngle : n._coneInnerAngle,
                coneOuterAngle: void 0 !== e.pannerAttr.coneOuterAngle ? e.pannerAttr.coneOuterAngle : n._coneOuterAngle,
                coneOuterGain: void 0 !== e.pannerAttr.coneOuterGain ? e.pannerAttr.coneOuterGain : n._coneOuterGain,
                distanceModel: void 0 !== e.pannerAttr.distanceModel ? e.pannerAttr.distanceModel : n._distanceModel,
                maxDistance: void 0 !== e.pannerAttr.maxDistance ? e.pannerAttr.maxDistance : n._maxDistance,
                refDistance: void 0 !== e.pannerAttr.refDistance ? e.pannerAttr.refDistance : n._refDistance,
                rolloffFactor: void 0 !== e.pannerAttr.rolloffFactor ? e.pannerAttr.rolloffFactor : n._rolloffFactor,
                panningModel: void 0 !== e.pannerAttr.panningModel ? e.pannerAttr.panningModel : n._panningModel
              })
        } else
          2 === a.length && (e = a[0],
            i = parseInt(a[1], 10));
        for (var s = n._getSoundIds(i), r = 0; r < s.length; r++)
          if (o = n._soundById(s[r])) {
            var l = o._pannerAttr;
            l = {
              coneInnerAngle: void 0 !== e.coneInnerAngle ? e.coneInnerAngle : l.coneInnerAngle,
              coneOuterAngle: void 0 !== e.coneOuterAngle ? e.coneOuterAngle : l.coneOuterAngle,
              coneOuterGain: void 0 !== e.coneOuterGain ? e.coneOuterGain : l.coneOuterGain,
              distanceModel: void 0 !== e.distanceModel ? e.distanceModel : l.distanceModel,
              maxDistance: void 0 !== e.maxDistance ? e.maxDistance : l.maxDistance,
              refDistance: void 0 !== e.refDistance ? e.refDistance : l.refDistance,
              rolloffFactor: void 0 !== e.rolloffFactor ? e.rolloffFactor : l.rolloffFactor,
              panningModel: void 0 !== e.panningModel ? e.panningModel : l.panningModel
            };
            var d = o._panner;
            d ? (d.coneInnerAngle = l.coneInnerAngle,
              d.coneOuterAngle = l.coneOuterAngle,
              d.coneOuterGain = l.coneOuterGain,
              d.distanceModel = l.distanceModel,
              d.maxDistance = l.maxDistance,
              d.refDistance = l.refDistance,
              d.rolloffFactor = l.rolloffFactor,
              d.panningModel = l.panningModel) : (o._pos || (o._pos = n._pos || [0, 0, -.5]),
                t(o, "spatial"))
          }
        return n
      }
      ,
      Sound.prototype.init = function (e) {
        return function () {
          var t = this._parent;
          this._orientation = t._orientation,
            this._stereo = t._stereo,
            this._pos = t._pos,
            this._pannerAttr = t._pannerAttr,
            e.call(this),
            this._stereo ? t.stereo(this._stereo) : this._pos && t.pos(this._pos[0], this._pos[1], this._pos[2], this._id)
        }
      }(Sound.prototype.init),
      Sound.prototype.reset = function (e) {
        return function () {
          var t = this._parent;
          return this._orientation = t._orientation,
            this._stereo = t._stereo,
            this._pos = t._pos,
            this._pannerAttr = t._pannerAttr,
            this._stereo ? t.stereo(this._stereo) : this._pos ? t.pos(this._pos[0], this._pos[1], this._pos[2], this._id) : this._panner && (this._panner.disconnect(0),
              this._panner = void 0,
              t._refreshBuffer(this)),
            e.call(this)
        }
      }(Sound.prototype.reset);
    var t = function (e, t) {
      "spatial" === (t = t || "spatial") ? (e._panner = Howler.ctx.createPanner(),
        e._panner.coneInnerAngle = e._pannerAttr.coneInnerAngle,
        e._panner.coneOuterAngle = e._pannerAttr.coneOuterAngle,
        e._panner.coneOuterGain = e._pannerAttr.coneOuterGain,
        e._panner.distanceModel = e._pannerAttr.distanceModel,
        e._panner.maxDistance = e._pannerAttr.maxDistance,
        e._panner.refDistance = e._pannerAttr.refDistance,
        e._panner.rolloffFactor = e._pannerAttr.rolloffFactor,
        e._panner.panningModel = e._pannerAttr.panningModel,
        void 0 !== e._panner.positionX ? (e._panner.positionX.setValueAtTime(e._pos[0], Howler.ctx.currentTime),
          e._panner.positionY.setValueAtTime(e._pos[1], Howler.ctx.currentTime),
          e._panner.positionZ.setValueAtTime(e._pos[2], Howler.ctx.currentTime)) : e._panner.setPosition(e._pos[0], e._pos[1], e._pos[2]),
        void 0 !== e._panner.orientationX ? (e._panner.orientationX.setValueAtTime(e._orientation[0], Howler.ctx.currentTime),
          e._panner.orientationY.setValueAtTime(e._orientation[1], Howler.ctx.currentTime),
          e._panner.orientationZ.setValueAtTime(e._orientation[2], Howler.ctx.currentTime)) : e._panner.setOrientation(e._orientation[0], e._orientation[1], e._orientation[2])) : (e._panner = Howler.ctx.createStereoPanner(),
            e._panner.pan.setValueAtTime(e._stereo, Howler.ctx.currentTime)),
        e._panner.connect(e._node),
        e._paused || e._parent.pause(e._id, !0).play(e._id, !0)
    }
  }();
var audioModule = function (e) {
  var t, i, o, n, a, s = 50;
  function r(e) {
    t = e,
      a && a.mute(t),
      n && n.mute(t)
  }
  function l(e) {
    $("#soundVolumeSlider").on("input", (function (i) {
      var o = i.target.value / 100;
      s = i.target.value,
        t = 0 === o,
        e.volume(o),
        d(s),
        o <= 0 ? (u(),
          e.volume(0)) : c()
    }
    ))
  }
  function d(e) {
    $("#soundVolumeSlider").val(e),
      $("#soundVolumeSliderPercent").text(e + "%")
  }
  function c() {
    $(".icon-soundoff").hide(),
      $(".icon-soundon").show()
  }
  function u() {
    $(".icon-soundon").hide(),
      $(".icon-soundoff").show()
  }
  function h() {
    t ? u() : c(),
      $(window).width() <= 766 ? $(".soundIcon").appendTo("#topMenu") : $("#coupon-modal-icon").after($(".soundIcon"))
  }
  function m(e, t, i) {
    var o = new Howl({
      src: [e],
      html5: !0,
      autoplay: i,
      loop: t,
      volume: s / 100
    });
    return l(o),
      o
  }
  function p(e) {
    e && (e.stop(),
      e.unload())
  }
  function f() {
    return imageBlockModule.isVideoDisplayed()
  }
  return e.init = function (c, u) {
    c && (o = c + "/audio",
      $(document).ready((function () {
        t = !u,
          i = u,
          e.preInit(),
          h(),
          d(s),
          $(".soundIcon").css("display", "flex"),
          $(".soundIcon").click((function (o) {
            if ($(o.target).is(".soundVolumeSlider") || $(o.target).is("#soundVolumeSlider"))
              return l(a),
                l(n),
                void o.stopPropagation();
            r(!t),
              h(),
              t || i || (i = !0,
                e.play()),
              d(s)
          }
          )),
          $(window).on("load resize", (function () {
            $(window).width() <= 766 ? $(".soundIcon").appendTo("#topMenu") : $("#coupon-modal-icon").after($(".soundIcon"))
          }
          ));
        var o = (new Audio).play();
        o && "undefined" != typeof Promise && (o instanceof Promise || "function" == typeof o.then) && o.catch((function () {
          t = !0,
            i = !1,
            h()
        }
        ))
      }
      )))
  }
    ,
    e.mute = function () {
      r(!0)
    }
    ,
    e.unMute = function () {
      r(!1)
    }
    ,
    e.pause = function () {
      a && a.pause(),
        n && n.pause()
    }
    ,
    e.play = function () {
      a && function (e, t) {
        if (!e)
          return;
        e.play(),
          t && f() && (r(!0),
            h())
      }(a, !0)
    }
    ,
    e.stop = function () {
      p(a),
        p(n)
    }
    ,
    e.playStage = function (e) {
      if (o) {
        var t, s = $(".soundIcon");
        p(a),
          p(n),
          n = m(o + "/sound/" + e + ".mp3", !1, i),
          a = m(o + "/music/" + e + ".mp3", !0, i),
          f() || (t = "True" === $("#IsStreamInMediaBlockEnabled").val(),
            (imageBlockModule.isVideoStreamDisplayed() || t) && !gameCoreModule.isOwner) ? (s.hide(),
              a.pause()) : s.css("display", "flex")
      }
    }
    ,
    e
}(audioModule || {})
  , widgetModule = function (e) {
    function t() {
      var e = $(".bodyLayout:visible").get(0);
      if (e) {
        var t = e.getBoundingClientRect();
        return t.y + t.height + 20
      }
      return 590
    }
    function i() {
      e.frameId && e.autoSize && (e.changeHeightCount > 7 || (e.changeHeightCount++,
        o("changeHeight", {
          height: t()
        })))
    }
    function o(t, i) {
      e.frameId && parent && parent.postMessage({
        event: t,
        frameId: e.frameId,
        eventData: i
      }, "*")
    }
    return e.frameId = "",
      e.changeHeightCount = 0,
      e.onStage = function (t, n) {
        o("gameStage." + t, {
          position: n
        }),
          e.changeHeightCount = 0,
          i()
      }
      ,
      e.sendAnswerAcceptedMessage = function (t) {
        e.autoSize && (o("game.answerAccepted", {
          message: t
        }),
          i())
      }
      ,
      e.sendCorrectAnswerMessage = function (t) {
        e.autoSize && (o("game.correctAnswer", {
          message: t
        }),
          i())
      }
      ,
      e.sendWrongAnswerMessage = function (t) {
        e.autoSize && (o("game.wrongAnswer", {
          message: t
        }),
          i())
      }
      ,
      e.sendTimeExpiredMessage = function (t) {
        e.autoSize && (o("game.timeExpired", {
          message: t
        }),
          i())
      }
      ,
      window.addEventListener("message", (function (t) {
        t.data.frameId && (e.frameId = t.data.frameId,
          e.autoSize = t.data.autoSize,
          i(),
          "undefined" != typeof ResizeObserver && new ResizeObserver((function (e) {
            i()
          }
          )).observe(document.body))
      }
      )),
      e
  }(widgetModule || {})
  , poseEstimatorModule = function (e) {
    let t = function () {
      return /Android/i.test(navigator.userAgent) || /iPhone|Mac|iPad|iPod/i.test(navigator.userAgent)
    };
    self.posenetModel = void 0;
    const i = function () { };
    let o = function (e) {
      return JSON.parse(JSON.stringify(e))
    }
      , n = !1;
    e.loadModel = async function (e = i, o = !1, a = !1, s = !1) {
      o && await tf.setBackend("wasm");
      let r = poseDetection.movenet.modelType.MULTIPOSE_LIGHTNING;
      if ((a || t()) && (r = poseDetection.movenet.modelType.SINGLEPOSE_LIGHTNING),
        s) {
        const t = handPoseDetection.SupportedModels.MediaPipeHands
          , i = {
            runtime: "tfjs",
            modelType: "lite"
          };
        n = !0,
          handPoseDetection.createDetector(t, i).then(t => {
            self.posenetModel = t,
              e()
          }
          )
      } else
        n = !1,
          poseDetection.createDetector(poseDetection.SupportedModels.MoveNet, {
            modelType: r,
            enableSmoothing: !0
          }).then(t => {
            self.posenetModel = t,
              e()
          }
          )
    }
      ;
    let a = function (e, t) {
      if ("pose" === t.type) {
        let i = [];
        return t.detect_head && (i.push(e[0]),
          i.push(e[1]),
          i.push(e[2])),
          t.detect_torso && (i.push(e[5]),
            i.push(e[6]),
            i.push(e[7]),
            i.push(e[8]),
            i.push(e[9]),
            i.push(e[10])),
          (void 0 === t.detect_hips && !0 === t.detect_legs || void 0 !== t.detect_hips && !0 === t.detect_hips) && (i.push(e[11]),
            i.push(e[12])),
          t.detect_legs && (i.push(e[13]),
            i.push(e[14]),
            i.push(e[15]),
            i.push(e[16])),
          i
      }
      return e
    }
      , s = {};
    let r = function (e) {
      let t = e.keypoints
        , i = t[5]
        , o = t[6]
        , n = t[11]
        , a = t[12];
      return Math.sqrt((i.x - o.x) * (i.x - o.x) + (i.y - o.y) * (i.y - o.y)) + (Math.sqrt((i.x - n.x) * (i.x - n.x) + (i.y - n.y) * (i.y - n.y)) + Math.sqrt((o.x - a.x) * (o.x - a.x) + (o.y - a.y) * (o.y - a.y))) / 2
    };
    const l = {
      keypoints: [{
        y: 0,
        x: 0,
        score: 0,
        name: "nose"
      }, {
        y: 0,
        x: 0,
        score: 0,
        name: "left_eye"
      }, {
        y: 0,
        x: 0,
        score: 0,
        name: "right_eye"
      }, {
        y: 0,
        x: 0,
        score: 0,
        name: "left_ear"
      }, {
        y: 0,
        x: 0,
        score: 0,
        name: "right_ear"
      }, {
        y: 0,
        x: 0,
        score: 0,
        name: "left_shoulder"
      }, {
        y: 0,
        x: 0,
        score: 0,
        name: "right_shoulder"
      }, {
        y: 0,
        x: 0,
        score: 0,
        name: "left_elbow"
      }, {
        y: 0,
        x: 0,
        score: 0,
        name: "right_elbow"
      }, {
        y: 0,
        x: 0,
        score: 0,
        name: "left_wrist"
      }, {
        y: 0,
        x: 0,
        score: 0,
        name: "right_wrist"
      }, {
        y: 0,
        x: 0,
        score: 0,
        name: "left_hip"
      }, {
        y: 0,
        x: 0,
        score: 0,
        name: "right_hip"
      }, {
        y: 0,
        x: 0,
        score: 0,
        name: "left_knee"
      }, {
        y: 0,
        x: 0,
        score: 0,
        name: "right_knee"
      }, {
        y: 0,
        x: 0,
        score: 0,
        name: "left_ankle"
      }, {
        y: 0,
        x: 0,
        score: 0,
        name: "right_ankle"
      }],
      box: {
        yMin: 0,
        xMin: 0,
        yMax: 0,
        xMax: 0,
        width: 0,
        height: 0
      },
      score: 0,
      id: -1
    }
      , d = {
        keypoints: [{
          y: 0,
          x: 0,
          name: "wrist"
        }, {
          y: 0,
          x: 0,
          name: "thumb_cmc"
        }, {
          y: 0,
          x: 0,
          name: "thumb_mcp"
        }, {
          y: 0,
          x: 0,
          name: "thumb_ip"
        }, {
          y: 0,
          x: 0,
          name: "thumb_tip"
        }, {
          y: 0,
          x: 0,
          name: "index_finger_mcp"
        }, {
          y: 0,
          x: 0,
          score: 0,
          name: "index_finger_pip"
        }, {
          y: 0,
          x: 0,
          name: "index_finger_dip"
        }, {
          y: 0,
          x: 0,
          name: "index_finger_tip"
        }, {
          y: 0,
          x: 0,
          name: "middle_finger_mcp"
        }, {
          y: 0,
          x: 0,
          name: "middle_finger_pip"
        }, {
          y: 0,
          x: 0,
          name: "middle_finger_dip"
        }, {
          y: 0,
          x: 0,
          name: "middle_finger_tip"
        }, {
          y: 0,
          x: 0,
          name: "ring_finger_mcp"
        }, {
          y: 0,
          x: 0,
          name: "ring_finger_pip"
        }, {
          y: 0,
          x: 0,
          name: "ring_finger_dip"
        }, {
          y: 0,
          x: 0,
          name: "ring_finger_tip"
        }, {
          y: 0,
          x: 0,
          name: "pinky_finger_mcp"
        }, {
          y: 0,
          x: 0,
          name: "pinky_finger_pip"
        }, {
          y: 0,
          x: 0,
          name: "pinky_finger_dip"
        }, {
          y: 0,
          x: 0,
          name: "pinky_finger_tip"
        }],
        handedness: "Right",
        score: 0
      };
    return e.getWeightedKeypoints = async function (e, t, i = !1) {
      let c, u = Date.now();
      e.currentTime = u;
      let h = o(t);
      if (h.type = n ? "hand" : "pose",
        "pose" === h.type)
        c = (m = await self.posenetModel.estimatePoses(e)) && 0 !== m.length ? (m.sort((function (e, t) {
          return -(r(e) - r(t))
        }
        )),
          m[0]) : l;
      else {
        if ("hand" !== h.type)
          return;
        c = (await self.posenetModel.estimateHands(e))[0],
          void 0 === c && (c = d)
      }
      var m;
      "pose" === h.type && i && (c = function (e, t) {
        for (let i = 0; i < e.keypoints.length; i++) {
          let n = e.keypoints[i]
            , a = n.name;
          n.score > .3 || !(a in t) ? (t[a] = o(n),
            t[a].time = Date.now()) : Date.now() - t[a].time <= 1500 && (e.keypoints[i] = t[a])
        }
        return o(e)
      }(c, s));
      const p = o(c);
      let f = []
        , g = []
        , _ = []
        , v = [];
      for (let e = 0; e < c.keypoints.length; e++)
        f.push([c.keypoints[e].x, c.keypoints[e].y]),
          v.push(c.keypoints[e].name),
          void 0 === c.keypoints[e].score && (c.keypoints[e].score = 1),
          g.push(c.keypoints[e].score),
          _.push(c.keypoints[e].score);
      let y = Date.now() - u;
      return {
        detected: p.score >= .25,
        raw_pose: p,
        keypoints: a(f, h),
        weights: a(g, h),
        confidences: a(_, h),
        names: a(v, h),
        config: h,
        time: y
      }
    }
      ,
      e
  }(poseEstimatorModule || {})
  , posenetAsyncModule = function (e) {
    let t = !1;
    return e.load = async function (e, t) {
      let i = !!e.useWASM
        , o = !!e.forceSinglepose
        , n = "hand" === e.type;
      t({
        data: {
          task: "log",
          message: "loading started"
        }
      }),
        poseEstimatorModule.loadModel(() => {
          t({
            data: {
              task: "log",
              message: "loading finished"
            }
          }),
            t({
              data: {
                task: "load",
                result: !0
              }
            })
        }
          , i, o, n)
    }
      ,
      e.get_pose = async function (e, i) {
        if (t)
          return;
        t = !0;
        let o = e.imageData
          , n = {
            isTarget: e.isTarget,
            detect_head: e.head,
            detect_torso: e.torso,
            detect_hips: e.hips,
            detect_legs: e.legs
          }
          , a = e.useCache;
        poseEstimatorModule.getWeightedKeypoints(o, n, a).then(e => {
          setTimeout(() => {
            t = !1,
              e.time += 0,
              i({
                data: {
                  task: "get_pose",
                  result: e
                }
              })
          }
            , 0)
        }
        )
      }
      ,
      e
  }(posenetAsyncModule || {})
  , mathUtilsModule = function (e) {
    return e.getAngle = function (e, t, i) {
      if (void 0 === e || void 0 === t || void 0 === i || e[0] < 0 || t[0] < 0 || i[0] < 0)
        return null;
      let o = [e[0] - i[0], e[1] - i[1]]
        , n = [t[0] - i[0], t[1] - i[1]];
      return Math.atan2(function (e, t) {
        return e[0] * t[1] - e[1] * t[0]
      }(o, n), function (e, t) {
        return e[0] * t[0] + e[1] * t[1]
      }(o, n))
    }
      ,
      e.getMiddle = function (e, t) {
        return e[0] < 0 || t[0] < 0 ? [-10, -10] : [(e[0] + t[0]) / 2, (e[1] + t[1]) / 2]
      }
      ,
      e
  }(mathUtilsModule || {})
  , angleScoringModule = function (e) {
    let t = function (e) {
      let t = e[0]
        , i = e[1]
        , o = e[2]
        , n = mathUtilsModule.getMiddle(i, o)
        , a = e[3]
        , s = e[4]
        , r = e[5]
        , l = e[6]
        , d = e[7]
        , c = e[8]
        , u = mathUtilsModule.getMiddle(d, c)
        , h = e[9]
        , m = e[10]
        , p = e[11]
        , f = e[12];
      return [mathUtilsModule.getAngle(t, o, n), mathUtilsModule.getAngle(o, u, n), mathUtilsModule.getAngle(c, n, u), mathUtilsModule.getAngle(n, s, o), mathUtilsModule.getAngle(o, l, s), mathUtilsModule.getAngle(u, m, c), mathUtilsModule.getAngle(c, f, m), mathUtilsModule.getAngle(n, a, i), mathUtilsModule.getAngle(i, r, a), mathUtilsModule.getAngle(u, h, d), mathUtilsModule.getAngle(d, p, h)]
    };
    const i = ["head", "shoulders", "spine", "right_shoulder", "right_elbow", "right_hip", "right_knee", "left_shoulder", "left_elbow", "left_hip", "left_knee"]
      , o = [1, 1.5, 1, 2.5, 2.5, 1, 1, 2.5, 2.5, 1, 1];
    let n = function (e) {
      let t = {};
      for (key in e)
        t[i[key]] = e[key];
      return t
    };
    const a = Math.PI * Math.PI
      , s = Math.PI;
    return e.anglesScore = function (e, i) {
      let r, l = t(e), d = t(i), c = l.length, u = 0, h = 0, m = [];
      for (let e = 0; e < c; e++) {
        let t = l[e]
          , i = d[e];
        if (null !== i) {
          if (null === t)
            u += a * o[e],
              m.push(a);
          else {
            let n = Math.min(Math.abs(t - i + 2 * s), Math.abs(t - i), Math.abs(t - i - 2 * s));
            m.push(n),
              u += n * o[e]
          }
          h += o[e]
        } else
          m.push(NaN)
      }
      return r = 0 === c ? 0 : Math.round(5e3 * Math.sqrt(u / h) / s),
      {
        score: r,
        debug: l.join(", "),
        anglesA: n(l),
        anglesB: n(d),
        anglesDiff: n(m)
      }
    }
      ,
      e
  }(angleScoringModule || {})
  , activityQuestionScoringModule = function (e) {
    function t(e, t) {
      return Array.isArray(e) && Array.isArray(t) ? e[0] < 0 || t[0] < 0 ? [-10, -10] : [(e[0] + t[0]) / 2, (e[1] + t[1]) / 2] : {
        x: (e.x + t.x) / 2,
        y: (e.y + t.y) / 2
      }
    }
    let i = function (e, t) {
      return Math.sqrt((e.x - t.x) * (e.x - t.x) + (e.y - t.y) * (e.y - t.y))
    };
    function o(e, t, i) {
      return [(e[0] - t.x) * i, (e[1] - t.y) * i]
    }
    let n = function (e) {
      let t = 0;
      for (let i = 0; i < e.length; i++) {
        let o = e[i];
        t += o * o
      }
      let i = Math.sqrt(t)
        , o = [];
      for (let t = 0; t < e.length; t++) {
        let n = e[t];
        o.push(n / i)
      }
      return o
    };
    e.cropAndScale = function (e, t) {
      let i = -2
        , o = -2
        , n = -1
        , a = -1;
      for (let s = 0; s < e.length; s++) {
        let r = e[s]
          , l = r[0]
          , d = r[1];
        t[s] < .3 || (l < 0 || d < 0 || ((-2 === i || l < i) && (i = l),
          (-2 === o || d < o) && (o = d),
          n = Math.max(n, l),
          a = Math.max(a, d)))
      }
      let s = (i + n) / 2
        , r = (o + a) / 2
        , l = Math.max(n - i, a - o) + 10;
      0 === l && (l = 250,
        s = 125,
        r = 125);
      let d = [];
      for (let t = 0; t < e.length; t++) {
        let i = e[t]
          , o = i[0]
          , n = i[1];
        d.push([(o + l / 2 - s) / l, (n + l / 2 - r) / l])
      }
      return [d, l]
    }
      ;
    let a = function (e) {
      let t = [];
      for (let i = 0; i < e.length; i++) {
        let o = e[i];
        for (let e = 0; e < o.length; e++)
          t.push(o[e])
      }
      return t
    };
    e.getKeypointsPositionsMap = function (e) {
      let t = {};
      for (let o of e)
        o.name && (t[o.name] = {
          x: o.x,
          y: o.y
        }),
          o.part && (t[(i = o.part,
            i.replace(/[A-Z]/g, e => "_" + e.toLowerCase()))] = {
            x: o.position.x,
            y: o.position.y
          });
      var i;
      return t
    }
      ;
    let s = function (e, t, i, o = "", n) {
      let a = 0
        , s = 0
        , r = 0
        , l = 1;
      for (let o of i)
        a += e[t + o][0],
          s += e[t + o][1],
          r += Math.sqrt(e[t + o][0] * e[t + o][0] + e[t + o][1] * e[t + o][1]),
          void 0 !== n && (l = Math.min(l, n[t + o]));
      let d = i.length;
      return a /= d,
        s /= d,
      {
        name: o,
        detected: l >= .3,
        vector: [a, s],
        vector_size: Math.sqrt(a * a + s * s),
        value: r
      }
    }
      , r = function (e, t, i) {
        let o = [];
        if ("pose" === t.type) {
          let n = 0;
          t.detect_head && (o.push(s(e, n, [0, 1, 2], "head", i)),
            n += 3),
            t.detect_torso && (o.push(s(e, n, [0, 2, 4], "left_hand", i)),
              o.push(s(e, n, [1, 3, 5], "right_hand", i)),
              n += 6),
            t.detect_hips && t.detect_legs ? (o.push(s(e, n, [0, 2, 4], "left_leg", i)),
              o.push(s(e, n, [1, 3, 5], "right_leg", i)),
              n += 6) : t.detect_legs ? (o.push(s(e, n, [0, 2], "left_leg", i)),
                o.push(s(e, n, [1, 3], "right_leg", i)),
                n += 4) : t.detect_hips && (o.push(s(e, n, [0, 1], "hips", i)),
                  n += 2)
        }
        return o
      };
    const l = [1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1]
      , d = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1];
    e.centeredKeypointsScore = function (s, c, u) {
      if (!s || !c || !s.detected)
        return function (e) {
          return {
            detected: !1,
            score: void 0,
            scores: void 0,
            errors: void 0,
            keypointsA: void 0,
            target_hovered: void 0,
            targetPose: e,
            partsErrors: [void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0],
            diameters_ratio: void 0,
            a: void 0,
            b: void 0
          }
        }(c);
      let h = s.config;
      const m = s.keypoints;
      let p = s.raw_pose.keypoints
        , f = e.getKeypointsPositionsMap(p);
      const g = c.keypoints;
      let _ = c.raw_pose.keypoints
        , v = e.getKeypointsPositionsMap(_)
        , y = void 0
        , w = void 0
        , A = void 0
        , b = void 0;
      "pose" === h.type ? (h.detect_torso ? (y = t(f.left_shoulder, f.right_shoulder),
        w = i(f.left_shoulder, f.right_shoulder)) : h.detect_hips ? (y = t(f.left_hip, f.right_hip),
          w = i(f.left_hip, f.right_hip)) : (y = t(f.left_eye, f.right_eye),
            w = i(f.left_eye, f.right_eye)),
        h.detect_torso ? (A = t(v.left_shoulder, v.right_shoulder),
          b = i(v.left_shoulder, v.right_shoulder)) : h.detect_hips ? (A = t(v.left_hip, v.right_hip),
            b = i(v.left_hip, v.right_hip)) : (A = t(v.left_eye, v.right_eye),
              b = i(v.left_eye, v.right_eye))) : "hand" === h.type && (y = f.wrist,
                w = i(f.wrist, f.index_finger_mcp),
                A = v.wrist,
                b = i(v.wrist, v.index_finger_mcp));
      let M = [];
      for (let e of m)
        M.push(o(e, y, 1 / w));
      let C = [];
      for (let e of g)
        C.push(o(e, A, 1 / b));
      let S = [];
      for (let e of C) {
        let t = [...e]
          , i = {
            ...y
          };
        i.x = -i.x,
          i.y = -i.y,
          t[0] *= w,
          t[1] *= w,
          S.push(o(t, i, 1))
      }
      let T = n(a(M))
        , I = n(a(C))
        , $ = []
        , k = [];
      for (let e = 0; e < T.length / 2; e++) {
        let t = [T[2 * e], T[2 * e + 1]]
          , i = [I[2 * e], I[2 * e + 1]];
        c.weights[e] < .5 && (i = t);
        let o = Math.sqrt((t[0] - i[0]) * (t[0] - i[0]) + (t[1] - i[1]) * (t[1] - i[1]))
          , n = [t[0] - i[0], t[1] - i[1]];
        $.push(o),
          k.push(n)
      }
      let x = function (e, t) {
        let i;
        "pose" === t.type ? i = l : "hand" === t.type && (i = d);
        let o = function (e, t) {
          if ("pose" === t.type) {
            let i = [];
            return t.detect_head && (i.push(e[0]),
              i.push(e[1]),
              i.push(e[2])),
              t.detect_torso && (i.push(e[5]),
                i.push(e[6]),
                i.push(e[7]),
                i.push(e[8]),
                i.push(e[9]),
                i.push(e[10])),
              (void 0 === t.detect_hips && !0 === t.detect_legs || void 0 !== t.detect_hips && !0 === t.detect_hips) && (i.push(e[11]),
                i.push(e[12])),
              t.detect_legs && (i.push(e[13]),
                i.push(e[14]),
                i.push(e[15]),
                i.push(e[16])),
              i
          }
          return e
        }(i, t)
          , n = o.reduce((function (e, t) {
            return e + t
          }
          ), 0)
          , a = 0;
        for (var s in e)
          a += e[s] * o[s];
        return a / n
      }($, h);
      return {
        detected: !0,
        oldScore: 5e3 * x,
        score: 5e3 * x,
        scores: $,
        errors: k,
        keypointsA: m,
        confidences: s.confidences,
        target_hovered: S,
        targetPose: c,
        partsErrors: r(k, h, u),
        diameters_ratio: w / b,
        a: T,
        b: I
      }
    }
      ;
    return e.score = function (t, i, o) {
      let n = e.centeredKeypointsScore(t, i, o);
      if (n.detected && "hand" !== t.config.type) {
        let e = {
          score: 0
        };
        0,
          n.anglesScore = e,
          n.score = 1 * n.score + 0 * e.score
      } else
        n.anglesScore = void 0;
      return n
    }
      ,
      e
  }(activityQuestionScoringModule || {})
  , activityDrawMiniatureModule = function (e) {
    (new Image).src = global_siteCdn + "/Images/miniatureArrow.svg";
    let t = function (e, o) {
      this.x = e,
        this.y = o,
        this.add = function (e) {
          return new t(this.x + e.x, this.y + e.y)
        }
        ,
        this.sub = function (e) {
          return new t(this.x - e.x, this.y - e.y)
        }
        ,
        this.mul = function (i) {
          return new t(e * i, o * i)
        }
        ,
        this.div = function (i) {
          return new t(e / i, o / i)
        }
        ,
        this.len = function () {
          return Math.sqrt(this.x * this.x + this.y * this.y)
        }
        ,
        this.scale = function (e) {
          let t = this.len();
          return t > 0 ? this.div(t).mul(e) : this.mul(1)
        }
        ,
        this.rotate = function (i) {
          return new t(e * Math.cos(i) - o * Math.sin(i), e * Math.sin(i) + o * Math.cos(i))
        }
        ,
        this.scalar = function (e) {
          return this.x * e.x + this.y * e.y
        }
        ,
        this.vector = function (e) {
          return this.x * e.y - this.y * e.x
        }
        ,
        this.angle = function (e = i) {
          return Math.atan2(this.vector(e), this.scalar(e))
        }
        ,
        this.clone = function () {
          return new t(this.x, this.y)
        }
    }
      , i = new t(1, 0)
      , o = new t(0, 1)
      , n = function (e, t, i, o, n) {
        e.lineCap = "round",
          e.beginPath(),
          e.strokeStyle = n,
          e.lineWidth = o,
          function (e, t, i) {
            e.moveTo(t.x, t.y),
              e.lineTo(i.x, i.y)
          }(e, t, i),
          e.stroke()
      }
      , a = function (e, t, i, o, a, s) {
        s.length > 0 && s != a && n(e, t, i, 1.5 * o, s),
          n(e, t, i, o, a)
      }
      , s = Math.PI;
    const r = {
      left_hand: ["rightElbow", "rightWrist"],
      right_hand: ["leftElbow", "leftWrist"]
    };
    let l = function (e) {
      let t = e.angle(o)
        , i = o.clone().scale(e.len());
      return i = Math.abs(t) > 2 * s / 3 ? i.rotate(s) : Math.abs(t) < s / 3 ? i.rotate(0) : t > 0 ? i.rotate(s / 2) : i.rotate(-s / 2),
        i
    }
      , d = function (e) {
        let i = {};
        for (let o = 0; o < e.keypoints.length; o++)
          e.keypoints[o].score >= .5 && (i[e.keypoints[o].part] = new t(e.keypoints[o].position.x, e.keypoints[o].position.y));
        return i
      };
    return e.drawPose = function (e, c, u, h = "#878D9A") {
      let m = e.canvas.height
        , p = e.canvas.width
        , f = Math.min(m, p);
      e.fillStyle = h,
        e.translate(p / 2, m / 2),
        e.scale(1, -1),
        e.translate(-p / 2, -m / 2),
        e.clearRect(0, 0, p, m);
      let g = new t(.5, .425)
        , _ = d(c.raw_pose)
        , v = {};
      void 0 !== u && (v = d(u.raw_pose));
      let y = s / 2
        , w = void 0;
      if ("leftHip" in _ && "rightHip" in _ && "leftShoulder" in _ && "rightShoulder" in _) {
        let e = _.leftHip.add(_.rightHip).div(2);
        w = _.leftShoulder.add(_.rightShoulder).div(2).sub(e),
          y = w.angle()
      }
      let A = s / 2
        , b = -s / 2;
      if ("leftShoulder" in _ && "rightShoulder" in _ && "rightElbow" in _) {
        let e = _.rightElbow.sub(_.rightShoulder);
        if (void 0 === w) {
          let t = _.leftShoulder.sub(_.rightShoulder);
          A = s - t.angle(e)
        } else
          A = s - w.rotate(s / 2).angle(e)
      } else if ("leftShoulder" in _ && "rightShoulder" in _ && "rightWrist" in _) {
        let e = _.rightShoulder.sub(_.rightWrist);
        if (void 0 === w) {
          let t = _.leftShoulder.sub(_.rightShoulder);
          A = s - t.angle(e)
        } else
          A = s - w.rotate(s / 2).angle(e)
      }
      if ("leftShoulder" in _ && "rightShoulder" in _ && "leftElbow" in _) {
        let e = _.leftElbow.sub(_.leftShoulder);
        if (void 0 === w) {
          b = -_.leftShoulder.sub(_.rightShoulder).angle(e)
        } else
          b = -w.rotate(s / 2).angle(e)
      } else if ("leftShoulder" in _ && "rightShoulder" in _ && "leftWrist" in _) {
        let e = _.leftShoulder.sub(_.leftWrist);
        if (void 0 === w) {
          b = -_.leftShoulder.sub(_.rightShoulder).angle(e)
        } else
          b = -w.rotate(s / 2).angle(e)
      }
      let M = 0
        , C = s;
      if ("rightShoulder" in _ && "rightElbow" in _ && "rightWrist" in _) {
        let e = _.rightElbow.sub(_.rightShoulder)
          , t = _.rightWrist.sub(_.rightElbow);
        M = -e.angle(t),
          Math.abs(M) < s / 6 && (M = 0)
      }
      if ("leftShoulder" in _ && "leftElbow" in _ && "leftWrist" in _) {
        let e = _.leftElbow.sub(_.leftShoulder)
          , t = _.leftWrist.sub(_.leftElbow);
        C = s - e.angle(t),
          Math.abs(C - s) < s / 6 && (C = s)
      }
      let S = s / 2
        , T = -s / 2;
      if ("leftHip" in _ && "rightHip" in _ && "rightKnee" in _) {
        let e = _.rightKnee.sub(_.rightHip);
        if (void 0 === w) {
          let t = _.leftHip.sub(_.rightHip);
          S = s - t.angle(e)
        } else
          S = s - w.rotate(s / 2).angle(e)
      } else if ("leftHip" in _ && "rightHip" in _ && "rightAnkle" in _) {
        let e = _.rightKnee.sub(_.rightAnkle);
        if (void 0 === w) {
          let t = _.leftHip.sub(_.rightHip);
          S = s - t.angle(e)
        } else
          S = s - w.rotate(s / 2).angle(e)
      }
      if ("leftHip" in _ && "rightHip" in _ && "leftKnee" in _) {
        let e = _.leftKnee.sub(_.leftHip);
        if (void 0 === w) {
          T = -_.leftHip.sub(_.rightHip).angle(e)
        } else
          T = -w.rotate(s / 2).angle(e)
      } else if ("leftHip" in _ && "rightHip" in _ && "leftAnkle" in _) {
        let e = _.leftKnee.sub(_.leftAnkle);
        if (void 0 === w) {
          T = -_.leftHip.sub(_.rightHip).angle(e)
        } else
          T = -w.rotate(s / 2).angle(e)
      }
      let I = 0
        , $ = s;
      if ("rightHip" in _ && "rightKnee" in _ && "rightAnkle" in _) {
        let e = _.rightKnee.sub(_.rightHip)
          , t = _.rightAnkle.sub(_.rightKnee);
        I = -e.angle(t),
          Math.abs(I) < s / 6 && (I = 0)
      }
      if ("leftHip" in _ && "leftKnee" in _ && "leftAnkle" in _) {
        let e = _.leftKnee.sub(_.leftHip)
          , t = _.leftAnkle.sub(_.leftKnee);
        $ = s - e.angle(t),
          Math.abs($ - s) < s / 6 && ($ = s)
      }
      let k = {
        spine: y,
        right_shoulder: b,
        right_elbow: C,
        left_shoulder: A,
        left_elbow: M,
        right_hip: T,
        right_knee: $,
        left_hip: S,
        left_knee: I
      }
        , x = {};
      for (part in r) {
        let e = new t(0, 0);
        for (keypoint of r[part])
          keypoint in _ && keypoint in v && (e = e.add(_[keypoint].sub(v[keypoint])));
        e.y *= -1,
          x[part] = l(e)
      }
      !function (e, t, r, l, d, c = "#878D9A") {
        let u = i.rotate(r.spine).scale(.2)
          , h = t.add(u)
          , m = u.rotate(s / 2).scale(.06)
          , p = h.add(m)
          , f = h.add(m.mul(-1))
          , g = t.add(i.scale(.05)).add(o.scale(-.025))
          , _ = t.add(i.scale(-.05)).add(o.scale(-.025))
          , v = (o.scale(-.275),
            m.rotate(r.left_shoulder).scale(.12))
          , y = v.rotate(r.left_elbow).scale(.12)
          , w = m.mul(-1).rotate(r.right_shoulder).scale(.12)
          , A = w.mul(-1).rotate(r.right_elbow).scale(.12)
          , b = _.sub(g)
          , M = b.rotate(r.left_hip).scale(.1375)
          , C = M.rotate(r.left_knee).scale(.1375)
          , S = b.mul(-1).rotate(r.right_hip).scale(.1375)
          , T = S.mul(-1).rotate(r.right_knee).scale(.1375);
        n(e, t.add(u.scale(.28)).mul(l), t.add(u.scale(.29)).mul(l), .08 * l, c),
          function (e, t, i) {
            e.fillStyle = i,
              e.beginPath(),
              e.moveTo(t[0].x, t[0].y);
            for (let i = 1; i < t.length; i++)
              e.lineTo(t[i].x, t[i].y);
            e.fill()
          }(e, [g.mul(l), _.mul(l), p.mul(l), f.mul(l)], c),
          n(e, _.mul(l), p.mul(l), .04 * l, c),
          n(e, p.mul(l), f.mul(l), .04 * l, c),
          n(e, g.mul(l), f.mul(l), .04 * l, c),
          n(e, _.mul(l), g.mul(l), .04 * l, c),
          m = u.rotate(s / 2).scale(.11),
          p = h.add(m),
          f = h.add(m.mul(-1)),
          a(e, p.mul(l), p.add(v).mul(l), .04 * l, c, ""),
          a(e, f.mul(l), f.add(w).mul(l), .04 * l, c, ""),
          a(e, p.add(v).mul(l), p.add(v).add(y).mul(l), .04 * l, c, ""),
          a(e, f.add(w).mul(l), f.add(w).add(A).mul(l), .04 * l, c, ""),
          n(e, p.mul(l), p.add(v).mul(l), .04 * l, c),
          n(e, f.mul(l), f.add(w).mul(l), .04 * l, c),
          n(e, _.mul(l), _.add(M).mul(l), .045 * l, c),
          n(e, _.add(M).mul(l), _.add(M).add(C).mul(l), .045 * l, c),
          n(e, g.mul(l), g.add(S).mul(l), .045 * l, c),
          n(e, g.add(S).mul(l), g.add(S).add(T).mul(l), .045 * l, c)
      }(e, g, k, f, 0, h),
        e.translate(p / 2, m / 2),
        e.scale(1, -1),
        e.translate(-p / 2, -m / 2)
    }
      ,
      e.prepareCanvas = function (e) {
        let t = $("<div>");
        t.attr("id", e),
          t.addClass("activity-question-next-checkpoints-line__next-checkpoint"),
          t.addClass("activity-question-next-checkpoint");
        let i = $("<canvas>");
        return i.addClass("activity-question-next-checkpoint__canvas"),
          i.attr("height", 720),
          i.attr("width", 720),
          t.append(i),
          t
      }
      ,
      e
  }(activityDrawMiniatureModule || {})
  , activityDrawSkeletonSchemeModule = function (e) {
    return e.finishKp = [],
      e.typesData = {},
      e.clearCanvas = function (e) {
        e.clearRect(0, 0, e.canvas.width, e.canvas.height)
      }
      ,
      e.drawLine = function (e, t, i, o = !0) {
        let n = o ? .9 * Math.min(e.canvas.height, e.canvas.width) : 1
          , a = o ? .05 * Math.min(e.canvas.height, e.canvas.width) : 0;
        e.beginPath(),
          e.moveTo(a + t[0] * n, a + t[1] * n),
          e.lineTo(a + i[0] * n, a + i[1] * n),
          e.stroke()
      }
      ,
      e.drawDashedLine = function (t, i, o, n, a, s, r = "#4FDEFB", l = 1) {
        let d = (o[0] - i[0]) / n
          , c = (o[1] - i[1]) / n;
        "" != s && e.finishKp.push([i[0], i[1], s, l]);
        for (let o = 0; o < n; o++) {
          t.beginPath();
          let n = i[0] + d * (o + 1)
            , u = i[1] + c * (o + 1);
          t.fillStyle = r,
            "" != s && e.finishKp.push([n, u, s, l]),
            t.arc(n, u, a, 0, 2 * Math.PI),
            t.fill()
        }
      }
      ,
      e.clearSkeletons = function () {
        e.finishKp = []
      }
      ,
      e.drawHighlightSkeleton = function (t, i, o, n, a, s, r, l = "#4FDEFB", d = 1, c = !1) {
        t.shadowColor = l,
          t.shadowBlur = 15,
          e.typesData[d] = {
            color: l
          };
        let u = [...i];
        void 0 === s && (s = a);
        let h = 0;
        if (o && u.splice(0, 3),
          n) {
          let i = u[h++]
            , o = u[h++]
            , n = u[h++]
            , a = u[h++]
            , s = u[h++]
            , r = u[h++];
          e.drawDashedLine(t, i, o, 5, 8, "", l, d),
            e.drawDashedLine(t, n, i, 5, 8, "left_hand", l, d),
            e.drawDashedLine(t, a, o, 5, 8, "right_hand", l, d),
            e.drawDashedLine(t, s, n, 5, 8, "left_hand", l, d),
            e.drawDashedLine(t, r, a, 5, 8, "right_hand", l, d)
        }
        if (s) {
          u[h++],
            u[h--];
          u.splice(h, 2)
        }
        if (a) {
          let i = u[h++]
            , o = u[h++]
            , n = u[h++]
            , a = u[h++];
          s && (e.drawDashedLine(t, i, lHip, 5, 8, "", l, d),
            e.drawDashedLine(t, o, rHip, 5, 8, "", l, d)),
            e.drawDashedLine(t, n, i, 5, 8, "", l, d),
            e.drawDashedLine(t, a, o, 5, 8, "", l, d)
        }
        u.forEach((function (e, i) {
          t.beginPath(),
            t.fillStyle = l,
            t.arc(e[0], e[1], 15, 0, 2 * Math.PI),
            t.fill()
        }
        ));
        let m = t.canvas;
        let p = r.reduce((e, t) => ({
          ...e,
          [t.name]: t.vector
        }), {});
        activityQuestionModule.log(p);
        let f = {
          hide: function () {
            $(".activity-highlight-hint").fadeOut()
          },
          show: function () {
            $(".activity-highlight-hint").fadeIn()
          },
          move: function (e, t) {
            $(".activity-highlight-hint").css({
              left: e,
              top: t
            })
          },
          changeColor: function (e) {
            $(".activity-highlight-hint").css("color", e)
          },
          hideDelayTimer: void 0,
          hideDelay: 3e3
        };
        m.onmousemove = function (t) {
          let i = function (e, t) {
            var i = e.getBoundingClientRect();
            return [(t.clientX - i.left) / (i.right - i.left) * e.width, (t.clientY - i.top) / (i.bottom - i.top) * e.height]
          }(m, t)
            , o = !1;
          e.finishKp.forEach((function (n, a) {
            if (s = n,
              r = i,
              Math.sqrt((s[0] - r[0]) * (s[0] - r[0]) + (s[1] - r[1]) * (s[1] - r[1])) <= 15) {
              o = !0,
                f.changeColor(e.typesData[n[3]].color);
              p[n[2]];
              f.show(),
                f.move(t.offsetX, t.offsetY);
              let i = "";
              i = 1 == n[3] ? activityQuestionModule.getLocalizationPhrase("parts", n[2]) + " " + activityQuestionModule.getLocalizationPhrase("messages", "was", "here") : activityQuestionModule.getLocalizationPhrase("parts", n[2]) + " " + activityQuestionModule.getLocalizationPhrase("messages", "must_be", "here"),
                "" != i && $(".activity-highlight-hint").text(i),
                f.hideDelayTimer ? (clearTimeout(f.hideDelayTimer),
                  f.hideDelayTimer = setTimeout(f.hide, f.hideDelay)) : f.hideDelayTimer = setTimeout(f.hide, f.hideDelay)
            }
            var s, r
          }
          )),
            o || f.hide()
        }
      }
      ,
      e.drawSkeleton = function (t, i, o, n, a, s, r, l, d, c = !0, u = 2, h = "#000000", m = !1) {
        i.strokeStyle = h,
          i.fillStyle = "#000000",
          i.lineWidth = u;
        let p = [...o];
        void 0 === d && (d = l);
        let f, g, _ = 0;
        if (s) {
          let t = p[_];
          _++;
          let o = p[_];
          _++;
          let n = p[_];
          _++,
            m ? (p.splice(0, 3),
              _ -= 3) : (e.drawLine(i, t, o, c),
                e.drawLine(i, t, n, c),
                e.drawLine(i, n, o, c))
        }
        if (r) {
          let t = p[_];
          _++;
          let o = p[_];
          _++;
          let n = p[_];
          _++;
          let a = p[_];
          _++;
          let s = p[_];
          _++;
          let r = p[_];
          _++,
            e.drawLine(i, t, o, c),
            e.drawLine(i, n, t, c),
            e.drawLine(i, a, o, c),
            e.drawLine(i, s, n, c),
            e.drawLine(i, r, a, c)
        }
        if (d && (f = p[_],
          _++,
          g = p[_],
          _++,
          m ? (p.splice(_ - 2, 2),
            _ -= 2) : e.drawLine(i, f, g, c)),
          l) {
          let t = p[_];
          _++;
          let o = p[_];
          _++;
          let n = p[_];
          _++;
          let a = p[_];
          _++,
            d && (e.drawLine(i, t, f, c),
              e.drawLine(i, o, g, c)),
            e.drawLine(i, n, t, c),
            e.drawLine(i, a, o, c)
        }
        CIRCLE_SIZE = 4,
          p.forEach((function (e, t) {
            i.beginPath(),
              n[t] < .5 ? i.fillStyle = "#000000" : a[t].startsWith("r") ? i.fillStyle = "#0000FF" : i.fillStyle = "#008000";
            let o = c ? .9 * Math.min(i.canvas.height, i.canvas.width) : 1
              , s = c ? .05 * Math.min(i.canvas.height, i.canvas.width) : 0;
            i.arc(s + e[0] * o, s + e[1] * o, CIRCLE_SIZE, 0, 2 * Math.PI),
              i.fill(),
              i.font = "7px Arial",
              i.fillText(a[t], s + e[0] * o + 3, s + e[1] * o + 6)
          }
          )),
          i.font = "30px Arial",
          i.fillStyle = "#000000",
          i.fillText(t, 10, 50)
      }
      ,
      e.drawRotated = function (e, t, i, o, n, a, s) {
        e.setTransform(1, 0, 0, 1, i, o),
          e.rotate(s),
          e.drawImage(t, -n / 2, -a / 2, n, a)
      }
      ,
      e
  }(activityDrawSkeletonSchemeModule || {})
  , activitySharingImageModule = function (e) {
    const t = function (e) {
      let t = document.createElement("img");
      return t.src = e,
        new Promise(e => t.onload = () => e(t))
    }
      , i = function (e, t, i, o, n, a, s, r, l, d, c) {
        e.save(),
          c > 0 && (!function (e, t, i, o, n, a) {
            e.beginPath(),
              e.moveTo(t + a, i),
              e.lineTo(t + o - a, i),
              e.quadraticCurveTo(t + o, i, t + o, i + a),
              e.lineTo(t + o, i + n - a),
              e.quadraticCurveTo(t + o, i + n, t + o - a, i + n),
              e.lineTo(t + a, i + n),
              e.quadraticCurveTo(t, i + n, t, i + n - a),
              e.lineTo(t, i + a),
              e.quadraticCurveTo(t, i, t + a, i),
              e.closePath()
          }(e, s, r, l, d, c),
            e.clip()),
          e.drawImage(t, i, o, n, a, s, r, l, d),
          e.restore()
      }
      , o = function (e, t, i, o, n, a) {
        return e.textAlign = "left",
          e.font = n,
          e.fillStyle = a,
          e.fillText(t, i, o),
          e.measureText(t)
      };
    return e.generateAndUploadSharingImage = async function (e, n, a, s) {
      let r = await async function (e) {
        return {
          base: await t(`/app/images/activityquestion/shareimage/base_${activityUIModule.lang.toLowerCase()}.png`),
          cup: await t("/app/images/activityquestion/shareimage/cup.png"),
          star: await t("/app/images/activityquestion/shareimage/star.png"),
          photo: await t(e)
        }
      }(e);
      const l = r.base
        , d = r.cup
        , c = r.star
        , u = r.photo
        , h = Math.max(u.width - 720, 0) / 2
        , m = Math.max(u.height - 720, 0) / 2
        , p = document.createElement("canvas");
      $(".activity-question-widget").append(p);
      const f = p.getContext("2d");
      p.width = l.width,
        p.height = l.height,
        f.drawImage(l, 0, 0),
        f.save(),
        f.rotate(-5 * Math.PI / 180),
        i(f, u, h, m, 720, 720, 650, 170, 380, 380, 15),
        i(f, c, 0, 0, c.width, c.height, 700, 80, c.width, c.height, 0);
      const g = activityQuestionModule.getLocalization("results_image", "of")
        , _ = activityQuestionModule.getLocalization("results_image", "scores")
        , v = o(f, `${n} ${_} `, 130, 330, "bold 40px Montserrat", "#FFC83C").width;
      o(f, `${g} ${a}`, 130 + v, 330, "bold 40px Montserrat", "#FFFFFF");
      o(f, `${s}`, 140, 510, "bold 40px Montserrat", "#FFC83C"),
        i(f, d, 0, 0, d.width, d.height, p.width - d.width, p.height - d.height + 100, d.width, d.height, 0),
        f.restore();
      const y = GlobalUtils.uuidv4()
        , w = await imageUploadModule.uploadCanvas(global_StorageAccount.uploadStorage, y, p);
      return $(p).remove(),
        w
    }
      ,
      e
  }(activitySharingImageModule || {})
  , activityUIModule = function (e) {
    let t, i, o;
    var n = function (e) {
      clearInterval(e),
        e = null
    };
    e.log = function (...e) {
      console.log("Activity UI:", ...e)
    }
      ,
      e.SwipeControls = function (t) {
        e.log("Created swipe controls on", t);
        this.onSwipeRight = () => { }
          ,
          this.onSwipeLeft = () => { }
          ,
          this.onSwipeUp = () => { }
          ,
          this.onSwipeDown = () => { }
          ,
          this.element = $(t),
          this.startX = null,
          this.startY = null;
        let i = t => {
          e.log("endSwapFn", t);
          let i = t.pageX
            , o = t.pageY;
          if (this.startX && this.startY) {
            let t = i - this.startX
              , n = o - this.startY;
            e.log("dx", t),
              e.log("dy", n),
              Math.abs(n) < Math.abs(t) && Math.abs(t) >= 100 ? t > 0 ? this.onSwipeRight() : this.onSwipeLeft() : Math.abs(t) < Math.abs(n) && Math.abs(n) >= 100 && (n > 0 ? this.onSwipeDown() : this.onSwipeUp())
          }
          this.startX = null,
            this.startY = null
        }
          ;
        this.element.mousedown(t => {
          e.log("startSwapFn", t),
            this.startX = t.pageX,
            this.startY = t.pageY
        }
        ),
          this.element.mouseup(i),
          this.element.mouseleave(i)
      }
      ,
      e.lang = global_Localization.global_lang,
      e.load = function () {
        window.DEBUG ? $(".activity-question-widget__debug").show() : $(".activity-question-widget__debug").hide(),
          t = $(".activity-question-widget .activity-question-user-section__firework").get(0),
          $(t).hide(),
          i = $(".activity-question-videos__target-section__animation").get(0),
          $(i).hide(),
          o = $(".activity-question-widget .activity-question-user-section__approval").get(0),
          $(o).hide(),
          o.addEventListener("complete", () => {
            $(o).hide()
          }
          )
      }
      ,
      e.launchFirework = function () {
        t.load("/app/images/activityquestion/animations/Salut.json"),
          $(t).show(),
          t.seek(0),
          t.play()
      }
      ;
    let a = function (t) {
      return async function () {
        if (e.isSharingLocked)
          return;
        if (!activityQuestionModule.bestPictureToUpload)
          return;
        e.isSharingLocked = !0;
        const i = $("#activity-quiz-title").text()
          , o = await activitySharingImageModule.generateAndUploadSharingImage(activityQuestionModule.bestPictureToUpload, activityQuestionModule.totalScore, activityQuestionModule.maxScore, i);
        e.isSharingLocked = !1,
          t.share({
            imageUrl: o,
            url: window.location.href,
            title: i
          })
      }
    };
    e.setupShareButtons = function () {
      let e = socialNetworkFactoryModule.getVkSocialNetworkModule()
        , t = socialNetworkFactoryModule.getOkSocialNetworkModule();
      $("#activity-share-button-vk").off("click"),
        $("#activity-share-button-vk").click(a(e)),
        $("#activity-share-button-ok").off("click"),
        $("#activity-share-button-ok").click(a(t));
      try {
        let e = socialNetworkFactoryModule.getFbSocialNetworkModule(global_facebookAppId, global_gameSiteUrl + global_routes.mvc.game.shareResult);
        $("#activity-share-button-fb").off("click"),
          $("#activity-share-button-fb").click(a(e))
      } catch (e) {
        console.log("Can't init FB module")
      }
    }
      ,
      e.getSharingButtonsBlock = function () {
        return $(".activity-question-results-share")
      }
      ,
      e.showCalibrationAnimation = function () {
        i.load(`/app/images/activityquestion/animations/Calibration_${e.lang}.json`),
          $(i).show(),
          activityQuestionModule.log(i),
          i.seek(0),
          i.setLooping(!0),
          i.play()
      }
      ,
      e.hideCalibrationAnimation = function () {
        activityQuestionModule.log("We are here"),
          i.stop(),
          $(i).hide()
      }
      ,
      e.showCameraConnectionLostModal = function () {
        activityQuestionModule.mainScenario.hud.showModalWindow(activityQuestionModule.getLocalization("messages", "camera_disconnected_header"), "").then(t => {
          e.foldWidget()
        }
        )
      }
      ,
      e.showApprovalMessage = function () {
        var t;
        o.load(`/app/images/activityquestion/animations/approval${t = 3,
          1 + Math.floor(Math.random() * t)}_${e.lang}.json`),
          $(o).show(),
          o.seek(0),
          o.play()
      }
      ,
      e.HUDController = function () {
        var t = !1;
        this.firework = function () {
          e.launchFirework()
        }
          ,
          this.approvalMessage = function () {
            e.showApprovalMessage()
          }
          ;
        let i = function () {
          $(".activity-question-widget .approval-message").fadeIn(200).fadeOut(2e3, (function () {
            t = !1
          }
          )),
            t = !0
        };
        this.approvalMessageOnMobile = function () {
          if (!t) {
            var e = Math.random();
            e < .1 ? ($(".activity-question-widget .mobile-approval2").hide(),
              $(".activity-question-widget .mobile-approval1").show(),
              i()) : e < .2 && ($(".activity-question-widget .mobile-approval2").show(),
                $(".activity-question-widget .mobile-approval1").hide(),
                i())
          }
        }
          ,
          this.showMiddleMessage = function (e, t, i) {
            return t ? ($(".activity-question-widget .activity-question-middle-message__text").removeClass("activity-question-middle-message__text_small"),
              $(".activity-question-widget .activity-question-middle-message__text").addClass("activity-question-middle-message__text_large")) : ($(".activity-question-widget .activity-question-middle-message__text").addClass("activity-question-middle-message__text_small"),
                $(".activity-question-widget .activity-question-middle-message__text").removeClass("activity-question-middle-message__text_large")),
              $(".activity-question-widget .activity-question-middle-message__text").text(e),
              $(".activity-question-widget .activity-question-widget__middle-message").show(),
              new Promise((e, t) => {
                setTimeout((function () {
                  $(".activity-question-widget .activity-question-widget__middle-message").hide(),
                    e()
                }
                ), i)
              }
              )
          }
          ,
          this.showUserMessage = function (e, t, i) {
            $(".activity-question-widget .game-top-panel__score").show();
            var o = $(".activity-question-widget .activity-question-score__label");
            return o.find(".activity-question-score__label-text").text(e),
              new Promise((e, t) => {
                setTimeout((function () {
                  i > 0 && o.find(".activity-question-score__label-text").html("&nbsp;"),
                    e()
                }
                ), i)
              }
              )
          }
          ,
          this.showIndicator = function (e) {
            return $(".activity-question-widget .activity-question-user-section__indicator").show(),
              new Promise((t, i) => {
                setTimeout((function () {
                  e > 0 && $(".activity-question-widget .activity-question-user-section__indicator").hide(),
                    t()
                }
                ), e)
              }
              )
          }
          ,
          this.showModalWindow = async function (e, t = "") {
            return $(".activity-question-modal__confirm").off("click"),
              $(".activity-question-modal__exit-button").off("click"),
              $(".activity-question-modal__header").text(e),
              t ? ($(".activity-question-modal__text").show(),
                $(".activity-question-modal__text").text(t)) : $(".activity-question-modal__text").hide(),
              new Promise((e, t) => {
                let i = function () {
                  $(".activity-question-widget__modal").hide(),
                    e()
                };
                $(".activity-question-modal__confirm").bind("click", i),
                  $(".activity-question-modal__exit-button").bind("click", i),
                  $(".activity-question-widget__modal").show()
              }
              )
          }
          ,
          this.setScore = function (e) {
            null === e ? ($(".activity-question-widget .game-top-panel__score .activity-question-score__value-text,.activity-question-mobile-scores__value").text(""),
              $(".activity-question-widget .game-top-panel__score").hide()) : ($(".activity-question-widget .game-top-panel__score .activity-question-score__value-text,.activity-question-mobile-scores__value").text(e),
                $(".activity-question-widget .game-top-panel__score").show())
          }
          ,
          this.bottomMessage = function (e) {
            e ? ($(".activity-question-widget__top-message .top-message__text").text(e),
              $(".activity-question-widget__top-message").show()) : ($(".activity-question-widget__top-message .top-message__text").text(""),
                $(".activity-question-widget__top-message").hide())
          }
          ,
          this.showNextCheckpointsLine = function (e) { }
          ,
          this.setTimer = function (e, t) {
            let i = parseInt($(".countDownTimer__Seconds").text());
            i && $(".countDownTimer__Seconds").is(":visible") && (e = Math.min(e, i)),
              e || (e = 0);
            let o = Math.floor(e / 60)
              , n = Math.round(e % 60)
              , a = o.toString() + ":" + (n < 10 ? "0" : "") + n.toString();
            $(".activity-question-widget .timer__value").text(a),
              $(".activity-question-widget .activity-mobile-timer__value").text(a),
              $(".activity-question-widget .timer__bar .time-bar__progress").width(t + "%"),
              $(".activity-question-widget .activity-mobile-timer__progressbar-line").width(100 - t + "%")
          }
      }
      ,
      e.debugInfo = {
        ui_fps: -1,
        pe_fps: -1,
        score: -1,
        userPose: void 0,
        targetPose: void 0,
        scoringInfo: void 0
      },
      e.debugUserCtx = void 0,
      e.debugTargetCtx = void 0;
    let s = Date.now();
    MIN_TIME_BETWEEN_UPDATES = 250,
      e.updateDebug = function () {
        if (Date.now() - s >= MIN_TIME_BETWEEN_UPDATES) {
          e.debugUserCtx || (e.debugUserCtx = $(".activity-question-debug__user-skeleton").get(0).getContext("2d")),
            e.debugTargetCtx || (e.debugTargetCtx = $(".activity-question-debug__target-skeleton").get(0).getContext("2d"));
          let t = e.debugInfo
            , i = `UI FPS: ${t.ui_fps.toFixed(1)}<br />\n                PE FPS: ${t.pe_fps.toFixed(1)}<br />\n                Score: ${t.score}`;
          if (t.scoringInfo && (t.scoringInfo.anglesScore && (i += "<br />Angle score: " + t.scoringInfo.anglesScore.score),
            i += "<br />Old score: " + t.scoringInfo.oldScore),
            $(".activity-question-debug__text").html(i),
            e.debugInfo.userPose) {
            let t = activityQuestionScoringModule.cropAndScale(e.debugInfo.userPose.keypoints, e.debugInfo.userPose.confidences)[0];
            e.debugUserCtx.clearRect(0, 0, e.debugUserCtx.canvas.width, e.debugUserCtx.canvas.height),
              activityDrawSkeletonSchemeModule.drawSkeleton("", e.debugUserCtx, t, e.debugInfo.userPose.confidences, e.debugInfo.userPose.names, e.debugInfo.userPose.detect_head, e.debugInfo.userPose.detect_torso, e.debugInfo.userPose.detect_legs, e.debugInfo.userPose.detect_hips)
          }
          if (e.debugInfo.targetPose) {
            let t = activityQuestionScoringModule.cropAndScale(e.debugInfo.targetPose.keypoints, e.debugInfo.targetPose.confidences)[0];
            e.debugTargetCtx.clearRect(0, 0, e.debugTargetCtx.canvas.width, e.debugTargetCtx.canvas.height),
              activityDrawSkeletonSchemeModule.drawSkeleton("", e.debugTargetCtx, t, e.debugInfo.targetPose.confidences, e.debugInfo.targetPose.names, e.debugInfo.targetPose.detect_head, e.debugInfo.targetPose.detect_torso, e.debugInfo.targetPose.detect_legs, e.debugInfo.targetPose.detect_hips)
          }
          s = Date.now()
        }
      }
      ,
      e.setLoading = function (e) {
        e ? $(".activity-question-widget .activity-question-widget__loading").show() : $(".activity-question-widget .activity-question-widget__loading").hide()
      }
      ,
      e.setupFoldButton = function () {
        $(".activity-question-widget .activity-question-widget__fold-button").off("click"),
          $(".activity-question-widget .activity-question-widget__fold-button").bind("click", e.foldWidget)
      }
      ,
      e.showNoHighlightsDiv = function () {
        $(".activity-question-widget .highlights-div-disabled").show(),
          $(".activity-question-widget .video-label").show()
      }
      ,
      e.checkNoHighlights = function (e, t) {
        return 0 == e.length || 0 == t.length
      }
      ,
      e.showControlElementsAndHighlights = function (t, i) {
        $(".activity-question-widget .highlight-video-canvas__container").show(),
          $(".activity-question-widget .highlights-div-controls-only").hide(),
          e.checkNoHighlights(t, i) ? ($(".activity-question-widget .activity-question-results__control").hide(),
            $(".activity-question-widget .highlights-div-controls-only").show(),
            $(".activity-question-next-button .skip-review-button").addClass("centred"),
            e.getSharingButtonsBlock().hide()) : (e.getSharingButtonsBlock().show(),
              $(".activity-question-next-button .skip-review-button").removeClass("centred"),
              $(".activity-question-widget .activity-question-results__control").show(),
              $(".activity-question-widget .highlights-div-controls-only").hide()),
          $(".highlight-control-element__label").text("1 / " + i.length)
      }
      ,
      e.setupFoldAndRedanceButtons = function () {
        e.setupFoldButton(),
          $(".activity-question-widget .activity-question__redance").off("click"),
          $(".activity-question-widget .activity-question__redance").bind("click", (function () {
            activityQuestionModule.isRedanceLocked || (activityQuestionModule.isRedanceLocked = !0,
              questionAnswerModule.runMainDanceWithResult())
          }
          ))
      }
      ,
      e.getAnsweredUsersElement = function () {
        return $(".activity-question-widget .game-top-panel__answered-users")
      }
      ,
      e.getRotationNotAllowedModal = function () {
        return $(".activity-question-widget .activity-rotate-screen-modal")
      }
      ,
      e.showNextHintMessage = function (e) {
        $(".activity-question-widget .hint-messages") && e.messages.hint_messages.length > 0 && ($(".activity-question-widget .hint-messages").fadeOut(400, () => {
          $(".activity-question-widget .hint-messages").text(e.messages.hint_messages[activityQuestionModule.lastHintIndex]).fadeIn(400)
        }
        ),
          activityQuestionModule.lastHintIndex++,
          activityQuestionModule.lastHintIndex %= e.messages.hint_messages.length)
      }
      ,
      e.setupCameraActions = function (e) {
        return function (t) {
          if ($(".activity-question-widget .camera-settings__selector").empty(),
            $(".activity-question-widget .camera-settings__selector").show(),
            0 == t.length) {
            const e = new Option(activityQuestionModule.getLocalization("messages", "no_camera"), "", !0);
            $(".activity-question-widget .camera-settings__selector").append(e)
          }
          for (device of t)
            activityQuestionModule.log(device),
              "" != device.label.trim() && "videoinput" === device.kind && $(".activity-question-widget .camera-settings__selector").append(new Option(device.label, device.deviceId));
          return $(".activity-question-widget .camera-settings__selector").on("change", (function () {
            activityQuestionModule.defaultCamera = this.value,
              activityCaptureModule.changeCamera(e, this.value)
          }
          )),
            activityQuestionModule.defaultCamera && ($(`.activity-question-widget .camera-settings__selector option[value=${activityQuestionModule.defaultCamera}]`).prop("selected", !0),
              activityCaptureModule.changeCamera(e, activityQuestionModule.defaultCamera)),
            !0
        }
      }
      ;
    var r = function (t) {
      activityQuestionModule.checkMobile() && ("landscape-primary" == t && window.innerWidth <= 767 ? (e.getRotationNotAllowedModal().css("display", "flex"),
        activityQuestionModule.pause()) : (e.getRotationNotAllowedModal().hide(),
          activityQuestionModule.play()))
    }
      , l = function () {
        var e = !1;
        try {
          e = "landscape-primary" == screen.orientation.type
        } catch (t) {
          e = 90 == Math.abs(window.orientation)
        }
        r(e ? "landscape-primary" : "portrait-primary")
      };
    e.unfoldWidget = function () {
      activityQuestionModule.vjs_dim_saved = $("style.vjs-styles-dimensions").html(),
        $("body").css("overflow", "hidden"),
        e.show(),
        activityQuestionModule.play()
    }
      ,
      e.getWidgetContentElement = function () {
        return $(".activity-question-widget__content")
      }
      ,
      e.setupUnmuteHandler = function () {
        e.getWidgetContentElement().on("touchstart", (function () {
          activityQuestionModule.ampInstance.muted(!1),
            e.getActivityEnableVolumeOnIOSLabelElement().hide()
        }
        ))
      }
      ,
      e.getWebCameraStreamElement = function () {
        return $(".activity-question-widget .activity-question-streams__webcam").get(0)
      }
      ,
      e.getUserRawVideoElement = function () {
        return $(".activity-question-widget .camera-settings__raw-user-video").get(0)
      }
      ,
      e.getCameraNotFoundDummyElement = function () {
        return $(".activity-question-widget .camera-not-detected-dummy")
      }
      ,
      e.getUserVideoCanvasContext = function () {
        return $(".activity-question-widget .activity-question-user-section__video").get(0).getContext("2d")
      }
      ,
      e.getHighlightsContainer = function () {
        return $(".highlight-video-canvas__outer .single-windowed").get(0)
      }
      ,
      e.addInlineAttributeToVideos = function () {
        $(".activity-question-widget video").attr("playsinline", ""),
          $(".activity-question-widget video").attr("webkit-playsinline", "")
      }
      ,
      e.getMobileControlBlockElement = function () {
        return $(".activity-mobile-control-block")
      }
      ,
      e.show = function () {
        if (function () {
          try {
            screen.orientation.onchange = function (e) {
              r(e.target.type)
            }
          } catch (e) {
            window.addEventListener("orientationchange", (function () {
              l()
            }
            ))
          }
        }(),
          l(),
          activityQuestionModule.hidden) {
          $("#liveVideoFront").addClass("liveVideo-activity-question"),
            activityQuestionModule.streamParent = $("#liveVideoFront").parent(),
            $("#liveVideoFront").detach().prependTo(".activity-question-widget__content"),
            $(".infoBlock--center").hide(),
            $(".activity-question-widget").show(),
            $(".layout__StickyContainer").css("z-index", "0"),
            $(".scrollToBottom").css("z-index", "0"),
            $(".scrollToBottom").hide();
          let t = e.getFrameContainerElement().getElementsByTagName("video")[0];
          t && t.pause(),
            activityQuestionModule.hidden = !1
        }
      }
      ,
      e.hide = function () {
        activityQuestionModule.hidden || ($("#liveVideoFront").removeClass("liveVideo-activity-question"),
          $("#liveVideoFront").detach().appendTo(activityQuestionModule.streamParent),
          $(".infoBlock--center").show(),
          $(".activity-question-widget").hide(),
          $(".layout__StickyContainer").css("z-index", "999"),
          $(".scrollToBottom").css("z-index", "999"),
          $(".scrollToBottom").show(),
          activityQuestionModule.pause(),
          activityQuestionModule.hidden = !0)
      }
      ,
      e.getResultsElement = function () {
        return $(".activity-question-widget .activity-question-results")
      }
      ,
      e.getActivityGameWidgetElement = function () {
        return $(".activity-question-widget .activity-question-widget__game")
      }
      ,
      e.getCameraSettingsElement = function () {
        return $(".activity-question-widget .activity-question-widget__camera-settings")
      }
      ,
      e.foldWidget = function () {
        activityQuestionModule.vjs_dim_saved && $('style.vjs-styles-dimensions:contains("height: 0")').html(activityQuestionModule.vjs_dim_saved),
          $("body").css("overflow", ""),
          activityQuestionModule.pause(),
          e.hide()
      }
      ,
      e.getExternalTimerElement = function () {
        return $(".countDownTimer__Seconds")
      }
      ,
      e.hideLeaders = function () {
        $(".activity-question-widget .leaders").hide()
      }
      ,
      e.renderLeaders = function () {
        if (activityQuestionModule.isFinalLeaderboardRendered)
          return;
        let e = $(".leaderInfo");
        if ($(".activity-question-widget .leaders__player").remove(),
          e.length < 1)
          return void $(".leaders__no-results-hint").show();
        $(".leaders__no-results-hint").hide(),
          $(".activity-question-widget .leaders-paging").hide();
        let t = {};
        for (let i = 0; i < Math.min(5, e.length); i++) {
          let o = e[i];
          activityQuestionModule.log(o.innerHTML);
          let n = $(o)
            , a = parseInt($(n.find(".leaderInfo__Place")).text());
          if (0 == a && (a = 1),
            a > 0) {
            let e = $(n.find(".leaderInfo__Name")).text()
              , i = $(n.find(".leaderInfo__Score")).text()
              , o = $(n.find(".leaderInfo__Foto")).css("background-image");
            o = o.replace("url(", "").replace(")", "").replace(/\"/gi, ""),
              t[a] = {
                place: a,
                name: e,
                score: i,
                photo: o
              }
          }
        }
        activityQuestionModule.log(t);
        for (let e in t) {
          let i = t[e];
          activityQuestionModule.log(i);
          let o = $(d(i.place, i.name, i.score, i.photo));
          i.place <= 3 && o.addClass(`leaders__${i.place}-place`),
            o.appendTo($(".activity-question-widget .leaders"))
        }
      }
      ,
      e.showLeaders = function () {
        $(".activity-question-widget .leaders").show()
      }
      ,
      e.getActivityEnableVolumeOnIOSLabelElement = function () {
        return $(".activity-question-widget .activity-enable-volume")
      }
      ,
      e.getCameraSettingsSaveButton = function () {
        return $(".activity-question-widget .camera-settings__save")
      }
      ;
    let d = function (e, t, i, o, n = !1) {
      return `\n            <div class="leaders__userBlock leaders__player">\n                <div class="leaders__userBlock__element leaders__userBlock__place">${e}</div>\n                <div class="leaders__userBlock__element leaders__userBlock__name">\n                    <div class="leaders__userBlock__name-inner-image">\n                           <img src="${o}" />\n                    </div>\n                    <div class="leaders__userBlock__name-inner-text">\n                           <span>${t}</span>\n                    </div>\n                </div>\n                <div class="leaders__userBlock__element leaders__userBlock__scores"><div class="leaders__userBlock__scores__inner"><span>${i}</span>${e <= 3 ? "<div class='place-img'><img src='/app/images/activityquestion/" + e + "place.svg'></div>" : ""}</div></div>\n            </div>\n        `
    };
    e.showTimerToNextActivity = function () {
      $(".activity-question-widget .activity-question-widget__nextafter").show()
    }
      ,
      e.hideTimerToNextActivity = function () {
        $(".activity-question-widget .activity-question-widget__nextafter").hide(),
          activityQuestionModule.nextActivityInterval && (clearInterval(activityQuestionModule.nextActivityInterval),
            activityQuestionModule.nextActivityInterval = void 0)
      }
      ,
      e.setupCameraSettingsSaveButton = function (t) {
        const i = e.getCameraSettingsSaveButton();
        i.off("click"),
          i.on("click", i => {
            e.getCameraSettingsElement().hide(),
              e.getActivityGameWidgetElement().show(),
              activityQuestionModule.cameraSettingsOpened = !1,
              t()
          }
          )
      }
      ,
      e.getGameTopPanelElement = function () {
        return $(".activity-question-widget .game-top-panel")
      }
      ,
      e.setTargetVideoWidthAndLeft = function (e, t) {
        $(".activity-question-widget .activity-question-videos__target-section_horizontal-video video").css("width", e + "px"),
          $(".activity-question-widget .activity-question-videos__target-section_horizontal-video video").css("left", t + "px")
      }
      ,
      e.setArrowActivity = function (e, t) {
        if (t)
          return $(".highlight-control-element-arrow-" + e).show(),
            void $(`.highlight-control-element-arrow-${e}__inactive`).hide();
        $(".highlight-control-element-arrow-" + e).hide(),
          $(`.highlight-control-element-arrow-${e}__inactive`).show()
      }
      ,
      e.setupArrowsOnclickHandlers = function (e, t) {
        $(".highlight-control-element-arrow-left").off("click"),
          $(".highlight-control-element-arrow-left").on("click", e),
          $(".highlight-control-element-arrow-right").off("click"),
          $(".highlight-control-element-arrow-right").on("click", t)
      }
      ,
      e.timersShowAndSetTime = function (e, t) {
        $(".activity-question-widget .activity-question-widget__after-seconds").text(e + ":" + t),
          $(".activity-question-widget .timer__label_top-panel").show(),
          $(".activity-question-widget .timer__value_next-stage").text(e + ":" + t)
      }
      ,
      e.timersSetNoTime = function () {
        $(".activity-question-widget .activity-question-widget__after-seconds").text("..."),
          $(".activity-question-widget .timer__label_top-panel").hide(),
          $(".activity-question-widget .timer__value_next-stage").hide()
      }
      ,
      e.renderAndDisplayScores = function (e) {
        $(".activity-question-widget .scoring-grade-system").show(),
          $(".activity-question-widget .activity-question-results__score-value").text(" " + e.score.toString()),
          $(".activity-question-widget .activity-question-results__score-value-max").text(" " + (e.checkpoints_count * activityScenariosModule.MAX_CHECKPOINT_SCORE).toString()),
          $(".activity-question-widget .scoring-grade-system").show()
      }
      ,
      e.getNoHighlightsTextElement = function () {
        return $(".highlight-video-canvas__no-highlights-text")
      }
      ,
      e.getFrameContainerElement = function () {
        return $(".imageBlock .frameContainer").get(0)
      }
      ,
      e.setHighlightsNumberAndHideNoHighlightsText = function (t, i) {
        $(".highlight-control-element__label").text(t + 1 + " / " + i.length),
          e.getNoHighlightsTextElement().hide()
      }
      ,
      e.setOnCameraChangeButtonClickedHandler = function () {
        let e = async function (e) {
          activityQuestionModule.pause(),
            await activityCaptureModule.setUpCamera(),
            activityQuestionModule.play()
        };
        $(".activity-question-widget .activity-question_camera-settings").on("click", e),
          $(".activity-question-widget .activity-question-user-section__content").on("click", e)
      }
      ;
    var c = null
      , u = 0;
    e.setTargetVideoLoading = function (t) {
      t ? (c && n(c),
        c = setInterval((function () {
          u = (u + 1) % 4;
          var e = global_Localization.localization_data.activity.loading + ".".repeat(u);
          $(".activity-question-widget .activity-loading-text-mobile").text(e),
            $(".activity-question-widget .activity-question-widget__loading-target").text(e)
        }
        ), 1200),
        activityQuestionModule.checkMobile() ? $(".activity-question-widget .activity-loading-text-mobile").css("display", "flex") : $(".activity-question-widget .activity-question-widget__loading-target").show(),
        e.getActivityEnableVolumeOnIOSLabelElement().hide(),
        $(".activity-question-widget .activity-question-target-section__video").css("opacity", 0)) : (n(c),
          c = null,
          $(".activity-question-widget .activity-loading-text-mobile").hide(),
          $(".activity-question-widget .activity-question-widget__loading-target").hide(),
          $(".activity-question-widget .activity-question-target-section__video").css("opacity", 1))
    }
      ,
      e.setHorizontalOrientationMode = function () {
        $(".activity-question-widget .activity-question-videos__user-section").removeClass("activity-question-videos__user-section_vertical-video").addClass("activity-question-videos__user-section_horizontal-video"),
          $(".activity-question-widget .activity-question-videos__target-section").removeClass("activity-question-videos__target-section_vertical-video").addClass("activity-question-videos__target-section_horizontal-video"),
          $(".activity-question-widget .activity-question-user-section__content").removeClass("activity-question-user-section__content_vertical-video").addClass("activity-question-user-section__content_horizontal-video"),
          $(".activity-question-widget .activity-question-target-section__content").removeClass("activity-question-target-section__content_vertical-video").addClass("activity-question-target-section__content_horizontal-video"),
          $(".activity-question-widget .activity-question-widget_fullscreen").removeClass("activity-question-widget_fullscreen_vertical-video").addClass("activity-question-widget_fullscreen_horizontal-video"),
          $(".activity-question-widget .activity-question-widget__game").removeClass("activity-question-widget__game_vertical-video").addClass("activity-question-widget__game_horizontal-video"),
          $(".activity-question-widget .activity-repeat-dance-text").show(),
          $(".activity-question-widget .activity-tiktok-text").hide(),
          $(".activity-question-widget .activity-question-widget .timer").show(),
          $(".activity-question-widget .activity-question-widget .timer-compact").hide()
      }
      ,
      e.setVerticalOrientationMode = function () {
        $(".activity-question-widget .activity-question-videos__user-section").removeClass("activity-question-videos__user-section_horizontal-video").addClass("activity-question-videos__user-section_vertical-video"),
          $(".activity-question-widget .activity-question-videos__target-section").removeClass("activity-question-videos__target-section_horizontal-video").addClass("activity-question-videos__target-section_vertical-video"),
          $(".activity-question-widget .activity-question-user-section__content").removeClass("activity-question-user-section__content_horizontal-video").addClass("activity-question-user-section__content_vertical-video"),
          $(".activity-question-widget .activity-question-target-section__content").removeClass("activity-question-target-section__content_horizontal-video").addClass("activity-question-target-section__content_vertical-video"),
          $(".activity-question-widget .activity-question-widget_fullscreen").removeClass("activity-question-widget_fullscreen_horizontal-video").addClass("activity-question-widget_fullscreen_vertical-video"),
          $(".activity-question-widget .activity-question-widget__game").addClass("activity-question-widget__game_vertical-video").removeClass("activity-question-widget__game_horizontal-video"),
          $(".activity-question-widget .activity-repeat-dance-text").hide(),
          $(".activity-question-widget .activity-tiktok-text").show(),
          $(".activity-question-widget .activity-question-widget .timer").hide(),
          $(".activity-question-widget .activity-question-widget .timer-compact").show()
      }
      ;
    e.nextCheckpointsLine = $(".activity-question-widget .activity-question-target-section__next-checkpoints-line"),
      e.clearCheckpointsLine = function () { }
      ,
      e.showCheckpointsLine = function (e) { }
      ,
      e.shiftNextCheckpointsLine = function (e, t = !1) { }
      ;
    return e.addNextCheckpointMiniature = function (e, t, i = !1, o = !1, n) { }
      ,
      e.dotsPagination = function (e, t) {
        this.nPages = t,
          this.element = $(e),
          this.element.empty(),
          this.dotsElements = [];
        for (let e = 0; e < this.nPages; e++) {
          let t = $(`<div class="dots-pagination__dot ${"dots-pagination__dot_" + e.toString()}"></div>`);
          this.element.append(t),
            this.dotsElements.push(t)
        }
        this.setPosition = function (e) {
          this.element.find(".dots-pagination__dot").removeClass("dots-pagination__dot_active"),
            this.element.find(".dots-pagination__dot").addClass("dots-pagination__dot_inactive"),
            this.element.find(".dots-pagination__dot_" + e.toString()).removeClass("dots-pagination__dot_inactive"),
            this.element.find(".dots-pagination__dot_" + e.toString()).addClass("dots-pagination__dot_active")
        }
      }
      ,
      e.getSkipButton = function () {
        return $(".activity-question-widget .activity-question__skip")
      }
      ,
      e.getRedanceButton = function () {
        return $(".activity-question__redance")
      }
      ,
      e.getSendResultButton = function () {
        return $(".activity-question-widget .activity-question__send-result")
      }
      ,
      e
  }(activityUIModule || {})
  , ActivityLocalStorageModule = function (e) {
    return e.localStorageTools = {
      name: "activity_myquiz",
      resultName: "activity_myquiz_result",
      readResult: function () {
        var e = localStorage.getItem(this.resultName);
        if (e && 0 != e.length)
          return JSON.parse(e)
      },
      readFrames: function () {
        var e = localStorage.getItem(this.name);
        return JSON.parse(e)
      },
      writeResult: function (e) {
        localStorage.setItem(this.resultName, JSON.stringify(e))
      },
      writeFrames: function (e) {
        localStorage.setItem(this.name, JSON.stringify(e))
      },
      clear: function () {
        localStorage.removeItem(this.name),
          localStorage.removeItem(this.resultName)
      }
    },
      e
  }(ActivityLocalStorageModule || {})
  , checkpointScoreCounterModule = function (e) {
    return e.ScoreCounter = function (e) {
      for (var t of (this.score = 0,
        this.checkpoints = [],
        e.checkpoints_list))
        this.checkpoints.push({
          begin: t.time - .5,
          exact: t.time,
          end: t.time + .5
        });
      this.checkpoints[this.checkpoints.length - 1].end = e.video_length - .04,
        this.blocksCount = (this.checkpoints.length + 1 - 1) / 1,
        this.checkpoints = function (e) {
          for (var t = 0; t < e.length - 1; t++) {
            var i = e[t + 1].time - e[t].time;
            i < .75 ? (e[t].end = e[t].time + 2 * i / 3,
              e[t + 1].begin = e[t].end) : i < 1 && (e[t].end = e[t].time + .5,
                e[t + 1].begin = e[t].end)
          }
          return e
        }(this.checkpoints),
        this.curBlockScores = [],
        this.pushNewCheckpointScore = function (e, t) {
          this.curBlockScores.push({
            score: e,
            data: t
          }),
            1 == this.curBlockScores.length && this.flushBlock()
        }
        ,
        this.flushBlock = function () {
          this.curBlockScores.sort((function (e, t) {
            return -(e.score - t.score)
          }
          ));
          for (var e = Math.min(1, this.curBlockScores.length), t = 0; t < e; t++)
            if (null != this.curBlockScores[t].score && -1 !== this.curBlockScores[t].score)
              for (var i of (activityQuestionModule.log("Add score: ", this.curBlockScores[t].score),
                this.score += this.curBlockScores[t].score,
                this.onCheckpointAddToScore))
                i({
                  score: this.curBlockScores[t].score,
                  data: this.curBlockScores[t].data
                });
          this.curBlockScores = []
        }
        ,
        this.currentCheckpoint = 0,
        this.currentBestCheckpoint = -1,
        this.currentBestCheckpointData = null,
        this.newScore = function (e, t, i) {
          for (; this.currentCheckpoint < this.checkpoints.length && this.checkpoints[this.currentCheckpoint].end < i;) {
            for (var o of (this.pushNewCheckpointScore(this.currentBestCheckpoint, this.currentBestCheckpointData),
              this.currentCheckpoint++,
              this.onCheckpointPassed))
              o({
                checkpointScore: this.currentBestCheckpoint,
                hasNext: this.currentCheckpoint < this.currentCheckpoint.length
              });
            this.currentBestCheckpoint = -1,
              this.currentBestCheckpointData = null
          }
          return this.isEnd() ? (this.flushBlock(),
            !1) : !(this.checkpoints[this.currentCheckpoint].begin > i) && (e > this.currentBestCheckpoint && (this.currentBestCheckpoint = e,
              this.currentBestCheckpointData = t(),
              !0))
        }
        ,
        this.isEnd = function () {
          return this.currentCheckpoint >= this.checkpoints.length
        }
        ,
        this.onCheckpointPassed = [],
        this.addOnCheckpointPassedListener = function (e) {
          this.onCheckpointPassed.push(e)
        }
        ,
        this.onCheckpointAddToScore = [],
        this.addOnCheckpointAddToScoreListener = function (e) {
          this.onCheckpointAddToScore.push(e)
        }
    }
      ,
      e
  }(checkpointScoreCounterModule || {})
  , activityScenariosModule = function (e) {
    e.MAX_CHECKPOINT_SCORE = 50;
    let t = function (e, t) {
      return e ? Math.ceil(50 * (300 - (i = t,
        o = 250,
        n = 550,
        Math.min(Math.max(i, o), n) - 250)) / 300) : 0;
      var i, o, n
    };
    var i = [];
    e.calibrationData = {
      shoulder_dist: void 0,
      hips_dist: void 0
    };
    let o = function (e, t) {
      return Math.sqrt((e.x - t.x) * (e.x - t.x) + (e.y - t.y) * (e.y - t.y))
    }
      , n = function (e) {
        let t = {};
        return t.shoulder_dist = o(e.left_shoulder, e.right_shoulder),
          t.hips_dist = o(e.left_hip, e.right_hip),
          t
      };
    var a = function (e, t, i, o, n) {
      this.checkpointsURL = e,
        this.userHandler = t,
        this.originalHandler = i,
        this.config = o,
        this.checkpoints = void 0,
        this.model_type = void 0,
        this.running = !1,
        this.callback = n,
        this.setCheckpoints = function () { }
        ,
        this.startSession = function () { }
        ,
        this.preloadCheckpoints = function () {
          this.model_type = void 0;
          let e = new XMLHttpRequest
            , t = this;
          return new Promise((function (i, o) {
            e.onload = function () {
              if (4 === e.readyState && 200 === e.status) {
                let o = JSON.parse(e.responseText);
                t.setCheckpoints(o),
                  t.model_type = o.type,
                  t.model_type || (t.model_type = "pose"),
                  activityQuestionModule.log("Checkpoints loaded"),
                  i()
              } else
                window.alert("Error while loading checkpoints. Try to reload the page."),
                  o()
            }
              ,
              e.open("GET", t.checkpointsURL, !0),
              e.send()
          }
          ))
        }
        ,
        this.run = function () {
          i.src.currentTime(1e-7),
            i.src.pause(),
            this.startSession()
        }
        ,
        this.stop = function () {
          this.running = !1
        }
    };
    return e.SetupScenario = function (t, o, s, r) {
      this.__proto__ = new a(s.checkpoints_url, t, o, s, r),
        this.hud = new activityUIModule.HUDController,
        this.setCheckpoints = function (e) {
          this.checkpoints = e.checkpoints_list
        }
        ,
        this.processFrame = function () {
          if (this.skipped && (activityQuestionModule.log("You have just skipped the calibration"),
            this.callback({
              success: !0,
              best_score: 0
            })),
            !activityQuestionModule.hidden) {
            let e = $(".imageBlock .frameContainer").get(0).getElementsByTagName("video")[0];
            e && e.pause()
          }
          let t = activityQuestionModule.userPoseEstimator.pose
            , i = void 0;
          if (void 0 !== t)
            for (let o = 0; o < this.checkpoints.length; o++) {
              let a = this.checkpoints[o].pose;
              i = activityQuestionScoringModule.score(t, a),
                i.score < this.config.threshold && (activityQuestionModule.log("setup passed"),
                  e.calibrationData = n(activityQuestionScoringModule.getKeypointsPositionsMap(t.raw_pose.keypoints)),
                  this.stop(),
                  this.hud.bottomMessage(null),
                  this.callback({
                    success: !0,
                    best_score: i.score
                  }))
            }
          activityUIModule.debugInfo.ui_fps = 1 / this.processingTime,
            t && (activityUIModule.debugInfo.pe_fps = 1 / (t.time / 1e3),
              activityUIModule.debugInfo.userPose = t),
            i && (activityUIModule.debugInfo.score = Math.round(i.score)),
            activityUIModule.updateDebug()
        }
        ,
        this.lastProcessing = Date.now(),
        this.processingTime = 0,
        this.scheduleProcessing = function () {
          let e = Date.now();
          if (this.processingTime = (e - this.lastProcessing) / 1e3,
            this.lastProcessing = e,
            this.running) {
            try {
              this.processFrame()
            } catch (e) {
              activityQuestionModule.error(e)
            }
            window.requestAnimationFrame(this.scheduleProcessing.bind(this))
          }
        }
        ,
        this.startSession = function () {
          this.hud.bottomMessage(activityQuestionModule.getLocalization("messages", "setup_message")),
            this.hud.showNextCheckpointsLine(!1),
            this.hud.setScore(null),
            this.skipped = !1,
            this.__proto__.running = !0,
            activityQuestionModule.play(),
            ActivityLocalStorageModule.localStorageTools.clear(),
            i = [],
            this.scheduleProcessing()
        }
    }
      ,
      e.MainScenario = function (o, n, s, r, l, d) {
        this.__proto__ = new a(r.checkpoints_url, o, n, r, l),
          this.nextCheckpointHandler = s,
          this.checkpoints = void 0,
          this.videoLength = void 0,
          this.eventListener = d,
          this.curGlobalTime = 0,
          this.firstNotSeenCheckpoint = 0,
          this.curBestScore = 1e6,
          this.curBestResult = void 0,
          this.curBestScoreErrorDetection = 1e6,
          this.showedApproval = !1,
          this.curBestResultErrorDetection = void 0,
          this.result = 0,
          this.correct = 0,
          this.resultsList = [],
          this.hud = new activityUIModule.HUDController,
          this.loading = !1,
          this.frameNum = 0;
        this.centerPositionOfHumanInVideo = null,
          this.successesInARow = 0,
          this.scoreCounter = null,
          this.checkpointsMap = null,
          this.setCheckpoints = function (e) {
            this.checkpointsMap = e;
            let t = [0]
              , i = e.checkpoints_list;
            this.videoLength = e.video_length;
            for (let e = 0; e < i.length - 1; ++e)
              t.push(i[e + 1].time * (1 / 3) + i[e].time * (2 / 3) + .2);
            t.push(Math.max(t[t.length - 1], e.video_length)),
              this.checkpoints = [];
            for (let e = 0; e < i.length; ++e) {
              let o = t[e + 1] - t[e];
              this.checkpoints.push(i[e]),
                this.checkpoints[e].duration = 1e3 * o
            }
          }
          ;
        let c = {
          scoring: {},
          startX: void 0,
          frame: void 0,
          videoFrame: void 0
        };
        this._checkIsEnd = function () {
          return !!this.scoreCounter.isEnd() && (activityQuestionModule.log("Your score is " + this.result),
            this.stop(),
            this.callback(activityQuestionModule.result),
            !0)
        }
          ,
          this.processFrame = function () {
            if (c.frame = void 0,
              this.skipped)
              return activityQuestionModule.log("You have just skipped the video"),
                activityQuestionModule.log("Your score is " + this.result),
                activityQuestionModule.log(`You passed ${this.result} checkpoints`),
                this.stop(),
                this.callback(activityQuestionModule.result),
                !1;
            if (this._checkIsEnd())
              return !1;
            if (!activityQuestionModule.hidden) {
              let e = $(".imageBlock .frameContainer").get(0).getElementsByTagName("video")[0];
              e && e.pause()
            }
            let i = this.originalHandler.src.currentTime()
              , n = Math.round(this.originalHandler.src.duration() - i);
            this.hud.setTimer(n, i / this.originalHandler.src.duration() * 100);
            let a = activityQuestionModule.userPoseEstimator.pose;
            activityCaptureModule.addLogRecord("estimation", {
              timestamp: i,
              pose: a
            });
            let s = this.checkpoints[this.scoreCounter.currentCheckpoint].pose;
            activityCaptureModule.addLogRecord("current_target", {
              timestamp: i,
              pose: s
            });
            let r = activityQuestionScoringModule.score(a, s);
            for (this.centerPositionOfHumanInVideo = r.centerPositionB,
              activityCaptureModule.addLogRecord("scoring", {
                timestamp: i,
                result: r
              }); this.firstNotSeenCheckpoint < this.checkpoints.length && this.originalHandler.src.currentTime() >= this.checkpoints[this.firstNotSeenCheckpoint].time;)
              this.firstNotSeenCheckpoint++,
                this.curBestScoreErrorDetection = 1e6,
                this.showedApproval = !1,
                this.curBestResultErrorDetection = void 0,
                this.firstNotSeenCheckpoint < this.checkpoints.length && (c.scoring = r,
                  c.startX = o.lstStartX);
            void 0 !== a && a.detected && r.score < this.curBestScore && (r.score <= 550 && this.curBestScore > 550 && (this.successesInARow + 1 >= 3 && (this.successesInARow = -1),
              this.hud.showIndicator(750),
              this.eventListener.onUserSuccess()),
              c.scoring = r,
              this.curBestScore = r.score,
              this.curBestResult = r),
              activityUIModule.debugInfo.ui_fps = 1 / this.processingTime,
              a && (activityUIModule.debugInfo.pe_fps = 1 / (a.time / 1e3),
                activityUIModule.debugInfo.userPose = a),
              s && (activityUIModule.debugInfo.targetPose = s),
              r && (activityUIModule.debugInfo.score = Math.round(r.score),
                activityUIModule.debugInfo.scoringInfo = r),
              activityUIModule.updateDebug();
            let l, d = r.score;
            l = t(!0, d),
              positive = l > 0;
            l >= 35 && !this.showedApproval && (this.showedApproval = !0,
              activityQuestionModule.checkMobile() ? this.hud.approvalMessageOnMobile() : Math.random() < .2 ? this.hud.approvalMessage() : this.hud.firework());
            var u = o.lstStartX
              , h = this;
            return async function (t) {
              let n = t.scoreCounter.currentCheckpoint
                , a = r
                , s = u
                , d = i
                , c = t.frameNum;
              activityQuestionModule.userPoseEstimator.lastFrame(.7).then(e => {
                activityCaptureModule.pushUserFrame(c, e)
              }
              ),
                function (t, i, n, a, s, r) {
                  t.scoreCounter.newScore(l, (function () {
                    return !n.detected || !n.confidences || Math.min(...n.confidences) < .25 ? null : (activityQuestionModule.log("saving", e.savedHighlights, " nth highlight"),
                    {
                      frameTimestamp: s,
                      bests: {
                        frameID: r,
                        scoring: n,
                        startX: a
                      },
                      head: h.config.detect_head,
                      torso: h.config.detect_torso,
                      legs: h.config.detect_legs,
                      hips: h.config.detect_hips,
                      dstW: activityQuestionModule.userHandler.dst.width,
                      dstH: activityQuestionModule.userHandler.dst.height,
                      lstStartX: a,
                      canvasW: o.displayContext.canvas.width,
                      checkpointNumber: i
                    })
                  }
                  ), s)
                }(t, n, a, s, d, c)
            }(this),
              this.frameNum++,
              this.hud.setScore(this.scoreCounter.score),
              this.result = this.scoreCounter.score,
              activityQuestionModule.result = {
                score: this.result,
                correct: this.result,
                mistakes: this.checkpoints.length - this.result,
                checkpoints_count: this.checkpoints.length,
                is_victory: this.result / this.checkpoints.length >= activityQuestionModule.mainConfig.victory_threshold
              },
              ActivityLocalStorageModule.localStorageTools.writeResult(activityQuestionModule.result),
              !0
          }
          ,
          this.lastProcessing = Date.now(),
          this.processingTime = 0,
          this.scheduleProcessing = function () {
            let e = Date.now();
            this.processingTime = (e - this.lastProcessing) / 1e3,
              this.lastProcessing = e;
            let t = !0;
            if (this.running) {
              let e = 0;
              try {
                this.originalHandler.src.readyState <= 2 && !(this.originalHandler.src.currentTime() >= this.videoLength - 1e-7) ? (e = 250,
                  !this.loading && this.running && (this.loading = !0)) : (this.loading && (this.loading = !1),
                    t = this.processFrame())
              } catch (e) {
                activityQuestionModule.error(e)
              }
              t && window.requestAnimationFrame(this.scheduleProcessing.bind(this))
            }
          }
          ,
          this.initResult = function () {
            var e = this;
            this.preloadCheckpoints().then(() => {
              activityQuestionModule.log("init result"),
                activityQuestionModule.result = {
                  score: 0,
                  correct: 0,
                  mistakes: e.checkpoints.length - 0,
                  checkpoints_count: e.checkpoints.length,
                  is_victory: 0 / e.checkpoints.length >= activityQuestionModule.mainConfig.victory_threshold
                },
                ActivityLocalStorageModule.localStorageTools.clear(),
                i = [],
                ActivityLocalStorageModule.localStorageTools.writeFrames(i),
                ActivityLocalStorageModule.localStorageTools.writeResult(activityQuestionModule.result)
            }
            )
          }
          ,
          this.initResult(),
          this.startSession = function () {
            this.resultsList = [],
              this.curGlobalTime = 0,
              this.result = 0,
              this.correct = 0,
              this.successesInARow = 0,
              e.savedHighlights = 0,
              this.loading = !0,
              this.skipped = !1,
              this.scoreCounter = new checkpointScoreCounterModule.ScoreCounter(this.checkpointsMap),
              this.scoreCounter.addOnCheckpointPassedListener(this.eventListener.onCheckpointPassed),
              activityQuestionModule.startHintMessagesTimer(),
              this.scoreCounter.addOnCheckpointAddToScoreListener((function (t) {
                score = t.score,
                  data = t.data,
                  data && (data.bests.scoreDelta = score,
                    activityQuestionModule.log("MIN CONF", Math.min(...data.bests.scoring.confidences)),
                    Math.min(...data.bests.scoring.confidences) >= .25 && (e.savedHighlights += 1,
                      data.bests.highlightsWidth = $(".activity-question-user-section__video").get(0).width,
                      data.bests.highlightsHeight = $(".activity-question-user-section__video").get(0).height,
                      data.bests.checkpointNumber = data.checkpointNumber,
                      function (e, t, o, n, a, s, r, l, d, c, u, h) {
                        let m = {
                          timestamp: e,
                          scoring: t.scoring,
                          scoreDelta: t.scoreDelta,
                          frameID: t.frameID,
                          userFrameWidth: t.highlightsWidth,
                          userFrameHeight: t.highlightsHeight,
                          positive: r,
                          detect_head: o,
                          detect_torso: n,
                          detect_legs: a,
                          detect_hips: s,
                          score: l,
                          width: d,
                          height: c,
                          startX: u,
                          displayContextWidth: h,
                          checkpointNumber: t.checkpointNumber
                        };
                        i.push(m)
                      }(data.frameTimestamp, data.bests, data.head, data.torso, data.legs, data.hips, score > 0, score, data.dstW, data.dstH, data.lstStartX, data.canvasW),
                      activityQuestionModule.log("WRITING TO STORAGE", i),
                      ActivityLocalStorageModule.localStorageTools.writeFrames(i),
                      data.bests.frame = void 0))
              }
              )),
              this.hud.bottomMessage(null),
              this.hud.showNextCheckpointsLine(!0),
              this.hud.setScore(0),
              $(".activity-question-widget .game-top-panel__score").show(),
              this.__proto__.running = !0,
              activityQuestionModule.play(),
              activityQuestionModule.result = {
                score: this.result,
                correct: this.correct,
                mistakes: this.checkpoints.length - this.correct,
                checkpoints_count: this.checkpoints.length,
                is_victory: this.correct / this.checkpoints.length >= activityQuestionModule.mainConfig.victory_threshold
              },
              ActivityLocalStorageModule.localStorageTools.clear(),
              i = [],
              ActivityLocalStorageModule.localStorageTools.writeFrames(i),
              ActivityLocalStorageModule.localStorageTools.writeResult(activityQuestionModule.result),
              activityUIModule.nextCheckpointsLine = $(".activity-question-widget .activity-question-target-section__next-checkpoints-line"),
              activityUIModule.clearCheckpointsLine();
            for (let e = 0; e < Math.min(3, this.checkpoints.length); ++e) {
              if (this.checkpoints) {
                let t = e
                  , i = t > 0 ? this.checkpoints[t - 1].pose : void 0
                  , o = this.checkpoints[t].pose;
                activityUIModule.addNextCheckpointMiniature(o, i, !1, activityQuestionModule.isVerticalVideo)
              }
              activityUIModule.shiftNextCheckpointsLine(1, activityQuestionModule.isVerticalVideo)
            }
            this.scheduleProcessing()
          }
          ,
          this.stop = function () {
            this.__proto__.stop(),
              this.hud.showNextCheckpointsLine(!1),
              this.hud.setScore(null),
              this.originalHandler.src.pause()
          }
      }
      ,
      e
  }(activityScenariosModule || {})
  , activityCaptureModule = function (e) {
    let t = {}
      , i = {};
    const o = function () { };
    let n = {}
      , a = []
      , s = [];
    e.cameraCaptured = !1,
      e.recordingTimes = {},
      e.addStream = function (e, n, a = o) {
        try {
          i[e] = new MediaRecorder(n, {
            mimeType: "video/mp4"
          })
        } catch (t) {
          i[e] = new MediaRecorder(n, {
            mimeType: "video/webm"
          })
        }
        activityQuestionModule.log("recording video as ", i[e].mimeType),
          t[e] = [],
          i[e].addEventListener("dataavailable", (function (i) {
            var o = performance.now();
            t[e].push(i.data),
              activityQuestionModule.log("pushing video blob part:", performance.now() - o)
          }
          )),
          i[e].addEventListener("stop", (function () {
            a()
          }
          ))
      }
      ,
      e.reset = function () {
        for (let e in t)
          t[e] = [];
        n = {},
          a = [],
          s = []
      }
      ,
      e.startRecording = function (t) {
        i[t] && "inactive" === i[t].state && (e.recordingTimes[t] = Date.now(),
          i[t].start(1e3))
      }
      ,
      e.pushUserFrame = function (e, t) {
        a.push([e, t])
      }
      ,
      e.pushVideoFrame = function (e, t) {
        s.push([e, t])
      }
      ,
      e.getFrames = function () {
        return [a, s]
      }
      ,
      e.stopRecording = function (e) {
        i[e] && "inactive" !== i[e].state && i[e].stop()
      }
      ,
      e.currentTime = function (t) {
        if (e.recordingTimes[t])
          return (Date.now() - e.recordingTimes[t]) / 1e3
      }
      ,
      e.getVideoLink = function (e) {
        if (!(e in t) || 0 === t[e].length)
          return null;
        return URL.createObjectURL(new Blob(t[e], {
          type: i[e].mimeType
        }))
      }
      ,
      e.addLogRecord = function (e, t) {
        e in n || (n[e] = []),
          n[e].push(t)
      }
      ,
      e.getLogsLink = function () {
        return URL.createObjectURL(new Blob([JSON.stringify(n)], {
          type: "text/plain"
        }))
      }
      ;
    let r = function (e, t) {
      let i = e.getVideoTracks()[0].getSettings();
      activityQuestionModule.log("STREAM", e, i),
        e.getVideoTracks()[0].onended = () => {
          activityQuestionModule.pause(),
            questionAnswerModule.activityCameraNotWorking(),
            activityUIModule.showCameraConnectionLostModal()
        }
        ,
        t.height = i.height,
        t.width = i.width,
        t.srcObject = e,
        t.play()
    };
    return e.stopStream = function (e) {
      e.getTracks().forEach((function (e) {
        e.stop()
      }
      ))
    }
      ,
      e.setUpCamera = function () {
        return new Promise((e, t) => {
          activityUIModule.setupCameraSettingsSaveButton(e),
            activityUIModule.getActivityGameWidgetElement().hide(),
            activityUIModule.getCameraSettingsElement().show(),
            activityQuestionModule.cameraSettingsOpened = !0
        }
        )
      }
      ,
      e.stopCameraCapture = function () {
        e.cameraCaptured && (e.stopStream(activityQuestionModule.userMediaStream),
          e.cameraCaptured = !1)
      }
      ,
      e.startCameraCapture = async function () {
        if (!e.cameraCaptured) {
          let i = await (t = activityUIModule.getWebCameraStreamElement(),
            navigator.mediaDevices.getUserMedia({
              video: {
                facingMode: "user",
                width: 1280,
                height: 720
              },
              audio: !1
            }).then((async function (e) {
              if (navigator.mediaDevices && navigator.mediaDevices.enumerateDevices)
                return activityQuestionModule.userMediaStream = e,
                  r(e, t),
                  await navigator.mediaDevices.enumerateDevices();
              activityQuestionModule.log("enumerateDevices() not supported.")
            }
            )).then(activityUIModule.setupCameraActions(t)).catch((function (e) {
              return activityQuestionModule.pause(),
                questionAnswerModule.activityCameraNotWorking(),
                activityUIModule.showCameraConnectionLostModal(),
                activityQuestionModule.error("An error occurred! " + e),
                !1
            }
            )));
          return e.cameraCaptured = i,
            i
        }
        var t;
        return !0
      }
      ,
      e.changeCamera = async function (t, i) {
        activityQuestionModule.userMediaStream && e.stopStream(activityQuestionModule.userMediaStream);
        let o = {
          video: {
            deviceId: {
              exact: i
            },
            facingMode: "user",
            width: {
              ideal: 1280
            },
            height: {
              ideal: 720
            }
          },
          audio: !1
        };
        activityQuestionModule.log("DATA", o);
        let n = await navigator.mediaDevices.getUserMedia(o);
        return activityQuestionModule.log("SETT", n.getVideoTracks()[0].getSettings()),
          activityQuestionModule.userMediaStream = n,
          r(n, t),
          !0
      }
      ,
      e
  }(activityCaptureModule || {})
  , activitySpeedCheckModule = function (e) {
    e.doStrictSpeedCheck = function (e, t = (() => { }
    )) {
      var i, o, n, a = new Image, s = (new Date).getTime(), r = "?spdt=" + s;
      a.onload = function () {
        alertBoxModule.connectionLostHide(),
          i = (new Date).getTime(),
          371384,
          n = (371384 / ((i - s) / 1e3)).toFixed(2),
          o = (n / 1024).toFixed(2),
          activityQuestionModule.log("speedKbps = " + o),
          o <= 1024 ? e() : t()
      }
        ,
        a.onerror = function () {
          e()
        }
        ,
        a.src = "/Images/dummy-image.png" + r
    }
      ;
    let t = void 0;
    return e.stopStrictSpeedCheck = function () {
      clearInterval(t)
    }
      ,
      e.startStrictSpeedCheck = function (i) {
        e.stopStrictSpeedCheck(),
          t = setInterval(() => {
            e.doStrictSpeedCheck(i)
          }
            , 1e4)
      }
      ,
      e
  }(activitySpeedCheckModule || {})
  , activityQuestionModule = function (e) {
    e.checkMobile = function () {
      let e = !1;
      return window.innerWidth <= 1367 && (e = !0),
        e
    }
      ,
      e.checkIOS = function () {
        return ["iPad Simulator", "iPhone Simulator", "iPod Simulator", "iPad", "iPod", "iPhone"].includes(navigator.platform) || navigator.userAgent.includes("Mac") && "ontouchend" in document
      }
      ,
      e.ZERO_RESULT = function () {
        return {
          score: 0,
          correct: 0,
          mistakes: 1,
          checkpoints_count: 1,
          is_victory: !1
        }
      }
      ,
      e.isRedanceLocked = !1,
      e.isLastQuestion = !1,
      e.isFinalLeaderboardRendered = !1,
      e.lastHintIndex = 0;
    const t = !e.checkMobile();
    e.log = function (...e) {
      t && console.log("Activity:", ...e)
    }
      ;
    e.error = function (...e) {
      console.warn("Activity ERROR:", ...e)
    }
      ;
    var i = {
      messages: global_Localization.localization_data.activity.messages,
      parts: global_Localization.localization_data.activity.parts,
      results_image: global_Localization.localization_data.activity.results_image
    };
    e.startHintMessagesTimer = function () {
      e.hintMessagesTimer && (clearInterval(e.hintMessagesTimer),
        e.hintMessagesTimer = null),
        e.hintMessagesTimer = setInterval((function () {
          activityUIModule.showNextHintMessage(i)
        }
        ), 1e4)
    }
      ,
      e.stopHintMessageTimer = function () {
        e.hintMessagesTimer && clearInterval(e.hintMessagesTimer)
      }
      ,
      e.getLocalization = function (e, t) {
        return void 0 === t ? i[e] : i[e][t]
      }
      ,
      e.getLocalizationPhrase = function (t, ...i) {
        return i.map((function (i) {
          return e.getLocalization(t, i)
        }
        )).join(" ")
      }
      ;
    let o = function (e) {
      let t = function (e, i) {
        this() ? e(!0) : setTimeout(t.bind(this, e, i), 30)
      };
      return new Promise(t.bind(e))
    };
    e.onSlowInternet = function () {
      e.pause(),
        e.mainScenario.hud.showModalWindow(e.getLocalization("messages", "slow_internet_header"), e.getLocalization("messages", "slow_internet_text")).then(() => {
          e.play()
        }
        )
    }
      ,
      e.resultSavedMessage = function () { }
      ,
      e.result = void 0,
      e.defaultCamera = void 0,
      e.userMediaStream = void 0,
      e.retryCameraTimerId = null,
      e.vjs_dim_saved = null,
      e.setLoading = function (e) {
        activityUIModule.setLoading(e)
      }
      ,
      e.setTargetVideoLoading = function (e) {
        activityUIModule.setTargetVideoLoading(e)
      }
      ;
    var n = function (e) {
      e.translate(e.canvas.width / 2, e.canvas.height / 2),
        e.scale(-1, 1),
        e.translate(-e.canvas.width / 2, -e.canvas.height / 2)
    }
      , a = function (t, i, o, a, s) {
        this.src = t,
          this.dst = i,
          this.isUser = o,
          this.displayContext = s,
          this.dst && (this.dstContext = this.dst.getContext("2d", {
            alpha: !1
          })),
          this.crop = o,
          this.running = !1,
          this.lstStartX = void 0,
          this.resizeSource = o,
          this.dummyElement = a,
          this.getSrcVideo = function () {
            let e;
            return e = this.src instanceof HTMLMediaElement ? this.src : this.src.player_.children_[0],
              e
          }
          ,
          this.seekTo = function (e) {
            this.src instanceof HTMLMediaElement ? this.src.currentTime = e : this.src.currentTime(Math.round(10 * e) / 10)
          }
          ,
          this.findPersonContours = function (e) {
            let t = 1e5
              , i = 1e5
              , o = -1e5
              , n = -1e5;
            for (let a = 0; a < e.length; a++)
              e[a][0] < t && (t = e[a][0]),
                e[a][0] > o && (o = e[a][0]),
                e[a][1] < i && (i = e[a][1]),
                e[a][1] > n && (n = e[a][1]);
            return [t, i, o, n]
          }
          ,
          this.processFrame = function () {
            if (!this.dst)
              return;
            let t = this.getSrcVideo()
              , i = !1;
            if (this.isUser) {
              let e = t.srcObject;
              if (e) {
                i = !0;
                let t = e.getTracks()[0];
                t.getSettings && t.getSettings().facingMode && (i = "user" == t.getSettings().facingMode)
              }
            }
            if (this.dummyElement) {
              if (this.dummyElement && t.readyState < 2)
                return $(this.dst).hide(),
                  this.dummyElement.show(),
                  void (this.displayContext ? $(this.displayContext.canvas).hide() : $(this.dst).hide());
              $(this.dst).show(),
                this.dummyElement.hide(),
                this.displayContext ? $(this.displayContext.canvas).show() : $(this.dst).show()
            }
            if (this.displayContext) {
              let t = this.displayContext.canvas;
              e.ampInstance.videoWidth() < e.ampInstance.videoHeight() ? t.width === this.dst.width && t.height === this.dst.height || (t.width = this.dst.width,
                t.height = this.dst.height) : t.width === this.dst.height && t.height === this.dst.height || (t.width = this.dst.height,
                  t.height = this.dst.height)
            }
            if (this.resizeSource && void 0 !== this.src.srcObject && null !== this.src.srcObject) {
              let e = this.src.srcObject.getVideoTracks()[0].getSettings()
                , t = e.height
                , i = e.width;
              this.src.height = t,
                this.src.width = i
            }
            if (this.isUser) {
              let t, i = this.src.videoHeight;
              t = e.cameraSettingsOpened && e.checkMobile() ? i : this.src.videoWidth,
                this.dst.width === t && this.dst.height === i || (this.dst.width = t,
                  this.dst.height = i)
            } else
              this.dst.width === this.getSrcVideo().videoWidth && this.dst.height === this.getSrcVideo().videoHeight || (this.dst.width = this.getSrcVideo().videoWidth,
                this.dst.height = this.getSrcVideo().videoHeight);
            let o = t.width
              , a = t.height
              , s = 0
              , r = 0
              , l = this.dst.width
              , d = this.dst.height;
            if (this.crop && (a > o ? (d = l / o * a,
              s = (d - this.dst.height) / 2) : (l = d / a * o,
                r = (l - this.dst.width) / 2)),
              i && n(this.dstContext),
              !this.isUser || o < a) {
              if (this.dstContext.drawImage(t, Math.round(-r), Math.round(-s), Math.round(l), Math.round(d)),
                this.displayContext) {
                let e = this.displayContext.canvas.width
                  , t = e / this.dst.width * this.dst.height
                  , i = (t - this.dst.height) / 2;
                this.displayContext.drawImage(this.dst, 0, Math.round(-i), Math.round(e), Math.round(t))
              }
            } else {
              this.dstContext.drawImage(t, 0, 0);
              try {
                let t = e.userPoseEstimator.pose
                  , i = [1e5, 1e5, -1e5, -1e5];
                t && (i = this.findPersonContours(t.keypoints));
                let o = Math.floor((i[0] + i[2]) / 2);
                const n = 100;
                let a = this.displayContext.canvas.width / this.displayContext.canvas.height * this.dstContext.canvas.height;
                this.dstContext.canvas.height;
                if (i[0] < this.lstStartX - n || i[2] > this.lstStartX + a + n) {
                  let e = o - a / 2;
                  e <= 0 && (e = 0),
                    e >= this.dstContext.canvas.width - a && (e = this.dstContext.canvas.width - a),
                    this.lstStartX = e
                }
                this.lstStartX || (this.lstStartX = (this.dst.width - this.displayContext.canvas.width) / 2),
                  this.dst.width - this.lstStartX < this.displayContext.canvas.width && (this.lstStartX = (this.dst.width - this.displayContext.canvas.width) / 2),
                  this.displayContext.drawImage(this.dstContext.canvas, -this.lstStartX, 0)
              } catch (t) {
                e.error(t)
              }
            }
            i && n(this.dstContext)
          }
          ,
          this.scheduleProcessing = function () {
            if (this.running) {
              try {
                this.processFrame()
              } catch (t) {
                e.error(t)
              }
              window.requestAnimationFrame(this.scheduleProcessing.bind(this))
            }
          }
          ,
          this.launchProcessing = function () {
            !1 === this.running && (this.running = !0,
              window.requestAnimationFrame(this.scheduleProcessing.bind(this)))
          }
          ,
          this.stopProcessing = function () {
            this.running = !1
          }
      }
      , s = function (t) {
        this.target = t,
          this.loaded = !1,
          this.pose = void 0,
          this.config = void 0,
          this.type = void 0,
          this.lastFrame = void 0,
          this.isFirefox = navigator.userAgent.toLowerCase().indexOf("firefox") > -1,
          this.isSafari = navigator.vendor.match(/apple/i),
          this.shoudUseAsyncProcessor = this.isFirefox || this.isSafari,
          this.worker = new Worker("/app/dist/js/posenetWorker.js"),
          this.running = !1,
          this.workerCallback = function (t) {
            let i = t.data;
            "load" === i.task ? this.loaded = i.result : "get_pose" === i.task ? this.pose = i.result : "log" === i.task && e.log("PE WW:", i.message)
          }
            .bind(this),
          this.worker.onmessage = this.workerCallback,
          this.load = async function (t = "pose") {
            if (this.type === t)
              return;
            this.type = t,
              this.loaded = !1,
              e.log("Loading new model for type", t);
            this.shoudUseAsyncProcessor ? posenetAsyncModule.load({
              task: "load",
              useWASM: !1,
              forceSinglpose: !0,
              type: t
            }, this.workerCallback) : this.worker.postMessage({
              task: "load",
              useWASM: !1,
              type: t
            });
            const i = this;
            await o(() => i.loaded)
          }
          ,
          this.start = function (e) {
            this.running || (this.config = e,
              this.running = !0,
              this.process())
          }
          ,
          this.stop = function () {
            this.running = !1
          }
          ,
          this.lastFrame = async function (e) {
            return await new Promise(t => this.target.canvas.toBlob(t, "image/jpeg", e))
          }
          ,
          this.process = function () {
            if (this.running) {
              if (this.loaded)
                try {
                  let e = this.target.canvas.width
                    , t = this.target.canvas.height
                    , i = this.target.getImageData(0, 0, e, t);
                  this.shoudUseAsyncProcessor ? posenetAsyncModule.get_pose({
                    task: "get_pose",
                    imageData: i,
                    isTarget: this.config.isTarget,
                    head: this.config.head,
                    torso: this.config.torso,
                    hips: this.config.hips,
                    legs: this.config.legs,
                    useCache: this.config.useCache
                  }, this.workerCallback) : this.worker.postMessage({
                    task: "get_pose",
                    imageData: i,
                    isTarget: this.config.isTarget,
                    head: this.config.head,
                    torso: this.config.torso,
                    hips: this.config.hips,
                    legs: this.config.legs,
                    useCache: this.config.useCache
                  })
                } catch (e) { }
              setTimeout(this.process.bind(this), this.config.delay)
            }
          }
      };
    const r = function (t) {
      t.exception && e.error(t.exception)
    };
    let l = !0;
    e.onUserSuccess = r,
      e.onStatusChanged = r,
      e.onCheckpointPassed = r,
      e.onException = r,
      e.setOnCheckpointPassedListener = function (t) {
        e.onCheckpointPassed = t
      }
      ,
      e.setOnUserSuccessListener = function (t) {
        e.onUserSuccess = t
      }
      ,
      e.setOnStatusChangedListener = function (t) {
        e.onStatusChanged = t
      }
      ,
      e.setOnExceptionListener = function (t) {
        e.onException = t
      }
      ,
      e.muted = void 0,
      e.setMuted = function (t) {
        e.ampInstance && e.ampInstance.muted(t),
          e.muted = t
      }
      ,
      e.setMuted(!0),
      e.isMuted = () => e.muted,
      e.status = 0,
      e.pause = () => {
        e.ampInstance && !e.ampInstance.paused() && (e.ampInstance.pause(),
          wasPaused = !0)
      }
      ,
      e.play = () => {
        !e.hidden && e.ampInstance && (e.mainScenario && e.mainScenario.running || e.setupScenario && e.setupScenario.running) && (e.ampInstance.play(),
          e.checkIOS() && (e.setMuted(!0),
            activityUIModule.getActivityEnableVolumeOnIOSLabelElement().css("display", "flex")))
      }
      ,
      e.isRunning = () => (2 === e.getStatus() || 4 === e.getStatus()) && (!e.ampInstance.paused() && !e.ampInstance.seeking()),
      e.getStatus = function () {
        return e.status
      }
      ,
      e.getCurrentResult = function () {
        return e.result
      }
      ,
      e.setupConfig = void 0,
      e.mainConfig = void 0,
      e.setupScenario = void 0,
      e.mainScenario = void 0,
      e.setStatus = function (t) {
        let i = e.status;
        e.status = t,
          e.log("Status changed:", i, "->", t),
          async function (e) {
            e()
          }(() => {
            e.onStatusChanged({
              fromStatus: i,
              toStatus: e.status,
              target: e
            })
          }
          )
      }
      ,
      e.stopped = !1,
      e.userHandler = void 0,
      e.userPoseEstimator = void 0,
      e.targetHandler = void 0,
      e.nextCheckpointHandler = void 0,
      e.setupHandler = void 0,
      e.setupResult = void 0,
      e.mainResult = void 0,
      e.ampInstance = void 0,
      e.abort = () => {
        e.stopped = !0,
          e.setStatus(1),
          e.setupScenario && (e.setupScenario.running = !1),
          e.mainScenario && (e.mainScenario.running = !1)
      }
      ;
    e.load = async function (t) {
      d = null,
        e.log("load for activityData", t),
        activityUIModule.getWidgetContentElement().off("touchstart"),
        e.isFinalLeaderboardRendered = !1,
        e.cameraSettingsOpened = !1,
        e.isScoringDisabled = t.isScoringDisabled,
        e.setStatus(0),
        ActivityLocalStorageModule.localStorageTools.clear(),
        e.result = void 0,
        activityUIModule.load(),
        activityUIModule.addInlineAttributeToVideos(),
        activityUIModule.getAnsweredUsersElement().html(""),
        activityUIModule.getGameTopPanelElement().hide(),
        activityUIModule.getResultsElement().hide();
      const i = function (e) {
        return {
          video_src: [{
            src: e.videoUrl,
            type: "application/x-mpegURL"
          }],
          checkpoints_url: e.linkToActivity,
          perfect_threshold: 375,
          good_threshold: 500,
          detect_head: !0,
          detect_torso: !0,
          detect_hips: !0,
          detect_legs: !1,
          victory_threshold: e.successCoefficient
        }
      }(t);
      activityUIModule.setupFoldAndRedanceButtons();
      try {
        l = !1,
          e.ampInstance = videojs("activityVideoPlayer", {
            techOrder: ["html5"],
            nativeControlsForTouch: !1,
            autoplay: !1,
            controls: !1,
            poster: "",
            fluid: !0,
            muted: e.checkIOS()
          }),
          activityUIModule.setupUnmuteHandler(),
          e.ampInstance.ready((function () {
            e.pause(),
              l = !0
          }
          )),
          await o((function () {
            return l
          }
          )),
          e.ampInstance.muted(e.muted),
          void 0 === e.userHandler && (e.userHandler = new a(activityUIModule.getWebCameraStreamElement(), activityUIModule.getUserRawVideoElement(), !0, activityUIModule.getCameraNotFoundDummyElement(), activityUIModule.getUserVideoCanvasContext()),
            e.userPoseEstimator = new s(e.userHandler.dstContext)),
          n = document.createElement("canvas"),
          void 0 === e.setupHandler && (e.setupHandler = new a(e.ampInstance, n, !1)),
          void 0 === e.targetHandler && (e.targetHandler = new a(e.ampInstance, n, !1));
        const t = e;
        return e.mainScenarioEventListener = {
          onUserSuccess: () => {
            t.onUserSuccess({
              target: t
            })
          }
          ,
          onCheckpointPassed: e => {
            e.target = t,
              t.onCheckpointPassed(e)
          }
        },
          void 0 !== i && (e.mainConfig = i,
            e.mainScenario = new activityScenariosModule.MainScenario(e.userHandler, e.targetHandler, e.nextCheckpointHandler, e.mainConfig, t => {
              e.mainResult = t
            }
              , e.mainScenarioEventListener)),
          e.userHandler.launchProcessing(),
          activityUIModule.setOnCameraChangeButtonClickedHandler(),
          void 0 !== e.mainScenario ? (e.setStatus(1),
          {
            success: !0
          }) : {
            success: !1,
            error: "no_main_config"
          }
      } catch (t) {
        return e.onException({
          exception: t,
          target: e
        }),
          e.setStatus(0),
        {
          success: !1,
          error: "exception",
          exception: t
        }
      }
      var n
    }
      ,
      e.highlightTimer = void 0,
      e.hasResult = function () {
        return !!e.mainResult || !!ActivityLocalStorageModule.localStorageTools.readResult()
      }
      ;
    var d = null;
    e.highlightsSwipeControls = null;
    e.displayResult = function (t) {
      if (e.log("display result", t),
        $("#resultState__User").is(":empty") && gameCoreModule.playerResultGet(),
        e.nextActivityInterval || (e.nextActivityInterval = setInterval((function () {
          const t = activityUIModule.getExternalTimerElement();
          if (t || (clearInterval(e.nextActivityInterval),
            e.nextActivityInterval = void 0),
            t.last() && "" != t.last().text()) {
            let e = parseInt(t.last().text())
              , i = Math.floor(e / 60).toString().padStart(2, "0")
              , o = (e % 60).toString().padStart(2, "0");
            activityUIModule.timersShowAndSetTime(i, o)
          } else
            activityUIModule.timersSetNoTime()
        }
        ), 1e3)),
        e.setStatus(6),
        e.abort(),
        activityCaptureModule.stopCameraCapture(),
        e.disposeHighlight(),
        activityUIModule.setupShareButtons(),
        activityUIModule.getGameTopPanelElement().show(),
        activityUIModule.getCameraSettingsSaveButton().click(),
        t || (t = ActivityLocalStorageModule.localStorageTools.readResult(),
          e.log("read result from local storage", t)),
        !t)
        return activityUIModule.foldWidget(),
          void e.error("Cannot find any result, quitting...");
      e.totalScore = t.score,
        e.maxScore = t.checkpoints_count * activityScenariosModule.MAX_CHECKPOINT_SCORE,
        activityUIModule.setupFoldButton(),
        activityUIModule.renderAndDisplayScores(t);
      var i = ActivityLocalStorageModule.localStorageTools.readFrames();
      i || (i = []),
        i.sort((function (e, t) {
          return e.timestamp < t.timestamp ? -1 : 1
        }
        )),
        activityUIModule.showNoHighlightsDiv();
      let o = 0;
      var n = i.length;
      let a = activityCaptureModule.getFrames()[0];
      a.sort((e, t) => e[0] - t[0]),
        activityUIModule.showControlElementsAndHighlights(a, i),
        activityUIModule.setArrowActivity("left", !1),
        n > 1 && activityUIModule.setArrowActivity("right", !0),
        function (e, t) {
          const i = $(".activity-question-widget #frameRange")[0];
          i.min = 1,
            i.max = e.length,
            i.value = 1,
            i.style.backgroundSize = "0% 100%",
            i.oninput = function (e) {
              let i = e.target;
              const o = i.min
                , n = i.max
                , a = i.value;
              i.style.backgroundSize = (a - o) / (n - o) * 100 + "% 100%",
                t(e)
            }
        }(i, (function (e) {
          o = e.target.value - 1,
            s()
        }
        ));
      let s = function () {
        try {
          let t = activityUIModule.getHighlightsContainer();
          if (activityUIModule.checkNoHighlights(a, i))
            t.src = "/app/images/activityquestion/no_highlights.svg",
              activityUIModule.getNoHighlightsTextElement().show();
          else {
            activityUIModule.setHighlightsNumberAndHideNoHighlightsText(o, i);
            let n = function (e) {
              let t = 0
                , i = e.frameID;
              for (; a[t] && a[t][0] != i && t < a.length;)
                t++;
              return t
            }(i[o])
              , s = a[n][1];
            const r = URL.createObjectURL(s);
            t.src = r,
              e.bestPictureToUpload = r
          }
        } catch (t) {
          e.error(t)
        }
      };
      if (activityUIModule.setupArrowsOnclickHandlers((function () {
        o > 0 && (activityUIModule.setArrowActivity("right", !0),
          activityUIModule.setArrowActivity("left", --o > 0),
          s())
      }
      ), (function () {
        o < n - 1 && (activityUIModule.setArrowActivity("left", !0),
          activityUIModule.setArrowActivity("right", ++o < n - 1),
          s())
      }
      )),
        window.onbeforeunload = function (t) {
          return e.getLocalization("messages", "on_window_unload")
        }
        ,
        s(),
        activityUIModule.getActivityGameWidgetElement().hide(),
        activityUIModule.getResultsElement().show(),
        !e.hidden) {
        let e = activityUIModule.getFrameContainerElement().getElementsByTagName("video")[0];
        e && e.pause()
      }
    }
      ,
      e.preloadMain = function () { }
      ,
      e.isVerticalVideo = !1;
    let c = function () {
      let { newWidth: t, newLeft: i } = function () {
        const t = e.ampInstance.videoWidth() / e.ampInstance.videoHeight()
          , i = window.innerHeight * t * .7;
        let o = -(i - window.innerWidth) / 2;
        if (d || (d = i / 2),
          e.mainScenario.centerPositionOfHumanInVideo) {
          const t = e.mainScenario.centerPositionOfHumanInVideo.x * (i / 620);
          let n = 0;
          const a = window.innerWidth / 3;
          t - d <= -a ? n = -10 : t - d >= a && (n = 10),
            d += n,
            o = -Math.max(0, d - window.innerWidth / 2, 0)
        }
        return {
          newWidth: i,
          newLeft: o
        }
      }();
      activityUIModule.setTargetVideoWidthAndLeft(t, i)
    }
      , u = function () {
        let t = !0;
        e.ampInstance && e.ampInstance.videoHeight() && e.ampInstance.videoWidth() && e.ampInstance.videoWidth() < e.ampInstance.videoHeight() && (t = !1),
          t ? activityUIModule.setHorizontalOrientationMode() : activityUIModule.setVerticalOrientationMode(),
          e.checkMobile() && c(),
          e.isVerticalVideo = !t
      };
    return e.runMain = async function () {
      if (6 == e.getStatus())
        return {
          success: !1,
          error: "results_displayed"
        };
      let t = $(".imageBlock .frameContainer").get(0).getElementsByTagName("video")[0];
      if (t && t.pause(),
        e.stopped = !1,
        e.mainScenario.skipped = !1,
        activityUIModule.getResultsElement().hide(),
        activityUIModule.getActivityGameWidgetElement().show(),
        activityUIModule.getGameTopPanelElement().hide(),
        activityUIModule.getSkipButton().off("click").bind("click", t => {
          e.mainScenario.skipped = !0
        }
        ).hide(),
        activityUIModule.getRedanceButton().hide(),
        activityUIModule.hideCalibrationAnimation(),
        e.getStatus() < 1)
        return {
          success: !1,
          error: "not_loaded"
        };
      1 === e.getStatus() && e.checkMobile() && await activityCaptureModule.setUpCamera();
      try {
        if (e.setStatus(4),
          e.setTargetVideoLoading(!0),
          activityUIModule.getMobileControlBlockElement().hide(),
          u(),
          await e.mainScenario.preloadCheckpoints(),
          await e.userPoseEstimator.load(e.mainScenario.model_type),
          e.mainScenario.initResult(),
          e.mainScenario.skipped)
          return e.setStatus(5),
            e.result.success = !0,
            e.mainResult = e.result,
            e.result;
        e.userPoseEstimator.target = activityUIModule.getUserRawVideoElement().getContext("2d"),
          e.userPoseEstimator.start({
            delay: 30,
            isTarget: !1,
            head: e.mainConfig.detect_head,
            torso: e.mainConfig.detect_torso,
            hips: e.mainConfig.detect_hips,
            legs: e.mainConfig.detect_legs,
            useCache: !0
          });
        var i = !1;
        e.ampInstance.on("canplaythrough", e => {
          i = !0
        }
        ),
          e.ampInstance.src(e.mainConfig.video_src),
          e.ampInstance.load(),
          await o(() => i),
          u(),
          e.setTargetVideoLoading(!1),
          e.targetHandler.launchProcessing(),
          e.mainResult = void 0,
          e.targetHandler.getSrcVideo().loop = !1,
          e.targetHandler.getSrcVideo().preload = "auto";
        let t = e.mainScenario.hud;
        t.setScore(null),
          t.bottomMessage(e.getLocalization("messages", "get_ready_to_play")),
          e.stopped = !1,
          e.mainScenario.initResult();
        for (let e = 5; e >= 1; e--)
          await t.showMiddleMessage(e.toString(), !0, 1e3);
        if (t.bottomMessage(null),
          activityUIModule.getGameTopPanelElement().show(),
          e.checkMobile() && activityUIModule.getMobileControlBlockElement().css("display", "flex"),
          e.stopped)
          return e.setStatus(5),
            e.result.success = !0,
            e.result;
        activityCaptureModule.reset(),
          frameData = [],
          e.mainScenario.running = !e.stopped,
          activityUIModule.getSkipButton().show(),
          activityUIModule.getRedanceButton().show(),
          e.mainScenario.run(),
          activityUIModule.getSendResultButton().hide();
        const n = e;
        return await o(() => void 0 !== n.mainResult),
          e.targetHandler.stopProcessing(),
          e.userPoseEstimator.stop(),
          e.setStatus(5),
          e.mainResult.success = !0,
          e.mainResult
      } catch (t) {
        return e.onException({
          exception: t,
          target: e
        }),
          e.setStatus(1),
        {
          success: !1,
          error: "exception",
          exception: t
        }
      }
    }
      ,
      e.hidden = !0,
      e.hide = function () {
        e.hidden || ($("#liveVideoFront").removeClass("liveVideo-activity-question"),
          $("#liveVideoFront").detach().appendTo(e.streamParent),
          $(".infoBlock--center").show(),
          $(".activity-question-widget").hide(),
          $(".layout__StickyContainer").css("z-index", "999"),
          $(".scrollToBottom").css("z-index", "999"),
          e.pause(),
          e.hidden = !0,
          e.log("Now I'm here"))
      }
      ,
      e.disposeHighlight = function () {
        e.highlightTimer && (clearInterval(e.highlightTimer),
          e.highlightTimer = void 0),
          window.onbeforeunload && (window.onbeforeunload = void 0),
          e.log("highlights disposed")
      }
      ,
      e.dispose = function () {
        e.stopHintMessageTimer(),
          void 0 !== e.mainScenario && e.mainScenario.stop(),
          void 0 !== e.setupScenario && e.setupScenario.stop(),
          void 0 !== e.userHandler && e.userHandler.stopProcessing(),
          void 0 !== e.targetHandler && e.targetHandler.stopProcessing(),
          void 0 !== e.setupHandler && e.setupHandler.stopProcessing(),
          activityCaptureModule.stopCameraCapture(),
          void 0 !== e.ampInstance && e.ampInstance.pause(),
          e.log("widget disposed")
      }
      ,
      e
  }(activityQuestionModule || {})
  , promoModalModule = function (e) {
    e.intervals = {};
    var t = $(window).width();
    e.isMobile = t < 480,
      e.isTablet = t > 480 && t < 768,
      e.isDesktop = t > 768;
    var i = {};
    return e.displayWaitPromoModal = function (t) {
      e.displayPromoModal("promoWaitModal", t)
    }
      ,
      e.displayLeadersPromoModal = function (t) {
        e.displayPromoModal("promoLeadersModal", t)
      }
      ,
      e.displayPromoModal = function (t, o) {
        var n = $("." + t);
        if (0 !== n.length && !i[t]) {
          i[t] = !0;
          var a = o.Duration
            , s = o.ExternalUrl;
          e.isMobile ? (n.find(".promoModal__tabletContent").remove(),
            n.find(".promoModal__desktopContent").remove()) : e.isTablet ? (n.find(".promoModal__mobileContent").remove(),
              n.find(".promoModal__desktopContent").remove()) : (n.find(".promoModal__mobileContent").remove(),
                n.find(".promoModal__tabletContent").remove()),
            s && (n.find("#promoModal__Go").show(),
              n.find("#promoModal__Add").addClass("promoModal__Add")),
            e.display(n, t, a, s)
        }
      }
      ,
      e.displayQuestionPromoModal = function (t) {
        var i = $(".promoBlockQuestionModal");
        if (0 === i.length)
          return;
        var o = t.Duration || 0
          , n = t.Image
          , a = t.ExternalUrl
          , s = t.Text;
        e.isMobile ? n = t.MobileImage : e.isTablet && (n = t.TabletImage);
        var r = questionTemplatesModule.promoTemplate;
        "VideoSelfHosted" == n.MediaType && (r = null != n.StorageUrl ? (r = (r = (r = questionTemplatesModule.promoTemplateVideoSelfHostedAutoplay).replace(new RegExp("##THUMBNAIL##", "g"), n.ThumbnailUrl ? n.ThumbnailUrl : "")).replace(new RegExp("##THUMBNAIL_URL##", "g"), n.ThumbnailUrl)).replace(new RegExp("##VIDEOAUTOPLAY##", "g"), n.VideoAutoPlay) : (r = r.replace("imageBlock", "imageBlock imageBlock__videoProcessing")).replace(new RegExp("##IMAGE##", "g"), "/app/images/home/video_processing_" + localizationModule.lang + ".png")),
          r = (r = (r = r.replace(new RegExp("##IMAGE##", "g"), n.StorageUrl ? n.StorageUrl : "#")).replace(new RegExp("##TEXT##", "g"), `<p><a href="${a}" target="_blank" addToCartModuleAttached="true"></a></p>`)).replace("promoBlockQuestion__ImageBlock", "promoBlockQuestionModal__ImageBlock");
        var l = i.find(".infoBlock--promo > .promoBlockQuestionModal__content")
          , d = l.find(".promoQuestion");
        d.length ? d.replaceWith(r) : l.prepend(r),
          i.find(".promoQuestion__Text").hide();
        var c = i.find(".promoBlockWait__Text").html(s);
        c.text() ? c.show() : c.hide(),
          a && i.find("#promoModal__Add").attr("href", a);
        i.find(".promoBlockWait__TextContainer").length > 1 && i.find(".promoBlockWait__TextContainer").eq(0).remove();
        i.find(".promoBlockWait__Image").length > 1 && i.find(".promoBlockWait__Image").eq(1).remove(),
          e.display(i, "promoBlockQuestionModal", o, a),
          $("#infoBlockPromo > .promoBlockWait #promoBlockPlaceHolder").empty(),
          $("#infoBlockPromo").hide(),
          $("#infoBlockPromo").data("isInitPromo", !1)
      }
      ,
      e.display = function (t, i, o, n) {
        var a = t.find("#" + i + "__ImageBlock");
        a.attr("max-img-height", "95vh");
        var s = a.attr("media-type");
        if (t.find(".promoModal__row").css("width", "VideoSelfHosted" !== s ? "unset" : "100%"),
          imageBlockModule.init(i + "__ImageBlock"),
          t.find(".promoModal__closeTimer").hide().on("click", (function () {
            e.hidePromoModal(i)
          }
          )),
          t.find(".promoQuestion__buttonsContainer").hide(),
          n ? t.find("#promoModal__Add").show() : t.find("#promoModal__Add").hide(),
          o > 0) {
          var r = t.find(".promoModal__counter")
            , l = r.data("counter-text") || "{0}";
          l = l.replace("{0}", '<strong style="color:#333333;">{0}</strong>');
          var d = r.data("counter-final-text") || "";
          r.html(l.replace("{0}", o)),
            r.show(),
            e.intervals[i] = setInterval((function () {
              (o -= 1) >= 1 ? r.html(l.replace("{0}", o)) : (clearInterval(e.intervals[i]),
                r.text(d),
                e.showCloseIcon(t))
            }
            ), 1e3)
        } else
          e.showCloseIcon(t);
        t.modal("show")
      }
      ,
      e.showCloseIcon = function (e) {
        e.find(".promoModal__closeTimer").show()
      }
      ,
      e.hideWaitPromoModal = function () {
        e.hidePromoModal("promoWaitModal")
      }
      ,
      e.hideQuestionPromoModal = function () {
        e.hidePromoModal("promoBlockQuestionModal")
      }
      ,
      e.hidePromoModal = function (t) {
        var o = $("." + t);
        clearInterval(e.intervals[t]),
          i[t] = !1,
          imageBlockModule.dispose(t + "__ImageBlock"),
          o.modal("hide")
      }
      ,
      e
  }(promoModalModule || {})
  , gameModule = function (e) {
    var t = !1
      , i = "True" == $("#Quiz_IsStreamInMediaBlock").val() && "True" == $("#IsStreamInMediaBlockEnabled").val();
    function o(e) {
      $("body").scrollTop(300),
        n(),
        questionAnswerModule.show(),
        gameAssistantModule.initByPosition(e),
        gameCoreModule.setHostAvailability(),
        questionAnswerModule.displayPosition(e),
        moderationModule.displayPosition(e),
        a(!1, !1, !0),
        t = !0,
        audioModule.playStage("questionsAnswer"),
        widgetModule.onStage("questionsAnswer", e)
    }
    function n() {
      connectModule.hide(),
        moderationModule.hide(),
        waitModule.hide(),
        countdownModule.hide(),
        questionAnswerModule.hide(),
        questionReviewModule.hide(),
        leadersModule.hide(),
        alertBoxModule.gamePausedHide(),
        audioModule.stop()
    }
    function a(e, t, o) {
      i && setTimeout(streamPlayer.moveToMediablock, 1e3),
        $.each($("iframe:not([liveVideo]):not([integratedchat])"), (function (i, n) {
          var a = $(n).attr("src");
          if ((e || !$(n).is(":visible") || !a || o) && (a || (a = $(n).attr("storedSRC")),
            $(n).attr("storedSRC", a),
            $(n).attr("src", ""),
            a && -1 != a.indexOf("?"))) {
            if (!!window.chrome && !!window.chrome.webstore && a.split("?")[1]) {
              var s = a.split("?")[0]
                , r = $.parseParams(a.split("?")[1] || "");
              r.autoplay && "1" == r.autoplay && (r.mute = "1",
                a = s + "?" + $.param(r))
            }
            t && (a = a.split("?")[0]),
              !e && $(n).is(":visible") && $(n).attr("src", a)
          }
        }
        ))
    }
    gameCoreModule.participationStarted.subscribe((function () {
      n(),
        waitModule.show(),
        a(!1, !1, !0),
        widgetModule.onStage("participationStarted", {})
    }
    )),
      gameCoreModule.errorsScreenStarted.subscribe((function () {
        n(),
          waitModule.show(),
          a(!1, !1, !0)
      }
      )),
      gameCoreModule.waitStageStarted.subscribe((function (e) {
        n(),
          waitModule.show(),
          gameAssistantModule.initByPosition(e),
          gameCoreModule.setHostAvailability(),
          waitModule.displayPosition(e),
          a(!1, !1, !0),
          audioModule.playStage("wait"),
          widgetModule.onStage("wait", e)
      }
      )),
      gameCoreModule.countdownStageStarted.subscribe((function (e) {
        n(),
          countdownModule.show(),
          gameAssistantModule.initByPosition(e),
          countdownModule.start(1e3 * e.CountdownTimerInSeconds),
          a(!1, !1, !1),
          function () {
            $("#answersState__ReceivedAnswers").empty(),
              $("#resultState").attr("style", "opacity: 0.5;"),
              $("#resultState__User").empty(),
              gameCoreModule.isOwner || $("#leadersList").attr("style", "display: none; opacity: 0.5;");
            $("#leadersList__Users").empty()
          }(),
          questionAnswerModule.hideScrollToBottom(),
          audioModule.playStage("countdown"),
          widgetModule.onStage("countdown", e)
      }
      )),
      gameCoreModule.moderationStageStarted.subscribe((function (e) {
        o(e),
          moderationModule.show(),
          audioModule.playStage("moderation"),
          widgetModule.onStage("moderation", e)
      }
      )),
      gameCoreModule.questionsAnswerStageStarted.subscribe((function (e) {
        questionAnswerModule.disposePreviousQuestionData(),
          o(e)
      }
      )),
      gameCoreModule.answeredUpdate.subscribe((function (e) {
        questionAnswerModule.displayAnswersState(e)
      }
      )),
      gameCoreModule.questionsReviewStageStarted.subscribe((function (e) {
        n(),
          questionReviewModule.show(),
          gameAssistantModule.initByPosition(e),
          gameCoreModule.setHostAvailability(),
          questionReviewModule.displayPosition(e),
          t || (a(!1, !1, !0),
            t = !0);
        audioModule.playStage("questionsReview"),
          widgetModule.onStage("questionsReview", e)
      }
      )),
      gameCoreModule.leadersStageStarted.subscribe((function (e) {
        questionAnswerModule.disposePreviousQuestionData(),
          n(),
          leadersModule.show(),
          gameAssistantModule.initByPosition(e),
          leadersModule.displayPosition(e),
          a(!1, !1, !1),
          questionAnswerModule.hideScrollToBottom(),
          audioModule.playStage("leaders"),
          i && leadersModule.showYoutubeStream();
        widgetModule.onStage("leaders", e)
      }
      )),
      gameCoreModule.autoStartDisabled.subscribe((function () {
        waitModule.autoStartDisabled()
      }
      )),
      $(document).on("click", ".scrollToBottom__Icon", (function () {
        var e = $(this)
          , t = 0;
        t = e.hasClass("scrollToBottom__Icon--up") ? 0 : $(document).height(),
          setTimeout((function () {
            $("html, body").animate({
              scrollTop: t
            }, 400)
          }
          ), 0)
      }
      )),
      $(window).on("scroll", (function () {
        u()
      }
      ));
    var s, r, l, d, c, u = (s = function () {
      0 === $(window).scrollTop() && $(".scrollToBottom__Icon").removeClass("scrollToBottom__Icon--up"),
        window.innerHeight < $(document).height() && $(window).scrollTop() + window.innerHeight >= $(document).height() - 10 && $(".scrollToBottom__Icon").addClass("scrollToBottom__Icon--up")
    }
      ,
      r = 400,
      c = !1,
      function e() {
        if (c)
          return l = arguments,
            void (d = this);
        s.apply(this, arguments),
          c = !0,
          setTimeout((function () {
            c = !1,
              l && (e.apply(d, l),
                l = d = null)
          }
          ), r)
      }
    ), h = function () {
      var e;
      e = $("#stage__Wait").is(":visible") ? $("#stage__Wait .infoBlockOwner, #stage__Wait .infoBlockPlayer").outerWidth() : $("#stage__Questions .infoBlockOwner, #stage__Questions .infoBlockPlayer").outerWidth(),
        $(".questionDetails__AnswerMessageContainer").css("width", e + "px")
    }, m = setInterval((function () {
      ($("#stage__Wait").is(":visible") || $("#stage__Questions").is(":visible")) && (h(),
        clearInterval(m))
    }
    ), 100);
    return gameCoreModule.questionsAnswerStageStarted.subscribe(h),
      $(window).on("load scroll resize", h),
      gameCoreModule.questionStatisticsUpdate.subscribe((function (e) {
        questionAnswerModule.displayAnswersSummary(e.QuestionStatistics)
      }
      )),
      gameCoreModule.questionWordloudStatisticsUpdate.subscribe((function (e) {
        questionAnswerModule.updateWordcloudStats(e)
      }
      )),
      gameCoreModule.questionReactionsStatisticsUpdate.subscribe((function (e) {
        questionAnswerModule.updateReactionsStats(e)
      }
      )),
      e
  }(gameModule || {})
  , chatServiceModule = function (e) {
    return e.receiveChatMessage = gameCoreModule.receiveChatMessage,
      e.loadChatHistory = function () {
        console.log("chatServiceModule.loadChatHistory"),
          $.connection.hub.start({
            transport: ["webSockets", "longPolling"]
          }).done((function () {
            gameCoreModule.hostInstance.server.loadChatHistory(gameCoreModule.hostId).done((function (t) {
              t.forEach((function (t) {
                t = mapper.toChatMessage(t),
                  e.receiveChatMessage.fire(t)
              }
              )),
                console.log("Done - chatServiceModule.loadChatHistory")
            }
            )).fail((function () {
              console.log("Fail - chatServiceModule.loadChatHistory")
            }
            ))
          }
          ))
      }
      ,
      e
  }(chatServiceModule || {})
  , chatBlockModule = function (e) {
    return e.init = function (t, i) {
      var o = function (t, i) {
        var o = this
          , n = $(t)
          , a = n.find("[data-chat-close]")
          , s = n.find("[data-chat-messages-container]")
          , r = n.find("[data-chat-messages-content]")
          , l = n.find("[data-chat-messages-placeholder]")
          , d = new PerfectScrollbar(s[0], {
            suppressScrollX: !0
          })
          , c = n.find(".chatMessage_Template").find("[data-chat-message-template]")
          , u = n.find("[data-chat-input-block]")
          , h = n.find("[data-chat-input]")
          , m = n.find("[data-chat-send]");
        if (u.length > 0)
          var p = new PerfectScrollbar(u[0], {
            suppressScrollX: !0
          });
        function f() {
          var e = h.val();
          0 !== e.length && (h.val(""),
            chatServiceModule.send(e),
            v(h[0]))
        }
        function g(e) {
          l.remove();
          var t = c.clone()
            , o = e.Text;
          t.find("[data-chat-message-text]").text(o);
          var n = moment(e.DateTime).lang(global_Localization.global_lang).format(global_TimeFormat);
          for (var a in t.find("[data-chat-message-datetime]").text(n),
            t.hide(),
            r.prepend(t),
            t.fadeIn(),
            d.update(),
            $("[data-chat-notifications]").each((function () {
              $(this).empty(),
                $(this).show();
              var t = '<div class="chatNotification" data-chat-notification="true"><div class="chatNotification__UserFotoCol"><div class="chatNotification__UserFoto"##STYLE_FOTO##></div></div><div class="chatNotification__TextDataCol"><div class="chatNotification__UserNameCol"><div class="chatNotification__UserName">##USERNAME##:</div></div><div class="chatNotification__TextCol"><div class="chatNotification__Text">##TEXT##</div></div></div><div class="chatNotification__CloseBlock"><a class="icon-close" data-chat-notification-close="true"></a></div></div>';
              t = (t = t.replace(new RegExp("##USERNAME##", "g"), e.FromName)).replace(new RegExp("##TEXT##", "g"), e.Text);
              var i = "";
              i = void 0 !== e.FromImagePath ? ' style="background-image:url(' + e.FromImagePath + ')"' : ' style="background-image:url(/app/images/userprofile/user_photo.png)"',
                t = t.replace(new RegExp("##STYLE_FOTO##", "g"), i);
              var o = $(t);
              o.hide(),
                $(this).append(o),
                o.find("[data-chat-notification-close]").on("click", (function () {
                  o.stop().fadeOut()
                }
                )),
                o.fadeIn().delay(15e3).fadeOut()
            }
            )),
            i) {
            var s = i[a];
            $(s).fadeIn()
          }
        }
        function _() {
          h.each((function () {
            v(this)
          }
          )).on("input", (function () {
            v(this)
          }
          ))
        }
        function v(e) {
          e.style.height = "auto",
            e.style.height = e.scrollHeight + "px",
            p.update()
        }
        for (var y in a.on("click", (function () {
          o.hide()
        }
        )),
          m.on("click", f),
          h.on("keydown", (function (e) {
            if (13 == e.which && !e.shiftKey)
              return f(),
                !1
          }
          )),
          chatServiceModule.receiveChatMessage.subscribe(g),
          o.update = function () {
            d.update(),
              _()
          }
          ,
          o.toggle = function () {
            n.slideToggle("fast", (function () {
              o.update()
            }
            )).css("display", "flex")
          }
          ,
          o.show = function () {
            n.slideDown("fast", (function () {
              o.update()
            }
            )).css("display", "flex")
          }
          ,
          o.hide = function () {
            n.slideUp("fast", (function () {
              o.update()
            }
            ))
          }
          ,
          _(),
          i) {
          var w = i[y];
          $(w).on("click", (function () {
            o.toggle()
          }
          ))
        }
        return e.initIcon(i),
          o.cleanup = function () {
            for (var e in chatServiceModule.receiveChatMessage.unsubscribe(g),
              o.hide(),
              $("[data-chat-notifications]").fadeOut(),
              r.empty(),
              a.off("click"),
              m.off("click"),
              h.off("keydown"),
              i) {
              var t = i[e];
              $(t).fadeOut(),
                $(t).off("click")
            }
          }
          ,
          o
      }(t, i);
      return chatServiceModule.loadChatHistory(),
        o
    }
      ,
      e
  }(chatBlockModule || {});
chatBlockModule = function (e) {
  return e.initIcon = function (e) { }
    ,
    e
}(chatBlockModule || {});
var connectModule = function (e, t) {
  return e.show = function () {
    $("#stage__Connect").css("display", "flex")
  }
    ,
    e.hide = function () {
      $("#stage__Connect").css("display", "none")
    }
    ,
    e
}(connectModule || {})
  , moderationTemplatesModule = function (e) {
    return e.promoTemplate = '<div class="moderationPromoQuestion">     <div id="promoBlockModeration__ImageBlock"         class="moderationPromoQuestion__Image"         src="##IMAGE##"         media-type="Image"         wa-id="promoModerationImage">\t    <div>\t\t    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAACCAYAAACddGYaAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMjHxIGmVAAAAEklEQVQYV2P4//8/HCNx/jMAAPInEe+L62rCAAAAAElFTkSuQmCC" />\t    </div>    </div>    <div class="moderationPromoQuestion__Text">##TEXT##<div class="moderationPromoQuestion__PromoLinkSave"></div></div></div>',
      e.promoTemplateVideoSelfHostedAutoplay = '<div class="moderationPromoQuestion moderationPromoQuestion--video">    <div class="moderationPromoQuestion__Video">        <div id="promoBlockModeration__ImageBlock"             class="imageBlock"             src="##IMAGE##"             media-type="VideoSelfHosted"             thumbnail-src="##THUMBNAIL##"             video-autoplay="##VIDEOAUTOPLAY##"             is-muted="false"             wa-id="promoModerationVideo">\t        <div>\t\t        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAACCAYAAACddGYaAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMjHxIGmVAAAAEklEQVQYV2P4//8/HCNx/jMAAPInEe+L62rCAAAAAElFTkSuQmCC" />\t        </div>        </div>    </div>    <div class="moderationPromoQuestion__Text">##TEXT##</div>    <div class="moderationPromoQuestion__PromoLinkSave"></div></div>',
      e.promoNotificationTemplate = '<div class="moderationPromoQuestionNotification">    ##TEXT##</div>',
      e
  }(moderationTemplatesModule || {})
  , moderationModule = function (e, t) {
    return e.show = function () {
      questionAnswerModule.disposePreviousQuestionData(),
        $("div.infoBlock.infoBlock--center .questionDetails").hide(),
        $("#infoBlockPromo").hide(),
        $("div.infoBlock.infoBlock--right").css("opacity", .6),
        $("#moderationObjId").show(),
        imageBlockModule.init("promoBlockModeration__ImageBlock")
    }
      ,
      e.hide = function () {
        imageBlockModule.dispose("promoBlockModeration__ImageBlock"),
          $("#moderationObjId").hide(),
          $("div.infoBlock.infoBlock--right").css("opacity", 1),
          $("div.infoBlock.infoBlock--center .questionDetails").show(),
          $("#infoBlockPromo").show()
      }
      ,
      e.displayPosition = function (t) {
        e.displayPromo(t.CurrentQuestion)
      }
      ,
      e.displayPromo = function (e) {
        if (e.ModerationPromoEnabled) {
          if ($("#moderationObjId object").hide(),
            $("#moderationInfoBlockPromo").data("questionId") === e.Id)
            return;
          $("#moderationInfoBlockPromo").data("questionId", e.Id);
          var i = moderationTemplatesModule.promoTemplate;
          "VideoSelfHosted" === e.ModerationPromoImageMediaType && null != e.ModerationPromoImagePath && (i = (i = (i = moderationTemplatesModule.promoTemplateVideoSelfHostedAutoplay).replace(new RegExp("##THUMBNAIL##", "g"), e.ModerationPromoImageThumbnailUrl ? e.ModerationPromoImagePath : "")).replace(new RegExp("##VIDEOAUTOPLAY##", "g"), e.ModerationPromoImageVideoAutoPlay)),
            i = (i = "VideoSelfHosted" === e.ModerationPromoImageMediaType && null == e.ModerationPromoImagePath ? i.replace(new RegExp("##IMAGE##", "g"), "/app/images/home/video_processing_" + localizationModule.lang + "_square.png") : i.replace(new RegExp("##IMAGE##", "g"), e.ModerationPromoImagePath ? e.ModerationPromoImagePath : "#")).replace(new RegExp("##TEXT##", "g"), e.ModerationPromoText),
            $("#moderationInfoBlockPromo > #moderationPromoBlockPlaceHolder").empty(),
            $("#moderationInfoBlockPromo > #moderationPromoBlockPlaceHolder").append(i);
          var o = moderationTemplatesModule.promoNotificationTemplate;
          o = o.replace(new RegExp("##TEXT##", "g"), localizationModule.localizationData.linksCollectionNotification),
            $("#moderationInfoBlockPromo > #moderationPromoNotificationPlaceHolder").empty(),
            $("#moderationInfoBlockPromo > #moderationPromoNotificationPlaceHolder").append(o),
            null != e.ModerationPromoImagePath || null != e.ModerationPromoImageMediaType && "VideoSelfHosted" == e.ModerationPromoImageMediaType || $("#moderationInfoBlockPromo").find("img").remove(),
            t.isOwner || null == e.ModerationPromoQuestionUrlReviewAfterGame ? $("#moderationInfoBlockPromo").find(".ModerationPromoQuestion__PromoLinkSave").remove() : ($(".moderationPromoQuestion__PromoLinkSave").empty(),
              $(".moderationPromoQuestion__PromoLinkSave").append('<a href="' + e.ModerationPromoQuestionUrlReviewAfterGame + '" target="_blank">' + localizationModule.localizationData.moderationPromoQuestion.saveButton + "</a>")),
            $("#moderationInfoBlockPromo").show()
        } else
          $("#moderationInfoBlockPromo > #moderationPromoBlockPlaceHolder").empty(),
            $("#moderationInfoBlockPromo").hide()
      }
      ,
      e
  }(moderationModule || {}, gameCoreModule)
  , waitModule = function (e) {
    return e.show = function () {
      imageBlockModule.init("gameDetails__ImageBlock"),
        imageBlockModule.init("promoBlockWait__ImageBlock"),
        imageBlockModule.init("promoBlockTopWait__ImageBlock"),
        $("#instruction").click((function (e) {
          $("#ai-popup").css("display", "flex").hide().fadeIn()
        }
        )),
        $("#close-instruction").click((function (e) {
          $("#ai-popup").fadeOut()
        }
        )),
        $("#InstructionCarousel").carousel({
          interval: !1
        }),
        $(".carousel").on("touchstart", (function (e) {
          const t = e.originalEvent.touches[0].pageX;
          $(this).one("touchmove", (function (e) {
            const i = e.originalEvent.touches[0].pageX;
            Math.floor(t - i) > 5 ? $(this).carousel("next") : Math.floor(t - i) < -5 && $(this).carousel("prev")
          }
          )),
            $(this).on("touchend", (function () {
              $(this).off("touchmove")
            }
            ))
        }
        )),
        e.showStage(),
        $("#stage__Wait").show(),
        $(".thm_GameLayout").addClass("currentStage__Wait"),
        $(".infoBlock--gameLeaderBoard").removeClass("visible"),
        e.isActive = !0
    }
      ,
      e.hide = function () {
        imageBlockModule.dispose("gameDetails__ImageBlock"),
          imageBlockModule.dispose("promoBlockWait__ImageBlock"),
          imageBlockModule.dispose("promoBlockTopWait__ImageBlock"),
          e.hideStage(),
          $("#stage__Wait").hide(),
          $(".thm_GameLayout").removeClass("currentStage__Wait"),
          e.isActive = !1
      }
      ,
      e.updatePlayersCount = function (e) {
        $("#usersCount").text(e.count),
          $("#usersAll").text(e.allCount),
          $("#usersCountMobile").text(e.count);
        var t = parseInt($("#MaxPlayers").val());
        t && $(".connectedUsersMobile__progress").css("width", 100 * e.count / t + "%")
      }
      ,
      e.getActiveUsers = function () {
        return +$("#usersCount").text()
      }
      ,
      e
  }(waitModule || {});
waitModule = function (e) {
  return e.intervals = {},
    e.hideDelay = function (t) {
      var i = $("." + t);
      clearInterval(e.intervals[t]),
        i.hide()
    }
    ,
    e.displayPosition = function (t) {
      if (t.PromoModal) {
        var i = "waitDetails__PromoModalDelay"
          , o = $("." + i)
          , n = o.data("delay-text") || "{0}";
        n = n.replace("{0}", '<span style="color:#6049EB;">{0}</span>');
        var a = 5;
        o.html(n.replace("{0}", a)),
          o.show(),
          e.intervals[i] = setInterval((function () {
            --a >= 1 ? o.html(n.replace("{0}", a)) : (clearInterval(e.intervals[i]),
              promoModalModule.displayWaitPromoModal(t.PromoModal))
          }
          ), 1e3)
      }
      e.updatePlayersCount({
        count: t.PlayersCount,
        allCount: t.AllPlayersCount
      }),
        gameShareResultModule.setPlayersCount(t.PlayersCount)
    }
    ,
    e.autoStartDisabled = function () {
      $("#gameDetails__StartTime").hide()
    }
    ,
    e.showStage = function () { }
    ,
    e.hideStage = function () {
      $("#ai-popup").fadeOut(),
        e.hideDelay("waitDetails__PromoModalDelay"),
        promoModalModule.hideWaitPromoModal()
    }
    ,
    e
}(waitModule);
var waitCountdownModule = function (e, t) {
  var i = ["days", "hours", "minutes", "seconds"]
    , o = {
      curr: l(),
      next: l()
    }
    , n = t.localization;
  function a(e) {
    var t, n, a, s = {
      days: e.offset.totalDays,
      hours: e.offset.hours,
      minutes: e.offset.minutes,
      seconds: e.offset.seconds
    };
    o.next = s,
      (t = o.curr,
        n = o.next,
        a = [],
        i.forEach((function (e) {
          t[e] !== n[e] && a.push(e)
        }
        )),
        a).forEach((function (t) {
          var i = ".%s".replace(/%s/, t)
            , n = $(e.currentTarget).find(i);
          n.removeClass("flip"),
            n.find(".curr").text(o.curr[t]),
            n.find(".next").text(o.next[t]),
            setTimeout((function (e) {
              e.addClass("flip")
            }
            ), 50, n)
        }
        )),
      o.curr = s
  }
  function s(e) {
    a(e)
  }
  function r(e) { }
  function l() {
    var e = {};
    return i.forEach((function (t, i) {
      e[t] = ""
    }
    )),
      e
  }
  return e.init = function (e, t) {
    var o = e;
    o.empty(),
      i.forEach((function (e, t) {
        o.append(function (e) {
          return '<div class="wait-countdown-time ' + e.name + '"><span class="count curr top" >' + e.curr + '</span><span class="count next top">' + e.next + '</span><span class="count next bottom" >' + e.next + '</span><span class="count curr bottom">' + e.curr + '</span><span class="decription">' + e.loc + "</span></div>"
        }({
          name: e,
          curr: 0,
          next: 0,
          loc: n[e]
        }))
      }
      )),
      o.countdown(t).on("update.countdown", a).on("finish.countdown", s).on("stop.countdown", r)
  }
    ,
    e
}(waitCountdownModule || {}, {
  localization: localizationModule.localizationData.waitCountdown
})
  , countDownTimerModule = function (e) {
    function t(e, t) {
      var i = this
        , o = void 0
        , n = $(".timeInfo")
        , a = $("#" + e + " > .countDownTimer__Clock")
        , s = $("#" + e + " > .countDownTimer__Clock svg")
        , r = $("#" + e + " > .countDownTimer__Clock .countDownTimer__Circle--bg")
        , l = $("#" + e + " > .countDownTimer__Clock .countDownTimer__Circle--mask")
        , d = $("#" + e + " > .countDownTimer__Clock .countDownTimer__Circle--active")
        , c = $("#" + e + " > .countDownTimer__Seconds")
        , u = $(".countDownTimer__pause-layer.icon-pause-button")
        , h = $(".countDownTimer__pause-layer.icon-play-button")
        , m = $(".countDownTimer__pause-layer-mobile .icon-pause-button-background")
        , p = $(".countDownTimer__pause-layer-mobile .icon-play-button-background")
        , f = null == t ? void 0 : $("#" + t)
        , g = {
          animationInterval: 1e3,
          totalTime: 1,
          remainingTime: 0,
          remainingTimeInSeconds: 0,
          radius: 0,
          cx: 0,
          cy: 0,
          strokeWidth: 0,
          initialDashOffset: 0,
          currentDashOffset: 0,
          nextDashOffset: 0,
          currentPercentCompleted: 0,
          nextPercentCompleted: 0
        };
      function _() {
        u.css("display", "none"),
          h.css("display", "flex"),
          a.css("opacity", "0.5"),
          c.css("color", "rgba(166, 166, 166, 0.5)"),
          m.css("display", "none"),
          p.css("display", "flex")
      }
      function v() {
        a.css("opacity", "1"),
          h.css("display", "none"),
          u.css("display", "none"),
          c.css("color", "rgb(0, 0, 0)"),
          m.css("display", "flex"),
          p.css("display", "none")
      }
      function y() {
        n.css("opacity", .5)
      }
      function w() {
        n.css("opacity", 1)
      }
      function A() {
        g.remainingTime = g.remainingTime - g.animationInterval,
          g.remainingTime <= 0 && (g.remainingTime = 0,
            clearInterval(o)),
          b(),
          M(),
          C(),
          S()
      }
      function b() {
        g.cx = s.width() / 2,
          g.cy = s.height() / 2,
          g.r = s.height() / 2,
          g.strokeWidth = g.r / 6,
          g.r = g.r - g.strokeWidth / 2,
          circleLength = 2 * Math.PI * g.r,
          g.initialDashOffset = circleLength,
          maskDashPeriod = circleLength / 12,
          maskDashPeriodStick = maskDashPeriod / 7,
          maskDashPeriodBar = maskDashPeriod - maskDashPeriodStick,
          maskDashPeriodStickOffset = maskDashPeriodStick / 2,
          r.attr("cx", g.cx).attr("cy", g.cy).attr("r", g.r).css("stroke-width", g.strokeWidth + "px"),
          l.attr("cx", g.cx).attr("cy", g.cy).attr("r", g.r).css("stroke-width", g.strokeWidth + "px").css("stroke-dashoffset", maskDashPeriodStickOffset + "px").css("stroke-dasharray", maskDashPeriodStick + "px, " + maskDashPeriodBar + "px"),
          d.attr("cx", g.cx).attr("cy", g.cy).attr("r", g.r).attr("transform", "rotate(-90 " + g.cx + " " + g.cy + ")").css("stroke-width", g.strokeWidth + "px").css("stroke-dasharray", g.initialDashOffset + "px")
      }
      function M() {
        g.remainingTimeInSeconds = Math.ceil(g.remainingTime / 1e3),
          g.currentPercentCompleted = 100 * (g.totalTime - g.remainingTime) / g.totalTime,
          g.currentPercentCompleted > 100 && (g.currentPercentCompleted = 100),
          g.nextPercentCompleted = 100 * (g.totalTime - g.remainingTime + g.animationInterval) / g.totalTime,
          g.nextPercentCompleted > 100 && (g.nextPercentCompleted = 100),
          g.currentDashOffset = g.initialDashOffset - g.currentPercentCompleted * g.initialDashOffset / 100,
          g.currentDashOffset < 0 && (g.currentDashOffset = 0),
          g.nextDashOffset = g.initialDashOffset - g.nextPercentCompleted * g.initialDashOffset / 100,
          g.nextDashOffset < 0 && (g.nextDashOffset = 0),
          c.text(g.remainingTimeInSeconds),
          i.timerTick.fire({
            remainingTimeInSeconds: g.remainingTimeInSeconds,
            currentPercentCompleted: g.currentPercentCompleted,
            totalTime: g.totalTime
          })
      }
      function C() {
        setTimeout((function () {
          d.css("stroke-dashoffset", g.nextDashOffset + "px")
        }
        ), 100)
      }
      function S() {
        null != f && setTimeout((function () {
          f.css("width", g.nextPercentCompleted + "%")
        }
        ), 100)
      }
      return i.timerTick = new EventObserver,
        i.setRemainingTime = function (e) {
          g.remainingTime = 1e3 * Math.round(e / 1e3)
        }
        ,
        i.setTotalTime = function (e) {
          g.totalTime = 1e3 * Math.round(e / 1e3)
        }
        ,
        i.setColor = function (e) {
          timerType = e,
            d.removeClass("countDownTimer__Circle--color1"),
            d.removeClass("countDownTimer__Circle--color2"),
            d.addClass("countDownTimer__Circle--" + e),
            h.removeClass("color1 color2"),
            u.removeClass("color1 color2"),
            h.addClass(e),
            u.addClass(e),
            null != f && (f.removeClass("countDownTimerMobile--color1"),
              f.removeClass("countDownTimerMobile--color2"),
              f.addClass("countDownTimerMobile--" + e))
        }
        ,
        i.show = function () {
          b(),
            M(),
            null != f && (f.css("transition", "").css("width", g.currentPercentCompleted + "%"),
              setTimeout((function () {
                f.css("transition", "width 1000ms linear")
              }
              ), 50)),
            d.css("transition", "").css("stroke-dashoffset", g.currentDashOffset + "px"),
            setTimeout((function () {
              d.css("transition", "stroke-dashoffset 1000ms linear")
            }
            ), 50)
        }
        ,
        i.start = function () {
          C(),
            S(),
            clearInterval(o),
            o = setInterval(A, g.animationInterval)
        }
        ,
        i.pause = function () {
          clearInterval(o),
            y(),
            gameCoreModule.isOwner && _()
        }
        ,
        i.resume = function () {
          w(),
            i.start(),
            gameCoreModule.isOwner && v()
        }
        ,
        i.setCurrentPauseState = function (e) {
          e ? (_(),
            y()) : (v(),
              w())
        }
        ,
        i
    }
    return e.createTimer = function (e, i, o, n, a) {
      if ($(".timeInfo").parent().toggleClass("hidden", !a),
        $("#timeInfoMobile__Text").parent().toggleClass("hidden", !a),
        $("#question__countDownTimerMobile").toggleClass("hidden", !a),
        a) {
        var s = $("#" + e);
        s.attr("contentbackup") || s.attr("contentbackup", s.html()),
          s.html(s.attr("contentbackup"));
        var r = t(e, i);
        return r.setRemainingTime(o),
          r.setTotalTime(n),
          r
      }
    }
      ,
      e
  }(countDownTimerModule || {})
  , countdownModule = function (e) {
    var t;
    return e.show = function () {
      $("#liveVideoInMediablock").hide(),
        $("#stage__Countdown").show()
    }
      ,
      e.hide = function () {
        $("#stage__Countdown").hide(),
          e.pause()
      }
      ,
      e.pause = function () {
        null != t && t.pause()
      }
      ,
      e.resume = function () {
        null != t && t.resume()
      }
      ,
      e.start = function (e) {
        (t = countDownTimerModule.createTimer("countDownTimerStart", void 0, e, e, !0)).setColor("color1"),
          t.show(),
          gameCoreModule.isPaused || null == t || t.start()
      }
      ,
      e
  }(countdownModule || {})
  , questionTemplatesModule = function (e) {
    return e.letters = "ABCDEFGHJKLMNOPQRSTUVWXYZ",
      e.answerTemplateEditable = '<div class="answerButton" wa-type="answerVariantButton" tabindex="##TABINDEX##">    <div class="answerButton__LeftLine">        <input id="answer__##ID##" name="answer" type="##TYPE##" data-answer-id="##ID##" class="answerButton__Input" />        <label class="answerButton__Text" for="answer__##ID##">            <span class="answerButton__Letter">##LETTER##</span>            <span class="answerButton__TextSpan" >##TEXT##</span>            <span class="icon icon-checked answer-checkbox"></span>            <span class="answerButton__Summary" style="display:none">0%</span>        </label >    </div></div>',
      e.answerTemplateNotEditable = '<div class="answerButton" tabindex="##TABINDEX##">    <div class="answerButton__LeftLine">        <input id="answer__##ID##" name="answer" type="hidden" data-answer-id="##ID##"/>        <label class="answerButton__Text">            <span class="answerButton__Letter">##LETTER##</span>            <span class="answerButton__TextSpan">##TEXT##</span>            <span class="icon icon-checked answer-checkbox"></span>            <span class="answerButton__Summary" style="display:none">0%</span>            <span class="answerButton__ProgressBar" data-maxwidth="0" style="display:none"></span>        </label >    </div></div>',
      e.answerImageTemplateEditable = '<div class="answerButton answerImageButton" wa-type="answerVariantButton" tabindex="##TABINDEX##">    <input id="answer__##ID##" name="answer" type="##TYPE##" data-answer-id="##ID##" class="answerButton__Input answerImageButton__Input" />    <div class="answerImageButton__Container">         <div style="background-image:url(\'##IMAGEPATH##\')" class="answerImageButton__Image" >             <div class="answerImageButton__SelectedPanel" >             </div >             <span class="icon icon-checked answerImageButton__CheckBox"></span>        </div >         <div class="answerButton__LeftLine">            <span class="answerButton__Text answerImageButton__Text" for="answer__##ID##">                <span class="answerButton__Letter answerImageButton__Letter">##LETTER##</span>                <span class="answerButton__TextSpan answerImageButton__TextSpan" >##TEXT##</span>            </span >        </div>         <div class="answerImageButton__Toolbar" >             <div class="answerImageButton__ToolbarControls">                 <div class="answerChoiceButton answerImageButton__ChoiceButton">                 </div>                 <div class="imagePreviewIcon answerImageButton__ToolbarPreviewIcon" data-image-path="##IMAGEPATH##" >                     <span class="icon icon-open-image-preview" >                         <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">                             <path d = "M3.66797 9.78806V5.66666C3.66797 4.56209 4.5634 3.66666 5.66797 3.66666H9.78937" stroke="white" stroke-width="2" stroke-linecap="round" />                             <path d="M3.66797 15.0864V18.3333C3.66797 19.4379 4.5634 20.3333 5.66797 20.3333H9.78937" stroke="white" stroke-width="2" stroke-linecap="round"/>                             <path d="M20.3359 9.78806V5.66666C20.3359 4.56209 19.4405 3.66666 18.3359 3.66666H14.2145" stroke="white" stroke-width="2" stroke-linecap="round"/>                             <path d="M20.3359 15.0864V18.3333C20.3359 19.4379 19.4405 20.3333 18.3359 20.3333H14.2145" stroke="white" stroke-width="2" stroke-linecap="round"/>                         </svg >                     </span >                 </div >              </div>         </div>     </div> </div>',
      e.answerImageTemplateNotEditable = '<div class="answerButton answerImageButton" tabindex="##TABINDEX##">    <input id="answer__##ID##" name="answer" type="hidden" data-answer-id="##ID##"/>    <div class="answerImageButton__Container">         <div style="background-image:url(\'##IMAGEPATH##\')" class="answerImageButton__Image" >             <div class="answerImageButton__SelectedPanel" >             </div >             <span class="icon icon-checked answerImageButton__CheckBox"></span>                        <div class="answerImageButton__CorrectPanel" >                 <span class="icon icon-checked correct-answer"></span>             </div>                         <div class="answerImageButton__WrongPanel" >                 <span class="icon icon-plus wrong-answer"></span>             </div>         </div >         <div class="answerButton__LeftLine">            <label class="answerButton__Text answerImageButton__Text" for="answer__##ID##">                <span class="answerButton__Letter answerImageButton__Letter">##LETTER##</span>                <span class="answerButton__TextSpan answerImageButton__TextSpan">##TEXT##</span>                <span class="answerButton__Summary" style="display:none">0%</span>                <span class="answerButton__ProgressBar" data-maxwidth="0" style="display:none"></span>            </label>        </div>    </div> </div>',
      e.answerTextTemplateEditable = '<div class="answerText" tabindex="##TABINDEX##" wa-type="answerText">    <div style="position: relative;">        <input id="answer__##ID##" name="answer" type="text" data-answer-id="##ID##" data-answer-text class="answerText__Input" autocomplete="off" />    </div></div>',
      e.answerTextTemplateNotEditable = '<div class="questionDetails__CorrectAnswerTitle questionDetails__AnswerTitle"></div><div class="answerButton answerButton--correct answerButton--withoutProgress" tabindex="##TABINDEX##">    <div class="answerButton__LeftLine">        <input id="answer__##ID##" name="answer" type="hidden" data-answer-id="##ID##"/>        <label class="answerButton__Text">            <span class="icon icon-checked correct-answer"></span>            <span class="answerButton__TextSpan">##CORRECTTEXT##</span>        </label >    </div></div><div class="questionDetails__WrongAnswerTitle questionDetails__AnswerTitle"></div><div class="answerButton answerButton--wrong answerButton--withoutProgress" tabindex="##TABINDEX##">    <div class="answerButton__LeftLine answerButton__LeftLine--wrong">        <input id="answer__##ID##" name="answer" type="hidden" data-answer-id="##ID##"/>        <label class="answerButton__Text">            <span class="icon icon-plus wrong-answer"></span>            <span class="answerButton__TextSpan">##WRONGTEXT##</span>        </label >    </div></div>',
      e.leaderInfoTemplate = function (e) {
        return '                    <div class="leaderInfo">                        <div class="leaderInfo__PlaceCol">                            <div class="leaderInfo__Place">##PLACE##</div>                        </div>                        <div class="leaderInfo__FotoCol">                            <div lb-photo-elem-id="##USERID##" class="leaderInfo__Foto"##STYLE_FOTO##></div>                            <div class="leaderInfo__Score">##SCORE##</div>                        </div>                        <div class="leaderInfo__NameCol">                            <div lb-username-elem-id="##USERID##" class="leaderInfo__Name">##USERNAME## <span class="hidden-lg">##ISYOU##</span></div>                            ' + (e ? '<div class="leaderInfo__TeamName leaderInfo__TeamName__shifted">' + e + "</div>" : "") + "                        </div>                    </div>"
      }
      ,
      e.answeredUserTemplate = '<div class="answersState__UserCol answersState__UserCol--New" user-col="true">    <div class="answersState__UserFotoCol">        <div class="answersState__UserFoto"##STYLE_FOTO##></div>    </div>    <div class="answersState__UserNameCol">        <div class="answersState__UserName" >##USERNAME##</div>    </div></div>',
      e.promoTemplate = '    <div class="promoBlockWait__Image">         <div id="promoBlockQuestion__ImageBlock"             class="imageBlock promoBlockWait__ImageRightBlock"             src="##IMAGE##"             media-type="Image"             wa-id="promoImage">\t        <div>\t\t        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAACCAYAAACddGYaAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMjHxIGmVAAAAEklEQVQYV2P4//8/HCNx/jMAAPInEe+L62rCAAAAAElFTkSuQmCC" />\t        </div>        </div>    </div>    <div class="promoBlockWait__TextContainer">        <div class="promoBlockWait__Text">            <p class="promoQuestion__Text">##TEXT##</p>        </div>        <div class="promoBlockWait__buttonsContainer promoQuestion__buttonsContainer oneButton">            <div class="promoBlockWait__Line"></div>            <a href="#" class="btn btn-primary promoQuestion_Add"></a>        </div>    </div>',
      e.promoTemplateVideoSelfHostedAutoplay = '<div class="promoBlockWait__Image">    <div id="promoBlockQuestion__ImageBlock"            class="imageBlock"            src="##IMAGE##"            media-type="VideoSelfHosted"            thumbnail-src="##THUMBNAIL##"            thumbnail-url="##THUMBNAIL_URL##"            video-autoplay="##VIDEOAUTOPLAY##"            is-muted="true"            wa-id="promoVideo">\t    <div>\t\t    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAACCAYAAACddGYaAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMjHxIGmVAAAAEklEQVQYV2P4//8/HCNx/jMAAPInEe+L62rCAAAAAElFTkSuQmCC" />\t    </div>    </div></div><div class="promoBlockWait__TextContainer">    <div class="promoBlockWait__Text">        <p class="promoQuestion__Text">##TEXT##</p>    </div>    <div class="promoBlockWait__buttonsContainer promoQuestion__buttonsContainer oneButton">        <div class="promoBlockWait__Line"></div>        <a href="#" class="btn btn-primary promoQuestion_Add"></a>    </div></div>',
      e.promoNotificationTemplate = '<div class="promoQuestionNotification">    ##TEXT##</div>',
      e.answeredUserInitTemplateMobile = '<div class="mobileNotification">    <div class="mobileNotification__TitleCol">        <div class="mobileNotification__Title" style="display: none;">##ALREADYANSWERED##</div>    </div></div>',
      e.answeredUserTemplateMobile = '<div class="mobileNotification">    <div class="mobileNotification__TitleCol">        <div class="mobileNotification__Title">##ALREADYANSWERED##</div>    </div>    <div class="mobileNotification__UserFotoCol">        <div class="mobileNotification__UserFoto"##STYLE_FOTO##></div>    </div>    <div class="mobileNotification__UserNameCol">        <div class="mobileNotification__UserName"><div>##USERNAME##</div></div>    </div></div>',
      e.wordCloudAnswersLeftTemplate = '            <div class="questionDetails__AnswerAttemptsWrapper" id="wordcloudAnswers">                <div class="questionDetails__AnswerAttemptsLeft questionDetails__WordCloudAnswers">                    <span class="title">##ANSWERSLEFTTITLE##</span>                    <span class="attempts-left">##ANSWERSLEFT##</span>                    <span class="attempts-delimeter">/</span>                    <span class="attempts-total">##ANSWERSTOTAL##</span>                </div>            </div>',
      e.resultUserTemplateMobile = function (e) {
        return '            <div class="mobileNotification">                <div class="mobileNotification__TitleCol">                    <div class="mobileNotification__Title">##RESULTMSG##</div>                </div>                <div class="mobileNotification__UserNameCol">                    <div class="mobileNotification__UserName"><div>##SCORE##</div></div>                  ' + (e ? '<div class="leaderInfo__TeamName">' + e + "</div>" : "") + "                  </div>            </div>"
      }
      ,
      e
  }(questionTemplatesModule || {})
  , notifyModule = function (e) {
    return e.getStyleForFoto = function (e) {
      return null != e ? ' style="background-image:url(' + e + ')"' : ' style="background-image:url(/app/images/userprofile/user_photo.png)"'
    }
      ,
      e.initMobileNotify = function () {
        var e = questionTemplatesModule.answeredUserInitTemplateMobile;
        e = e.replace(new RegExp("##ALREADYANSWERED##", "g"), localizationModule.localizationData.alreadyAnsweredLowercase),
          $("#mobileNotifications").html($(e))
      }
      ,
      e.displayAnsweredPlayer = function (t) {
        var i = questionTemplatesModule.answeredUserTemplate;
        i = (i = i.replace(new RegExp("##USERNAME##", "g"), t.DisplayName)).replace(new RegExp("##STYLE_FOTO##", "g"), e.getStyleForFoto(t.ImagePath));
        var o = $(i)
          , n = o.clone();
        $("#answersState__UsersRow").append(o),
          $(".activity-question-widget .game-top-panel__answered-users").append(n),
          setTimeout((function () {
            o.removeClass("answersState__UserCol--New"),
              n.removeClass("answersState__UserCol--New")
          }
          ), 10)
      }
      ,
      e.displayAnsweredPlayerMobile = function (t) {
        if (0 === leadersModule.bannedNicksUserIds.length) {
          var i = questionTemplatesModule.answeredUserTemplateMobile;
          i = (i = (i = i.replace(new RegExp("##ALREADYANSWERED##", "g"), localizationModule.localizationData.alreadyAnsweredLowercase)).replace(new RegExp("##USERNAME##", "g"), t.DisplayName)).replace(new RegExp("##STYLE_FOTO##", "g"), e.getStyleForFoto(t.ImagePath)),
            $("#mobileNotifications").html($(i))
        }
      }
      ,
      e.displayScoreMobile = function (e) {
        var t = questionTemplatesModule.resultUserTemplateMobile(gameCoreModule.currentTeamName);
        t = (t = t.replace(new RegExp("##RESULTMSG##", "g"), localizationModule.localizationData.yourResult + ":")).replace(new RegExp("##SCORE##", "g"), e),
          $("#mobileNotifications").html($(t))
      }
      ,
      e.displayLeader = function (t, i, o) {
        var n = t ? t.User.UserId === o : i.Team.Id == gameCoreModule.currentTeamId
          , a = gameCoreModule.currentTeamName && t ? gameCoreModule.currentTeamName : void 0
          , s = questionTemplatesModule.leaderInfoTemplate(a)
          , r = t ? t.Score : i.Score;
        s = (s = (s = (s = (s = s.replace(new RegExp("##USERNAME##", "g"), t ? t.User.FullName : i.Team.Name)).replace(new RegExp("##SCORE##", "g"), r)).replace(new RegExp("##PLACE##", "g"), t ? t.Position : i.Position)).replace(new RegExp("##ISYOU##", "g"), n ? "(" + localizationModule.localizationData.you + ")" : "")).replace(new RegExp("##USERID##", "g"), t && t.User ? `'${t.User.UserId}'` : "");
        var l = e.getStyleForFoto(t ? t.User.ImagePath : i.Team.ImagePath);
        s = s.replace(new RegExp("##STYLE_FOTO##", "g"), l),
          n && e.displayScoreMobile(r);
        var d = $(s);
        return $("#leadersList__Users").append(d),
          leadersModule.hideBannedUsersNicks(),
          d
      }
      ,
      e
  }(notifyModule || {})
  , eliminationGameModule = function (e) {
    var t = global_isEliminationGame
      , i = !1
      , o = ""
      , n = ""
      , a = !1;
    return e.init = function () {
      t && (i = !1,
        a = !1,
        o = "",
        n = "",
        $(".playerEliminated").addClass("hide"),
        $("#eliminationGameDialog").modal("hide"),
        $("#eliminationConnectDialog").modal("hide"),
        $("#passNextQuestionDialog").modal("hide"))
    }
      ,
      e.setQuestionAnswer = function (a) {
        t && (e.hideModalDialogs(),
          a.CurrentQuestion.IsEliminationQuestion && (i = !0,
            o = a.CurrentQuestion.EliminationWinnerMessage || "",
            n = a.CurrentQuestion.EliminationLoserMessage || ""))
      }
      ,
      e.displayEliminationGameMessage = function (e) {
        if (t && i) {
          if (e.IsPlayerEliminated) {
            if (!a) {
              var s = $("#eliminationGameDialog");
              n && s.find(".popup__desc").text(n);
              var r = localizationModule.getOrdinalSuffix(e.Position)
                , l = localizationModule.GetDeclension(e.Score);
              s.find(".eliminationGameDialog__position").text(e.Position + "-" + r),
                s.find(".eliminationGameDialog_score").text(e.Score + " " + l),
                $("#eliminationGameDialog").modal().toggleClass("modal--close"),
                $(".playerEliminated").removeClass("hide"),
                a = !0
            }
          } else
            $("#passNextQuestionDialog").find(".popup__desc").text(o),
              $("#passNextQuestionDialog").modal().toggleClass("modal--close");
          i = !1
        }
      }
      ,
      e.isPlayerResultGetOnAnswerStage = function (e) {
        return !!t && (e.CurrentQuestion && (e.CurrentQuestion.Type === questionType.Slide || e.CurrentQuestion.Type === questionType.Round))
      }
      ,
      e.displayEliminationConnectMessage = function () {
        t && (a || ($("#eliminationConnectDialog").modal().toggleClass("modal--close"),
          $(".playerEliminated").removeClass("hide"),
          a = !0))
      }
      ,
      e.hideModalDialogs = function () {
        $("#eliminationGameDialog").modal("hide"),
          $("#eliminationConnectDialog").modal("hide"),
          $("#passNextQuestionDialog").modal("hide")
      }
      ,
      e
  }(eliminationGameModule || {})
  , questionAnswerModule = function (e, t, i) {
    var o, n = void 0, a = void 0;
    let s = void 0;
    function r() {
      "function" == typeof e.validateVariantsOfAnswers && (e.validateVariantsOfAnswers() ? $(".questionDetails__Actions").css("opacity", .65) : $(".questionDetails__Actions").css("opacity", .35)),
        $(".questionDetails__QuestionCol").css("opacity", .5),
        $(".resultState").css("opacity", .5),
        $(".answerState").css("opacity", .5),
        $(".leadersList").css("opacity", t.isOwner ? 1 : .5),
        $("#timeInfoMobile__Seconds").css("opacity", .5),
        $("#timeInfoMobile__Text").css("opacity", .5),
        $("#question__countDownTimerMobile").css("opacity", .5),
        $(".questionDetails__lock-layer").show()
    }
    function l() {
      $(".questionDetails__Actions").css("opacity", 1),
        $(".resultState").css("opacity", 1),
        $(".answerState").css("opacity", 1),
        $(".leadersList").css("opacity", 1),
        $("#timeInfoMobile__Seconds").css("opacity", 1),
        $("#timeInfoMobile__Text").css("opacity", 1),
        $("#question__countDownTimerMobile").css("opacity", 1),
        $(".questionDetails__QuestionCol").css("opacity", 1),
        $(".questionDetails__lock-layer").hide()
    }
    function d(o) {
      var n = o.remainingTimeInSeconds >= 0 ? o.remainingTimeInSeconds : 0
        , s = $("#timeInfo__TimeExpired").text()
        , r = $(".timeInfo__Timer")
        , l = $("#timeInfo__TimeExpiredStub");
      $("#timeInfoMobile__Seconds").text(n);
      0 === n && a.IsCustomTime && a.IsManuallyGoNextQuestion ? (t.isOwner || (i.isAnswered(!0),
        e.displayAnswers()),
        r.hide(),
        l.parent().find(".timeInfo__Text > span").hide(),
        l.parent().find("#timeInfo__TimeExpired").show(),
        l.parents().find("#timeInfoMobile__Text > span").hide(),
        l.parents().find("#timeInfoMobile__Seconds").hide(),
        l.parents().find("#timeInfoMobile__TimeExpired").show(),
        e.setAnswerButtonHidden(),
        l.show(),
        widgetModule.sendTimeExpiredMessage(s)) : (l.hide(),
          l.parents().find("#timeInfoMobile__Seconds").show(),
          r.show()),
        0 == n && null != e.answerQuestion && (a && a.Type === questionType.Draw && (t.isSinglePlayer || a.Type !== questionType.Activity) || (e.validateVariantsOfAnswers(!0),
          e.answerQuestion())),
        0 == n && t.isSinglePlayer && !a.IsManuallyGoNextQuestion && t.goNextStage(0, 0)
    }
    function c() {
      return streamPlayer.isStreamInMediaBlock() && !t.isOwner
    }
    $((function () {
      $("#leadersList__ToggleIcon").click(e.toggleLeadersList)
    }
    )),
      e.show = function () {
        $("#stage__Questions").show()
      }
      ,
      e.hide = function () {
        $("#stage__Questions").hide(),
          e.pause(),
          function () {
            if (!o)
              return;
            o.timerTick.unsubscribe(d),
              o.timerTick.unsubscribe(i.onTimerQuestionAnswerStage)
          }()
      }
      ,
      e.fillReactionsStatisticList = function (e) {
        e.forEach((function (e) {
          $("span#reaction-" + e.ReactionType).text(e.ReactionCount)
        }
        ))
      }
      ,
      e.pause = function (e) {
        null != o && (e || r(),
          o.pause())
      }
      ,
      e.resume = function () {
        null != o && (l(),
          o.resume())
      }
      ,
      e.goNextStage = function () {
        globalThis.WordCloud && globalThis.WordCloud.setWords([]),
          e.pause(),
          t.goNextStage(0, 0)
      }
      ,
      e.updateWordcloudStats = function (e) {
        e.WordcloudWords && globalThis.WordCloud && (e.WordcloudWords.length > 0 ? (globalThis.WordCloud.setWords(e.WordcloudWords),
          globalThis.WordCloud.setIsAnswered(!0)) : (globalThis.WordCloud.setWords(global_Localization.localization_data.wordcloud.baseWords, !1),
            globalThis.WordCloud.setIsAnswered(!1)))
      }
      ,
      e.updateReactionsStats = function (t) {
        t.Reactions && t.Reactions.length > 0 && e.fillReactionsStatisticList(t.Reactions)
      }
      ,
      e.displayPosition = function (s) {
        e.displayStaticContent(s),
          a = s.CurrentQuestion,
          s.CurrentQuestion.Id == n && void 0 !== n || (n = s.CurrentQuestion.Id,
            e.scrollToTop()),
          a.Type != questionType.Activity && activityQuestionModule ? activityQuestionModule.isLastQuestion = !1 : activityQuestionModule && (activityQuestionModule.isLastQuestion = !0),
          e.displayInternalContent(s);
        const c = !s.CurrentQuestion.IsManuallyGoNextQuestion || s.CurrentQuestion.IsManuallyGoNextQuestion && s.CurrentQuestion.IsCustomTime;
        (o = countDownTimerModule.createTimer("question__countDownTimer", "question__countDownTimerMobile", s.TimeLeft >= 2e3 ? s.TimeLeft - 2e3 : 0, 1e3 * s.TimeForAnswerInSeconds, c)) && (o.timerTick.subscribe(d),
          a && a.Type === questionType.Draw || a && a.Type === questionType.Slide || a && a.Type === questionType.Round || o.timerTick.subscribe(i.onTimerQuestionAnswerStage)),
          o && (o.setColor("color1"),
            o.show()),
          s.IsPaused || t.hostIsNotAvailable ? (r(),
            t.isOwner || t.hostIsNotAvailable || alertBoxModule.gamePausedShow(),
            o && o.pause()) : (l(),
              t.isOwner || alertBoxModule.gamePausedHide(),
              null != o && o.resume()),
          t.isPaused || null == o || o.start(),
          $("#stage__Questions").removeClass("current__StageReview"),
          t.isSinglePlayer && ($(".questionDetails__NextActionText__Review").hide(),
            $(".questionDetails__NextActionText__Question").show())
      }
      ,
      e.showSlideContent = function (e) {
        if (e.CurrentQuestion.CustomDataValue.isGoogleSlide) {
          const t = `<iframe src="${function (e) {
            let t = e.split("?")[0];
            const i = t.lastIndexOf("/");
            return -1 !== i && (t = t.substring(0, i)),
              t
          }(e.CurrentQuestion.CustomDataValue.googleSlideUrl) + "/embed?start=false&loop=false"}" frameborder="0" width="100%" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>`;
          $("#questionDetails__GoogleSlide").html(t).show()
        } else {
          var t = $("#questionDetails__SlideCol");
          t.hide(),
            t.find(">:first-child").html(e.CurrentQuestion.Text),
            t.find(".image-blot").each((function () {
              var t = $(this).attr("imageid")
                , i = e.CurrentQuestion.QuestionImageUrls.filter((function (e) {
                  return e.ImageId === t
                }
                ));
              i.length > 0 ? $(this).attr("src", i[0].StorageUrl) : console.error("Question image not found:" + t)
            }
            )),
            t.show(e.CurrentQuestion)
        }
      }
      ,
      e.hideSlideContent = function (e) {
        $("#questionDetails__SlideCol").hide(),
          $("#questionDetails__GoogleSlide").empty().hide()
      }
      ,
      e.displayStaticContent = function (t) {
        $("#questionDetails__CorrectAnswerNote").hide();
        var i = !1
          , o = t.CurrentQuestion.Type === questionType.Slide || t.CurrentQuestion.Type === questionType.Round;
        e.hideSlideContent(),
          o && t.CurrentQuestion.CustomDataValue && (t.CurrentQuestion.CustomDataValue.isSlideAdvancedModeEnabled || t.CurrentQuestion.CustomDataValue.isGoogleSlide) ? (e.showSlideContent(t),
            i = "True" != $("#Quiz_IsStreamInMediaBlock").val(),
            e.displayQuestionText("")) : e.displayQuestionText(t.CurrentQuestion.Text),
          i || (!t.IsAddingMediaForReviewStageEnabled || t.IsAddingMediaForReviewStageEnabled && (!t.CurrentQuestion.IsNeedCorrectAnswerNote || t.CurrentQuestion.IsNeedCorrectAnswerNote && t.CurrentQuestion.CorrectAnswerNote && !t.CurrentQuestion.CorrectAnswerImagePath) ? e.displayQuestionImage(t.CurrentQuestion.ImagePath, t.CurrentQuestion.ImageHeight, t.CurrentQuestion.ImageWidth, t.CurrentQuestion.ImageMediaType, t.CurrentQuestion.ImageThumbnailUrl, t.CurrentQuestion.ImageVideoAutoPlay, !o) : (imageBlockModule.dispose("questionDetails__ImageBlock"),
            e.displayQuestionImage(t.CurrentQuestion.CorrectAnswerImagePath, t.CurrentQuestion.CorrectAnswerImageHeight, t.CurrentQuestion.CorrectAnswerImageWidth, t.CurrentQuestion.CorrectAnswerImageMediaType, t.CurrentQuestion.CorrectAnswerImageThumbnailUrl, t.CurrentQuestion.CorrectAnswerImageVideoAutoPlay, !o),
            t.CurrentQuestion && "Video" === t.CurrentQuestion.CorrectAnswerImageMediaType && $(".questionDetails__YoutubeInfoMsg").hide())),
          $("#stage__Questions #mobileNotifications").toggleClass("hidden", o),
          $("#stage__Questions").toggleClass("questionWithoutAnswers", o);
        var n = t.CurrentQuestion.QuestionNote;
        t.CurrentQuestion.IsNeedQuestionNote && n ? ($("#questionDetails__QuestionNote").show(),
          $("#questionDetails__QuestionNote .note-text").html(n.replace(/\r\n/g, "<br/>"))) : $("#questionDetails__QuestionNote").hide(),
          $("#answersState__ReceivedAnswers").text(""),
          e.displayProgress(t.CurrentQuestion.StepTitle, t.CurrentQuestion.Type),
          $(".questionDetails__ImageCol").toggle(!i),
          $(".questionDetails__ImageCol").toggleClass("empty", $(".questionDetails__ImageCol > .imageBlock  > div").attr("style") && "" == $(".questionDetails__ImageCol > .imageBlock  > div").attr("style") || !$("#questionDetails__ImageBlock").is(":visible")),
          notifyModule.initMobileNotify(),
          e.displayLeaders(t.TopScores, t.TeamTopScores, t.HostState == hostStateEnum.ReviewAnswer, t.CurrentQuestion.Type, t.CurrentQuestion.IsHideLeaderboardForOwner, t.CurrentQuestion.IsHideLeaderboardForPlayer),
          e.startAnsweredUsersRoutine()
      }
      ,
      e.displayQuestionImage = function (e, t, i, o, n, a, s) {
        if (null != e || "VideoSelfHosted" === o) {
          $("#questionVideoInfoMsgMobile").addClass("hidden"),
            $("#questionVideoInfoMsg").addClass("hidden"),
            $("#questionDetails__ImageBlock").show();
          imageBlockModule.initWithSettings("questionDetails__ImageBlock", {
            src: c() ? "" : e,
            mediaType: c() ? "VideoStream" : o,
            thumbnailSrc: n,
            isAutoPlay: a,
            isMuted: !1,
            lang: localizationModule.lang,
            imageWidth: i,
            imageHeight: t
          });
          $("#questionDetails__ImageBlock > div").is(":empty") && $("#questionDetails__ImageBlock").hide()
        } else
          $("#questionDetails__ImageBlock").hide(),
            s = !1;
        s || ($("#questionVideoInfoMsgMobile").addClass("hidden"),
          $("#questionVideoInfoMsg").addClass("hidden"))
      }
      ,
      e.disposePreviousQuestionData = function () {
        imageBlockModule.dispose("questionDetails__ImageBlock"),
          imageBlockModule.dispose("promoBlockQuestion__ImageBlock")
      }
      ,
      e.displayQuestionText = function (e) {
        $("#questionDetails__Text").html(GlobalUtils.sanitizeString(e).replace(/\r\n/g, "<br/>"))
      }
      ,
      e.displayProgress = function (e, t) {
        var i = "";
        switch (t) {
          case questionType.Round:
            i = global_Localization.localization_data.questionTypeNames.round;
            break;
          case questionType.Slide:
            i = global_Localization.localization_data.questionTypeNames.slide;
            break;
          default:
            i = global_Localization.localization_data.questionTypeNames.question
        }
        var o = e.replace("<Q>", i);
        if ($("#gameProgressMobile__QuestionNumber").html(o),
          e.includes("<Q>")) {
          o = o.split("/");
          var n = parseInt(o[1]);
          $("#gameProgressMobile__QuestionNumber").html(`${o[0]} <span class="sum">/ ${n}</span>`)
        }
        t === questionType.Activity && ($(".activity-question-widget__question-number").text(e.replace("<Q>", i)),
          $(".activity-question-widget__question-name").text(e.replace("<Q>", i).split(" ")[0]))
      }
      ,
      e.toggleLeadersList = function () {
        $("#leadersList__ToggleIcon").toggleClass("icon-arrow-down-t2"),
          $("#leadersList__Users").slideToggle()
      }
      ,
      e.hideMobileRightCol = function () {
        $(".bodyLayout__RightCol").addClass("bodyLayout__RightCol--mobile-hidden")
      }
      ,
      e.displayMobileRightCol = function () {
        $(".bodyLayout__RightCol").removeClass("bodyLayout__RightCol--mobile-hidden")
      }
      ,
      e.hidePromo = function (e) {
        $("#infoBlockPromo > .promoBlockWait #promoBlockPlaceHolder").empty(),
          $("#infoBlockPromo").hide(),
          $("#infoBlockPromo").removeData("questionId"),
          $("#infoBlockPromo").data("isInitPromo", !1)
      }
      ,
      e.displayPromo = function (e, i) {
        if (e.PromoEnabled) {
          if ($("#infoBlockPromo").data("isInitPromo") && i === hostStateEnum.ReviewAnswer)
            return;
          void 0 === n && (n = e.Id),
            $("#infoBlockPromo").data("questionId", n);
          var o = questionTemplatesModule.promoTemplate;
          "VideoSelfHosted" == e.PromoImageMediaType && (o = null != e.PromoImagePath ? (o = (o = (o = questionTemplatesModule.promoTemplateVideoSelfHostedAutoplay).replace(new RegExp("##THUMBNAIL##", "g"), e.PromoImageThumbnailUrl ? e.PromoImageThumbnailUrl : "")).replace(new RegExp("##THUMBNAIL_URL##", "g"), e.PromoImageThumbnailUrl)).replace(new RegExp("##VIDEOAUTOPLAY##", "g"), e.PromoImageVideoAutoPlay) : (o = o.replace("imageBlock", "imageBlock imageBlock__videoProcessing")).replace(new RegExp("##IMAGE##", "g"), "/app/images/home/video_processing_" + localizationModule.lang + ".png")),
            o = (o = o.replace(new RegExp("##IMAGE##", "g"), e.PromoImagePath ? e.PromoImagePath : "#")).replace(new RegExp("##TEXT##", "g"), e.PromoText),
            $("#infoBlockPromo > .promoBlockWait #promoBlockPlaceHolder").empty(),
            $("#infoBlockPromo > .promoBlockWait #promoBlockPlaceHolder").append(o);
          var a = $("#infoBlockPromo").find(".promoQuestion__Text");
          a.text() || a.hide();
          var s = questionTemplatesModule.promoNotificationTemplate;
          s = s.replace(new RegExp("##TEXT##", "g"), localizationModule.localizationData.linksCollectionNotification),
            $("#infoBlockPromo > #promoNotificationPlaceHolder").empty(),
            $("#infoBlockPromo > #promoNotificationPlaceHolder").append(s),
            t.isOwner || null == e.PromoQuestionUrlReviewAfterGame ? $(".promoQuestion__buttonsContainer").hide() : ($(".promoQuestion_Add").attr("href", e.PromoQuestionUrlReviewAfterGame),
              $(".promoQuestion_Add").html(localizationModule.localizationData.promoQuestion.saveButton)),
            $("#infoBlockPromo").show(),
            "VideoSelfHosted" != e.PromoImageMediaType && null == e.PromoImagePath ? $("#stage__Questions .promoBlockWait__Image").hide() : imageBlockModule.init("promoBlockQuestion__ImageBlock"),
            $("#infoBlockPromo").data("isInitPromo", !0)
        } else
          $("#infoBlockPromo > .promoBlockWait #promoBlockPlaceHolder").empty(),
            $("#infoBlockPromo").hide(),
            $("#infoBlockPromo").data("isInitPromo", !1)
      }
      ;
    var u = void 0
      , h = void 0;
    return e.startAnsweredUsersRoutine = function () {
      e.stopAnsweredUsersRoutine(),
        h = setInterval(e.displayAnswersStateRoutine, 1e3)
    }
      ,
      e.stopAnsweredUsersRoutine = function () {
        $("#answersState").hide(),
          $("#answersState__UsersRow").empty(),
          u = [],
          clearInterval(h)
      }
      ,
      e.displayAnswersState = function (e) {
        $("#answersState").show(),
          $("#answersState__ReceivedAnswers").text(e.LastAnsweredPlayersTotalCount);
        for (var t = 0; t < e.LastAnsweredPlayers.length; t++)
          u.push(e.LastAnsweredPlayers[t])
      }
      ,
      e.displayAnswersStateRoutine = function () {
        var t = u.shift();
        null != t && ($("#answersState *[user-col]").length >= 3 && e.hideAnswerPlayerBlock(),
          notifyModule.displayAnsweredPlayer(t),
          notifyModule.displayAnsweredPlayerMobile(t))
      }
      ,
      e.hideAnswerPlayerBlock = function () {
        var e = $("#answersState *[user-col]:nth-of-type(1)");
        setTimeout((function () {
          $(e).remove()
        }
        ), 500)
      }
      ,
      e.scrollToTop = function () {
        $("body,html").animate({
          scrollTop: 0
        }, 800)
      }
      ,
      e.displayScrollToBottom = function () {
        $(".scrollToBottom").addClass("scrollToBottom--show-mobile")
      }
      ,
      e.hideScrollToBottom = function () {
        $(".scrollToBottom").removeClass("scrollToBottom--show-mobile")
      }
      ,
      e.displayQuestionLeaderBoard = function (e, t) {
        if (t)
          clearInterval(s);
        else {
          var i = $(".infoBlock--gameLeaderBoard");
          if (s && clearInterval(s),
            e)
            i.toggleClass("visible", !1),
              $("#leadersList__Users").empty();
          else {
            var o = i.find("#answersState #answersState__UsersRow, #leadersList #leaderBoard__OneCol, #leadersList #leadersList__Users, #resultState #resultState__User, #playerleadersList")
              , n = [];
            s = setInterval((function () {
              n = [],
                o.each((function () {
                  n.push($(this).is(":visible"))
                }
                ));
              var e = n.some((function (e) {
                return e
              }
              ));
              i.toggleClass("visible", e)
            }
            ), 1e3)
          }
        }
      }
      ,
      e
  }(questionAnswerModule || {}, gameCoreModule, gameAssistantModule);
function QuestionAnswer(e, t, i, o) {
  this.model = e,
    this.letter = t,
    this.showCorrect = i,
    this.animationIntervalHandler = 0,
    this.$getContainer = function () {
      var i = questionTemplatesModule.answerTemplateNotEditable
        , n = o === questionType.Image
        , a = o === questionType.Open
        , s = o === questionType.Draw;
      n && (i = questionTemplatesModule.answerImageTemplateNotEditable);
      var r = e.Text;
      if (a) {
        var l = r.trim().split(global_question_string_delimiter);
        l.length > 0 && (r = l[0])
      }
      i = (i = (i = i.replace(new RegExp("##ID##", "g"), e.Id)).replace(new RegExp("##LETTER##", "g"), t)).replace(new RegExp("##TEXT##", "g"), GlobalUtils.sanitizeString(r).replace(/\r\n/g, "<br/>")),
        n && (i = i.replace(new RegExp("##IMAGEPATH##", "g"), e.ImagePath));
      var d = $(i);
      return (a || s) && d.find(".answerButton__Letter")[0].remove(),
        this.showCorrect && (this.model.IsCorrect ? d.addClass("answerButton--correct") : d.addClass("answerButton--wrong")),
        d
    }
    ,
    this.findElement = function () {
      return $('input[data-answer-id="' + this.model.Id + '"]').parents(".answerButton")
    }
    ,
    this.getSummaryElement = function () {
      return this.findElement().find("label .answerButton__Summary")
    }
    ,
    this.getProgressElement = function () {
      return this.findElement().find("label .answerButton__ProgressBar")
    }
    ,
    this.setSummary = function (e) {
      e && this.model.Id === e.Id && (0 !== this.findElement().length && (this.animationSummaryState.targetPercent = e.AnswersPercent,
        this.getSummaryElement().fadeIn(),
        this.getProgressElement().fadeIn()))
    }
    ,
    this.animationSummaryState = {
      curPercent: 0,
      targetPercent: 0
    },
    this.animateSummary = function () {
      this.animationIntervalHandler && clearInterval(this.animationIntervalHandler);
      var e = this;
      this.animationIntervalHandler = setInterval((function () {
        if (e.animationSummaryState.curPercent > 100 || e.animationSummaryState.curPercent < 0 || e.animationSummaryState.curPercent === e.animationSummaryState.targetPercent)
          clearInterval(e.animationIntervalHandler);
        else {
          var t = e.animationSummaryState.targetPercent - e.animationSummaryState.curPercent;
          Math.abs(t) < 1 ? e.animationSummaryState.curPercent += Math.abs(t) * Math.sign(t) : e.animationSummaryState.curPercent += 1 * Math.sign(t),
            e.getSummaryElement().text(Math.round(100 * e.animationSummaryState.curPercent) / 100 + "%"),
            e.getProgressElement().width(e.animationSummaryState.curPercent + "%")
        }
      }
      ), 30)
    }
}
var answersBlockModule = (answersBlockModule = function (e) {
  e.selector = "#questionDetails__Answers",
    e.imageClass = "questionDetails__Answers--Images",
    e.elementsAnswers = [],
    e.options = {
      showCorrect: !1,
      questionType: !1
    };
  var t = questionTemplatesModule.letters;
  return e.init = function (t, i) {
    e.options.showCorrect = i.showCorrect,
      e.options.questionType = i.questionType,
      e.getContainer().toggleClass(e.imageClass, e.options.questionType === questionType.Image),
      e.clear(),
      e.setAnswers(t)
  }
    ,
    e.getContainer = function () {
      return $(e.selector)
    }
    ,
    e.clear = function () {
      e.getContainer().empty(),
        e.elementsAnswers.forEach((function (e) {
          clearInterval(e.animationIntervalHandler)
        }
        )),
        e.elementsAnswers = []
    }
    ,
    e.setAnswers = function (i) {
      if (e.clear(),
        i)
        for (var o = 0; o < i.length; o++)
          e.displayAnswer(i[o], t[o])
    }
    ,
    e.setAnswersSummary = function (t) {
      t && e.elementsAnswers.forEach((function (e, i) {
        var o = t.filter((function (t) {
          return t.Id === e.model.Id
        }
        ));
        o.length > 0 && (e.setSummary(o[0]),
          e.animateSummary())
      }
      ))
    }
    ,
    e.displayStatistics = function (t) {
      t && e.setAnswersSummary(t.QuestionStatistics)
    }
    ,
    e.displayWordcloudStatistics = function (e, t, i) {
      globalThis.wordcloudQuestionModule.createWordCloud(e, globalThis.WordCloud).then(e => {
        globalThis.WordCloud = e,
          t && t.length > 0 ? (globalThis.WordCloud.setWords(t),
            globalThis.WordCloud.setIsAnswered(!0)) : i || 0 !== globalThis.WordCloud.getWords().length || (globalThis.WordCloud.setWords(global_Localization.localization_data.wordcloud.baseWords, !1),
              globalThis.WordCloud.setIsAnswered(!1))
      }
      )
    }
    ,
    e.startSummaryAnimations = function () { }
    ,
    e.stopSummaryAnimations = function () { }
    ,
    e.displayAnswer = function (e, t) { }
    ,
    e
}(answersBlockModule || {})) || {}
  , questionReviewModule = (questionAnswerModule = function (e, t, i) {
    var o = void 0;
    let n = !1
      , a = !1
      , s = []
      , r = 0
      , l = 0;
    function d() {
      var e = questionTemplatesModule.answerTextTemplateEditable
        , t = $(e)
        , i = t.find("input:text");
      i.attr("placeholder", $(".questionDetails__InputPlaceholder").text());
      const n = o.IsAnswered && o.AnswerText && o.AnswerText.length > 0
        , a = o.CurrentQuestion && o.CurrentQuestion.IsCustomTime && o.CurrentQuestion.IsManuallyGoNextQuestion && o.IsAnswered;
      return n || a ? i.val(o.AnswerText).prop("readonly", !0) : setTimeout((function () {
        window.matchMedia("(max-width: 768px)").matches || i.focus()
      }
      ), 0),
        t
    }
    e.setAnswerIsCorrect = function (e) {
      n = e
    }
      ,
      e.setIsLimitAttemptsReached = function (e) {
        a = e
      }
      ,
      e.setPreviousAnswers = function (e) {
        s = e
      }
      ,
      e.setUserAttemptsCount = function (e) {
        r = e
      }
      ,
      e.displayUserAttemptsLeft = function () {
        const e = l - r;
        e >= 0 && $(".attempts-left").text(e)
      }
      ,
      e.setTotalAttemptsCount = function (e) {
        l = e
      }
      ,
      e.displayPreviouslyAnswers = function () {
        s && s.length > 0 && ($(".questionDetails__PreviouslyAnswers .list").text(s.join(", ")),
          $(".questionDetails__PreviouslyAnswers").show())
      }
      ,
      e.displayAnswerAttemptsLeft = function (t) {
        e.displayUserAttemptsLeft(),
          $(".attempts-total").text(l),
          3 == t ? $("#openAnswers").show() : $("#wordcloudAnswers").show()
      }
      ,
      e.hidePreviouslyAnswerList = function () {
        s && s.length > 0 && ($(".questionDetails__PreviouslyAnswers").hide(),
          e.setPreviousAnswers([]))
      }
      ,
      e.hideAnswerAttemptsLeft = function () {
        $(".questionDetails__AnswerAttemptsWrapper").hide()
      }
      ,
      e.clearAnswerAttempts = function () {
        e.hideAnswerAttemptsLeft(),
          e.hidePreviouslyAnswerList(),
          e.setUserAttemptsCount(0),
          e.setTotalAttemptsCount(0),
          e.setIsLimitAttemptsReached(!1)
      }
      ,
      e.isAttemptsModeEnabled = function (e) {
        if (e.Type !== questionType.Open && e.Type !== questionType.WordCloud || !e.CustomDataValue)
          return !1;
        const t = e.CustomDataValue.numberAttemptsMode;
        return !(!t || 1 == t)
      }
      ,
      e.displayInternalContent = function (t) {
        (o = t).IsAnswered = !1;
        const a = e.isAttemptsModeEnabled(t.CurrentQuestion);
        if (e.hideReactions(),
          null != t.AnswerIds && t.AnswerIds.length > 0 || t.AnswerText || t.AnswerDrawModelId || t.CurrentQuestion.Type === questionType.Slide || t.CurrentQuestion.Type === questionType.Round ? ((t.CurrentQuestion.Type !== questionType.Open && t.CurrentQuestion.Type !== questionType.WordCloud || 0 == a) && (o.IsAnswered = !0),
            promoModalModule.hideQuestionPromoModal(),
            t.CurrentQuestion.PromoModal && (e.hidePromo(t.CurrentQuestion),
              a || promoModalModule.displayQuestionPromoModal(t.CurrentQuestion.PromoModal)),
            t.CurrentQuestion.PromoModal || e.displayPromo(t.CurrentQuestion, t.HostState),
            e.displayMobileRightCol()) : (e.hidePromo(t.CurrentQuestion),
              e.hideMobileRightCol(),
              promoModalModule.hideQuestionPromoModal()),
          t.CurrentQuestion.IsUserReactionsEnabled && o.ReactionsSummaries && (e.fillReactionsStatisticList(o.ReactionsSummaries),
            e.showReactions(),
            e.displayMobileRightCol()),
          a) {
          t.IsAnswerTextCorrect && t.CurrentQuestion.Type == questionType.Open && (e.setAnswerIsCorrect(!0),
            e.hideAnswerAttemptsLeft());
          const i = t.CurrentQuestion.CustomDataValue.numberAttempts;
          if (i && (e.setTotalAttemptsCount(i),
            t.PreviousAnswerAttempts)) {
            const i = t.PreviousAnswerAttempts.PreviousAnswerAttemptsCount
              , o = t.PreviousAnswerAttempts.AnswerTexts;
            i && o && 0 == r && (e.setUserAttemptsCount(i),
              e.setPreviousAnswers(o))
          }
          (n && t.CurrentQuestion.Type == questionType.Open || 3 == t.CurrentQuestion.CustomDataValue.numberAttemptsMode && r >= l) && (t.IsAnswered = !0,
            s.length > 0 && o.AnswerText && 0 == o.AnswerText.length && (t.AnswerText = s.slice(-1)))
        }
        e.setTimeInfoText(o.IsAnswered && !i.isSinglePlayer),
          e.setAnswerButtonState(o.IsAnswered ? "answered" : "noanswer"),
          e.setAnswerButtonDisplay(t),
          e.displayAnswers(),
          e.validateVariantsOfAnswers(),
          e.setAnswerButtonCnahge(),
          e.setAnswerTextInputCnahge(),
          e.setImagePreviewChange(),
          e.displayScrollToBottom(),
          chatModuleAPI.hide(),
          o.IsAnswered && (o.CurrentQuestion.PromoEnabled || o.CurrentQuestion.PromoModal) && (e.scrollToPromoBlock(),
            addToCartModule.initAll(".blockForCart")),
          eliminationGameModule.setQuestionAnswer(t),
          e.showInfoBlock(),
          e.displayQuestionLeaderBoard(t.CurrentQuestion.IsHideLeaderboardForPlayer)
      }
      ,
      e.showInfoBlock = function () {
        var e = $("#answersStateWrapper").parent();
        e.toggleClass("hidden", 1 == e.children().not(".hidden").length)
      }
      ,
      e.setSelectedReactionById = function (e) {
        if (void 0 === e)
          return;
        $("#infoBlockReactionsStatistic .selected").removeClass("selected");
        const t = $("#infoBlockReactionsStatistic span#" + e + ".icon").parent();
        t && (t.addClass("selected"),
          $("#infoBlockReactionsStatistic .text").removeClass("visible"))
      }
      ,
      e.getSelectedReactionCountById = function (e) {
        if (void 0 !== e)
          return Number($(".item.selected #reaction-" + e).text())
      }
      ,
      e.setSelectedReactionCountById = function (e, t) {
        void 0 !== e && $(".item.selected #reaction-" + e).text(t)
      }
      ,
      e.setDefaultReactionValue = function () {
        e.setSelectedReactionById(0)
      }
      ,
      e.showReactions = function () {
        $("#infoBlockReactionsStatistic").show()
      }
      ,
      e.hideReactions = function () {
        $("#infoBlockReactionsStatistic").hide(),
          $("#infoBlockReactionsStatistic .selected").removeClass("selected")
      }
      ,
      e.updateNextActionSize = function () {
        $(".questionDetails__Actions:visible").length ? ($(".questionDetails__NextAction").css("height", $(".questionDetails__Actions").height()),
          $(".questionDetails__NextAction ").removeClass("questionDetails__NextAction__FullWidth"),
          $(".questionDetails__NextAction").parents(".questionDetails__AnswerActionContainer").show().removeClass("onlyNextButtonVisible")) : ($(".questionDetails__NextAction ").addClass("questionDetails__NextAction__FullWidth"),
            $(".questionDetails__NextAction").parents(".questionDetails__AnswerActionContainer").show().addClass("onlyNextButtonVisible"))
      }
      ,
      e.displayAnswers = function () {
        var n = o.CurrentQuestion.Answers;
        switch ($("#questionDetails__Answers").empty(),
        $(".questionDetails__AnswerMessage").hide(),
        $("#answerAction").fadeIn().removeClass("hidden"),
        o.CurrentQuestion.Type === questionType.Activity && activityQuestionModule && (activityQuestionModule.disposeHighlight(),
          e.prepareCameraHelp()),
        i.isRandomization && (i.randomAnswers[o.CurrentQuestion.Id] || e.shuffleAnswers(n)),
        $("#questionDetails__Answers").toggleClass("questionDetails__Answers--Images", o.CurrentQuestion.Type === questionType.Image),
        activitySpeedCheckModule && activitySpeedCheckModule.stopStrictSpeedCheck(),
        o.CurrentQuestion.Type === questionType.Activity ? ($(".infoBlock .activityActions .activity-start-button").off("click"),
          $(".infoBlock .activityActions .activity-start-button").addClass("activity-start-button_loading").removeClass("activity-start-button_active").removeClass("activity-start-button_forbidden"),
          o.IsAnswered ? ($(".infoBlock .activityActions .activity-start-button__text-start").hide(),
            $(".infoBlock .activityActions .activity-start-button__text-no-camera").hide(),
            $(".infoBlock .activityActions .activityActions__camera-troubleshooting").hide(),
            $(".infoBlock .activityActions .activity-start-button__text-not-supported").hide(),
            $(".infoBlock .activityActions .activity-start-button__text-continue").hide(),
            $(".infoBlock .activityActions .activity-start-button__text-result").show(),
            $(".infoBlock .activityActions .redance-button").css("pointer-events", "none"),
            $(".infoBlock .activityActions .redance-button").hide()) : ($(".infoBlock .activityActions .activity-start-button__text-start").show(),
              $(".infoBlock .activityActions .activity-start-button__text-no-camera").hide(),
              $(".infoBlock .activityActions .activityActions__camera-troubleshooting").hide(),
              $(".infoBlock .activityActions .activityActions__camera-is-ok").hide(),
              $(".infoBlock .activityActions .activity-start-button__text-not-supported").hide(),
              $(".infoBlock .activityActions .activity-start-button__text-result").hide(),
              $(".infoBlock .activityActions .activity-start-button__text-continue").hide()),
          $(".infoBlock .activityActions").show(),
          $(".questionDetails__ActivityMessageCol").show(),
          $(".questionDetails__Text").hide(),
          $(".questionDetails__ActionContainer").hide(),
          $(".infoBlock--center .questionDetails .YoutubeInfoMsg .gameDetails__CloseBlock").click()) : (activityUIModule.hide(),
            $(".infoBlock .activityActions").hide(),
            $(".questionDetails__ActivityMessageCol").hide(),
            $(".questionDetails__Text").show(),
            $(".questionDetails__ActionContainer").show()),
        o.CurrentQuestion.Type) {
          case questionType.Image:
            !function (t) {
              for (var i = questionTemplatesModule.letters, n = o.AnswerIds, a = o.IsAnswered ? questionTemplatesModule.answerImageTemplateNotEditable : questionTemplatesModule.answerImageTemplateEditable, s = !t.some((function (e) {
                return !!e.Text
              }
              )), r = 0; r < t.length; r++) {
                var l = a
                  , d = t[r];
                l = (l = (l = (l = (l = (l = l.replace(new RegExp("##ID##", "g"), d.Id)).replace(new RegExp("##LETTER##", "g"), i[r])).replace(new RegExp("##TEXT##", "g"), GlobalUtils.sanitizeString(d.Text.replace(/\r\n/g, "<br/>")))).replace(new RegExp("##TYPE##", "g"), o.CurrentQuestion.IsSingleChoise ? "radio" : "checkbox")).replace(new RegExp("##TABINDEX##", "g"), r)).replace(new RegExp("##IMAGEPATH##", "g"), d.ImagePath);
                var c = $(l);
                if (c.find(".answerImageButton__ChoiceButton").text($(".questionDetails__Choice").text()),
                  o.IsAnswered && n.indexOf(t[r].Id) > -1)
                  c.addClass("answerButton--selected");
                else
                  c.find(".answerButton__Input").change(e.validateVariantsOfAnswers);
                s && c.addClass("answerImageButton--blanktext"),
                  $("#questionDetails__Answers").append(c)
              }
              $("#answerAction__SelectedOptions").show()
            }(n);
            break;
          case questionType.WordCloud:
            !function () {
              let t = document.createElement("div");
              t.style.width = "100%",
                t.style.height = "100%",
                t.className = "wordCloudView",
                $openAnswerElement = d();
              let i = $openAnswerElement.find("input:text");
              i.attr("placeholder", $(".questionDetails__InputPlaceholder").text()),
                i.attr("maxlength", "20");
              let n = document.createElement("div");
              n.className = "questionDetails__SymbolCounter",
                n.innerHTML = i.val().length + "/20",
                i.parent().append(n),
                i.on("input", (function () {
                  let e = $(this).val().toLowerCase().substring(0, 20);
                  $(n).html(e.length + "/20"),
                    $(this).val(e)
                }
                )),
                $(".answerAction__SelectedOptions").hide(),
                $("#questionDetails__Answers").append(t),
                e.isAttemptsModeEnabled(o.CurrentQuestion) && function () {
                  const e = l - r;
                  if (e <= 0)
                    return;
                  let t = questionTemplatesModule.wordCloudAnswersLeftTemplate;
                  t = t.replace(new RegExp("##ANSWERSLEFTTITLE##", "g"), global_Localization.localization_data.answersLeft.title),
                    t = t.replace(new RegExp("##ANSWERSLEFT##", "g"), e),
                    t = t.replace(new RegExp("##ANSWERSTOTAL##", "g"), l),
                    $("#questionDetails__Answers").append(t)
                }();
              $("#questionDetails__Answers").append($openAnswerElement),
                answersBlockModule.displayWordcloudStatistics(t, function () {
                  if (globalThis.WordCloud) {
                    const e = globalThis.WordCloud.getWords();
                    if (e !== global_Localization.localization_data.wordcloud.baseWords && e.length > o.WordcloudWords.length)
                      return e
                  }
                  return o.WordcloudWords
                }(), o.IsAnswered)
            }();
            break;
          case questionType.Open:
            !function () {
              var t = d();
              $("#questionDetails__Answers").append(t),
                $("#answerAction").removeAttr("disabled").addClass("heartbeat").removeClass("hidden"),
                $(".answerAction__SelectedOptions").hide(),
                e.setAnswerButtonDisplay(o)
            }();
            break;
          case questionType.Draw:
            !function () {
              $(".questionDetails__AnswerCount").hide();
              var t = $("#questionDetails__Answers").get(0)
                , i = o.CurrentQuestion.DrawModelCode;
              o.IsAnswered ? (drawCanvasModule.dispose(),
                drawCanvasModule.showDraw(t)) : ($("#answerAction").fadeOut().addClass("hidden"),
                  drawCanvasModule.init(t, i, (function () {
                    e.answerQuestion()
                  }
                  )),
                  $("#answerAction").removeAttr("disabled").addClass("heartbeat"));
              $(".answerAction__SelectedOptions").hide()
            }();
            break;
          case questionType.Activity:
            !function (i) {
              activityQuestionModule.disposeHighlight(),
                o.IsAnswered ? t.ignoreNotSelected(!1) : (activitySpeedCheckModule.startStrictSpeedCheck(() => { }
                  , () => { }
                ),
                  t.ignoreNotSelected(!0));
              !async function (t, i) {
                if ($(".close-activity-disabled-popup").click((function () {
                  $(".activity-disabled-popup").fadeOut()
                }
                )),
                  i)
                  activityQuestionModule.hasResult() ? ($(".infoBlock .activityActions .activity-start-button").addClass("activity-start-button_active").removeClass("activity-start-button_loading").removeClass("activity-start-button_forbidden"),
                    $(".infoBlock .activityActions .activity-start-button").off("click"),
                    $(".infoBlock .activityActions .activity-start-button").on("click", c)) : $(".infoBlock .activityActions .activity-start-button").addClass("activity-start-button_forbidden").removeClass("activity-start-button_loading").removeClass("activity-start-button_active");
                else {
                  activityQuestionModule.setMuted(!1);
                  let i = await async function () {
                    let e = navigator.mediaDevices;
                    if (!e || !e.enumerateDevices)
                      return !1;
                    return (await e.enumerateDevices()).some(e => "videoinput" === e.kind)
                  }();
                  if (i && $(".infoBlock .activityActions__camera-is-ok").show(),
                    !i)
                    return void e.activityCameraNotWorking();
                  for (let e = 0; e < 25; e++) {
                    let e = await activityQuestionModule.load(t);
                    if (1 === activityQuestionModule.getStatus())
                      break;
                    console.log("Error while loading activity widget:", e)
                  }
                  if (activityQuestionModule.getStatus() < 1)
                    return void window.alert("Cannot load activity widget");
                  activityQuestionModule.preloadMain(),
                    $(".infoBlock .activityActions .activity-start-button__text-result").hide(),
                    $(".infoBlock .activityActions .activity-start-button__text-continue").hide(),
                    $(".infoBlock .activityActions .activity-start-button__text-start").show(),
                    $(".infoBlock .activityActions .activity-start-button__text-no-camera").hide(),
                    $(".infoBlock .activityActions .activityActions__camera-troubleshooting").hide(),
                    $(".infoBlock .activityActions .activity-start-button__text-not-supported").hide(),
                    $(".infoBlock .activityActions .activity-start-button").addClass("activity-start-button_active").removeClass("activity-start-button_loading").removeClass("activity-start-button_forbidden"),
                    $(".infoBlock .activityActions .activity-start-button").off("click"),
                    $(".infoBlock .activityActions .activity-start-button").on("click", t => {
                      !async function (t) {
                        let i = $(".imageBlock .frameContainer").get(0).getElementsByTagName("video")[0];
                        i && i.pause(),
                          await activityCaptureModule.startCameraCapture(),
                          activityUIModule.show(),
                          u();
                        let o = {
                          success: !0
                        };
                        o.success ? e.runMainDanceWithResult() : (activityCaptureModule.stopCameraCapture(),
                          "exception" === o.error && window.alert("An error occured:\n\n" + o.exception.toString() + "\n\nTry to reload the page."))
                      }()
                    }
                    ),
                    activityQuestionModule.hidden || $(".infoBlock .activityActions .activity-start-button").click()
                }
              }(i, o.IsAnswered)
            }(o.CurrentQuestion.CustomDataValue);
            break;
          case questionType.Default:
          case questionType.Polling:
          default:
            !function (t) {
              var i = questionTemplatesModule.letters
                , n = o.AnswerIds
                , a = questionTemplatesModule.answerTemplateEditable;
              o.IsAnswered && (a = questionTemplatesModule.answerTemplateNotEditable);
              for (var s = 0; s < t.length; s++) {
                var r = a;
                r = (r = (r = (r = (r = r.replace(new RegExp("##ID##", "g"), t[s].Id)).replace(new RegExp("##LETTER##", "g"), i[s])).replace(new RegExp("##TEXT##", "g"), GlobalUtils.sanitizeString(t[s].Text).replace(/\r\n/g, "<br/>"))).replace(new RegExp("##TYPE##", "g"), o.CurrentQuestion.IsSingleChoise ? "radio" : "checkbox")).replace(new RegExp("##TABINDEX##", "g"), s);
                var l = $(r);
                if (o.IsAnswered && n && n.indexOf(t[s].Id) > -1)
                  l.addClass("answerButton--selected");
                else
                  l.find(".answerButton__Input").change(e.validateVariantsOfAnswers);
                $("#questionDetails__Answers").append(l)
              }
              $("#answerAction__SelectedOptions").show()
            }(n)
        }
        e.updateNextActionSize(),
          $("#questionDetails__Answers").toggleClass("empty", $("#questionDetails__Answers").is(":empty"))
      }
      ;
    let c = function () {
      let e = $(".imageBlock .frameContainer").get(0).getElementsByTagName("video")[0];
      e && e.pause(),
        activityUIModule.show(),
        activityQuestionModule.setMuted(!0),
        activityUIModule.hideTimerToNextActivity(),
        activityUIModule.hideLeaders(),
        activityQuestionModule.displayResult(void 0)
    };
    function u() {
      $(".infoBlock .activityActions .activity-start-button__text-start").hide(),
        $(".infoBlock .activityActions .activity-start-button__text-no-camera").hide(),
        $(".infoBlock .activityActions .activityActions__camera-troubleshooting").hide(),
        $(".infoBlock .activityActions .activity-start-button__text-not-supported").hide(),
        $(".infoBlock .activityActions .activity-start-button__text-result").hide(),
        $(".infoBlock .activityActions .activity-start-button__text-continue").show(),
        $(".infoBlock .activityActions .activity-start-button").addClass("activity-start-button_active").removeClass("activity-start-button_loading").removeClass("activity-start-button_forbidden"),
        $(".infoBlock .activityActions .activity-start-button").off("click"),
        $(".infoBlock .activityActions .activity-start-button").on("click", activityUIModule.unfoldWidget)
    }
    function h() {
      return $(".imagePreviewModal")
    }
    return e.runMainDanceWithResult = async function () {
      if (!await activityCaptureModule.startCameraCapture())
        return;
      activityQuestionModule.isRedanceLocked = !1,
        u();
      let t = await activityQuestionModule.runMain();
      return t.success ? (console.log("PE: End of video. Result:", t),
        activityCaptureModule.stopCameraCapture(),
        activityUIModule.hideTimerToNextActivity(),
        activityUIModule.hideLeaders(),
        activityQuestionModule.displayResult(t),
        e.answerQuestion(),
        $(".infoBlock .activityActions .activity-start-button__text-start").hide(),
        $(".infoBlock .activityActions .activity-start-button__text-no-camera").hide(),
        $(".infoBlock .activityActions .activityActions__camera-troubleshooting").hide(),
        $(".infoBlock .activityActions .activityActions__camera-is-ok").hide(),
        $(".infoBlock .activityActions .activity-start-button__text-not-supported").hide(),
        $(".infoBlock .activityActions .activity-start-button__text-continue").hide(),
        $(".infoBlock .activityActions .activity-start-button__text-result").show(),
        $(".infoBlock .activityActions .activity-start-button").addClass("activity-start-button_active").removeClass("activity-start-button_loading").removeClass("activity-start-button_forbidden"),
        $(".infoBlock .activityActions .activity-start-button").off("click"),
        $(".infoBlock .activityActions .activity-start-button").on("click", c),
        t) : (t.exception ? window.alert("An error occured:\n\n" + t.exception.toString() + "\n\nTry to reload the page.") : window.alert("An error occured:\n\n" + t.error.toString() + "\n\nTry to reload the page."),
          t)
    }
      ,
      e.activityCameraNotWorking = function () {
        $(".infoBlock .activityActions .activity-start-button").addClass("activity-start-button_forbidden").removeClass("activity-start-button_loading").removeClass("activity-start-button_active"),
          $(".infoBlock .activityActions .activity-start-button__text-start").hide(),
          $(".infoBlock .activityActions .activity-start-button__text-no-camera").show(),
          $(".infoBlock .activityActions .activity-start-button__text-continue").hide(),
          $(".infoBlock .activityActions .activity-start-button__text-result").hide(),
          $(".infoBlock .activityActions .activity-start-button__text-not-supported").hide(),
          $(".infoBlock .activityActions .activityActions__camera-is-ok").hide(),
          $(".infoBlock .activityActions .activityActions__camera-troubleshooting").show()
      }
      ,
      e.shuffleAnswers = function (e) {
        for (var t, n, a = e.length; 0 !== a;)
          n = Math.floor(Math.random() * a),
            t = e[a -= 1],
            e[a] = e[n],
            e[n] = t;
        i.randomAnswers[o.CurrentQuestion.Id] = [];
        for (var s = 0; s < e.length; s++)
          i.randomAnswers[o.CurrentQuestion.Id].push(e[s].Id)
      }
      ,
      e.displayAnswersSummary = function () { }
      ,
      e.addReactionQuestion = function () {
        const t = e.getSelectedReactionId();
        t && i.reaction(o.CurrentQuestion.Id, t)
      }
      ,
      e.cancelReactionQuestion = function () {
        i.reaction(o.CurrentQuestion.Id, 0)
      }
      ,
      e.getSelectedReactionId = function () {
        return $("#infoBlockReactionsStatistic .selected .icon").attr("id")
      }
      ,
      e.answerQuestion = async function () {
        var s = e.validateVariantsOfAnswers(!0);
        if (s || o.IsAnswered || o.CurrentQuestion.Type !== questionType.Draw || $("#answerNotAccepted").modal().toggleClass("modal--close"),
          !o.IsAnswered && s) {
          o.IsAnswered = !0;
          var l = e.getSelectedAnswerIds()
            , d = e.getSelectedAnswerText()
            , c = o.CurrentQuestion.DrawModelId;
          e.setAnswerButtonState("progress"),
            e.isAttemptsModeEnabled(o.CurrentQuestion) ? await i.answerAttempt(o.CurrentQuestion.Id, l, d) : i.answer(o.CurrentQuestion.Id, l, d, c),
            e.setAnswerButtonState(),
            o.AnswerIds = l,
            o.AnswerText = d,
            o.AnswerDrawModelId = c;
          const s = e.getSelectedReactionId()
            , f = e.getSelectedReactionCountById(s);
          if (e.displayInternalContent(o),
            s && f && (e.setSelectedReactionById(s),
              e.setSelectedReactionCountById(s, f)),
            t.isAnswered(o.IsAnswered),
            $(".answer-checkbox").hide(),
            o.CurrentQuestion.Type === questionType.Activity && !1 === activityQuestionModule.hidden)
            $(".answerAcceptedMessage--activity").fadeIn(),
              setTimeout(() => $(".answerAcceptedMessage--activity").fadeOut(), 3e3);
          else if (o.CurrentQuestion.Type === questionType.Open || o.CurrentQuestion.Type === questionType.WordCloud) {
            const t = o.CurrentQuestion.CustomDataValue.numberAttemptsMode
              , s = o.CurrentQuestion.CustomDataValue.numberAttempts;
            if (t && 1 != t)
              if (n) {
                if (i.isSinglePlayer) {
                  var u = $("#questionDetails__CorrectAnswerMessage");
                  u.show(),
                    widgetModule.sendCorrectAnswerMessage(u.text())
                } else {
                  (p = $("#questionDetails__AnswerAcceptedMessage")).show(),
                    widgetModule.sendAnswerAcceptedMessage(p.text())
                }
                e.setAnswerIsCorrect(!1),
                  o.CurrentQuestion.PromoModal && promoModalModule.displayQuestionPromoModal(o.CurrentQuestion.PromoModal)
              } else if (o.CurrentQuestion.Type === questionType.Open && (2 == t || 3 == t && r < s)) {
                var h = $("#questionDetails__WrongAttemptAnswerMessage");
                h.show(),
                  widgetModule.sendWrongAnswerMessage(h.text())
              } else if (3 == t && r >= s || 3 == t && a) {
                var m = $("#questionDetails__ExhaustedAnswerMessage");
                m.show(),
                  widgetModule.sendWrongAnswerMessage(m.text()),
                  o.CurrentQuestion.PromoModal && promoModalModule.displayQuestionPromoModal(o.CurrentQuestion.PromoModal)
              } else {
                (p = $("#questionDetails__AnswerAcceptedMessage")).show(),
                  widgetModule.sendAnswerAcceptedMessage(p.text())
              }
          } else {
            var p;
            (p = $("#questionDetails__AnswerAcceptedMessage")).show(),
              widgetModule.sendAnswerAcceptedMessage(p.text())
          }
        }
      }
      ,
      e.scrollToPromoBlock = function () {
        $((function () {
          setTimeout((function () {
            $("html, body").animate({
              scrollTop: $("#promoBlockPlaceHolder").offset().top + $("#promoBlockPlaceHolder").height() + 20 - $(window).height()
            }, 400)
          }
          ), 400)
        }
        ))
      }
      ,
      e.setAnswerButtonState = function (t) {
        $(".sticky-button-layout").show(),
          $("#answerAction").unbind("click"),
          $("#answerAction > b").hide(),
          "progress" == t ? ($(".sticky-button-layout.sticky").removeClass("sticky"),
            $("#answerAction").attr("disabled", !0).removeClass("heartbeat"),
            $("#answerAction__ProgressText").show()) : "answered" == t ? ($(".sticky-button-layout.sticky").removeClass("sticky"),
              $("#answerAction").attr("disabled", !0).removeClass("heartbeat"),
              $("#answerAction__AnsweredText").show()) : ($(".sticky-button-layout"),
                $("#answerAction").removeAttr("disabled").addClass("heartbeat"),
                $("#answerAction__AnswerText").show(),
                $("#answerAction").bind("click", e.answerQuestion))
      }
      ,
      e.setAnswerButtonDisplay = function (e) {
        $(".sticky-button-layout").hide(),
          $(".questionDetails__AnswerCount").hide();
        var t = e.CurrentQuestion.IsSingleChoise
          , i = e.ShowAlwaysAnswerButton
          , n = e.CurrentQuestion.HideCorrectAnswerNumber
          , a = e.AnswerIds && e.AnswerIds.length ? e.AnswerIds.length : 0
          , s = e.CurrentQuestion.CorrectAnswerNumber;
        if (e.CurrentQuestion.Type != questionType.Slide && e.CurrentQuestion.Type != questionType.Round) {
          if (!t && !n) {
            $(".questionDetails__AnswerCount").show(),
              $(".questionDetails__AnswerNumber").text(a),
              $(".questionDetails__CorrectAnswerNumber").text(s);
            var r = a <= s ? a : s;
            $(".questionDetails__AnswerCountProgressBar").width(100 * r / s + "%")
          }
          !n && !i || o.IsAnswered || ($(".sticky-button-layout").show(),
            $(".answerAction__SelectedOptionCount").text(a))
        }
      }
      ,
      e.setAnswerButtonHidden = function () {
        $(".sticky-button-layout").hide()
      }
      ,
      e.setAnswerButtonCnahge = function () {
        $(".answerButton__Input").on("change", (function () {
          var t = o.CurrentQuestion.IsSingleChoise
            , i = o.ShowAlwaysAnswerButton
            , n = o.CurrentQuestion.HideCorrectAnswerNumber
            , a = $("input[data-answer-id]:checked").length
            , s = o.CurrentQuestion.CorrectAnswerNumber;
          n || ($(".questionDetails__AnswerNumber").text(a),
            a <= s && $(".questionDetails__AnswerCountProgressBar").width(100 * a / s + "%")),
            i || n ? $(".answerAction__SelectedOptionCount").text(a) : t ? e.answerQuestion() : s !== a || e.answerQuestion()
        }
        ))
      }
      ,
      e.setImagePreviewChange = function () {
        $(".imagePreviewIcon").on("click", (function () {
          var e = $(this).data("image-path");
          return h().find(".imagePreviewModal__Content").css({
            "background-image": "url(" + e + ")"
          }),
            h().fadeIn(),
            !1
        }
        )),
          $(".imagePreviewModal__CloseIcon").on("click", (function () {
            h().fadeOut()
          }
          )),
          $(document).on("click", (function (e) {
            var t = h();
            t.find(".imagePreviewModal__Content").is(e.target) || 0 !== t.has(e.target).length || h().fadeOut()
          }
          )),
          $(".answerImageButton").on("click", (function () {
            var e = $(window).scrollTop() + $(window).height()
              , t = $(this)
              , i = t.offset().top + t.height();
            e < i && $("html, body").animate({
              scrollTop: i + 80 - $(window).height()
            }),
              $(".answerImageButton__Toolbar:visible").slideUp();
            var o = $(this).find(".answerImageButton__Toolbar");
            return o.is(":visible") || o.slideDown(),
              !1
          }
          )),
          $(".answerImageButton__ChoiceButton").on("click", (function () {
            var e = $(this).closest(".answerImageButton")
              , t = e.find("input");
            t.prop("checked", !t.prop("checked")).trigger("change"),
              e.find(".answerImageButton__Toolbar").slideUp()
          }
          ))
      }
      ,
      e.setAnswerTextInputCnahge = function () {
        $("#answerAction").attr("disabled", !0),
          $("input.answerText__Input[data-answer-text]").on("keyup input", (function (e) {
            13 === e.keyCode && $("#answerAction").click(),
              e.target.value.length > 0 ? $("#answerAction").attr("disabled", !1) : $("#answerAction").attr("disabled", !0)
          }
          ))
      }
      ,
      e.setTimeInfoText = function (t) {
        e.setTimeInfoTextByPrefix(t, "timeInfo"),
          e.setTimeInfoTextByPrefix(t, "timeInfoMobile")
      }
      ,
      e.setTimeInfoTextByPrefix = function (e, t) {
        $("#" + t + "__Text > span").hide(),
          e ? $("#" + t + "__AnswerAfter").show() : $("#" + t + "__TimeForAnswerText").show()
      }
      ,
      e.getSelectedAnswerIds = function () {
        var e = [];
        return $("input[data-answer-id]:checked").each((function (t, i) {
          e.push($(i).data("answer-id"))
        }
        )),
          e
      }
      ,
      e.getSelectedAnswerText = function () {
        if (o.CurrentQuestion.Type === questionType.Activity)
          return console.log(activityQuestionModule.result, activityQuestionModule.isScoringDisabled),
            activityQuestionModule.isScoringDisabled ? JSON.stringify(activityQuestionModule.ZERO_RESULT()) : JSON.stringify(activityQuestionModule.result);
        var e = $("input.answerText__Input[data-answer-text]").val();
        return o.CurrentQuestion.Type === questionType.WordCloud && e && (e = e.trim()),
          e || ""
      }
      ,
      e.displayPlayerResult = function (e) {
        var t = notifyModule.displayLeader(e, null, i.currentUserId);
        $("#resultState").show(),
          $("#resultState__User").empty(),
          $("#resultState__User").append($(t)),
          $(".activity-question-current-player__name").text(e.User.FullName),
          0 !== $(".activity-question-current-player__photo").length && $(".activity-question-current-player__photo").prop("outerHTML", $(".activity-question-current-player__photo").prop("outerHTML").replace("bg_style", notifyModule.getStyleForFoto(e.User.ImagePath)))
      }
      ,
      e.validateVariantsOfAnswers = function (i) {
        var n = $(this)
          , a = n.hasClass("answerButton__Input") ? n.attr("id") : void 0
          , s = !1;
        if ($("#validationError_AllVariantsChoosen").hide(),
          !o.IsAnswered) {
          var r = $(".answerButton__Input:checked").length
            , l = $(".answerButton__Input").length;
          const n = o.CurrentQuestion.Type === questionType.Polling && o.CurrentQuestion.CustomDataValue && !0 === o.CurrentQuestion.CustomDataValue.isMultipleOptionsEnabled;
          if (o.CurrentQuestion.IsSingleChoise && $(".answerButton__Input").each((function (e) {
            var t = $(this);
            t.attr("id") !== a && t.removeAttr("checked")
          }
          )),
            o.CurrentQuestion.Type === questionType.Open || o.CurrentQuestion.Type === questionType.WordCloud)
            s = !!e.getSelectedAnswerText();
          else
            o.CurrentQuestion.Type === questionType.Draw && i ? (s = drawCanvasModule.isAnswerCorrect,
              drawCanvasModule.dispose()) : o.CurrentQuestion.Type === questionType.Activity && i ? (s = void 0 !== activityQuestionModule.result,
                t.ignoreNotSelected(!1),
                activitySpeedCheckModule.stopStrictSpeedCheck(),
                activityQuestionModule.dispose()) : 0 == r ? $("#answerAction").attr("disabled", !0).removeClass("heartbeat") : r != l || n ? ($("#answerAction").removeAttr("disabled").addClass("heartbeat"),
                  s = !0) : ($("#answerAction").attr("disabled", !0).removeClass("heartbeat"),
                    $("#validationError_AllVariantsChoosen").show());
          t.answerSelected(s)
        }
        return s
      }
      ,
      e.displayLeaders = function (e, t, o, n, a, s) {
        if (leadersModule.topScoresCache = e,
          s)
          return $(".infoBlock--gameLeaderBoard").toggleClass("visible", !1),
            $("#leadersList__Users").empty(),
            void $(".infoBlock--gameLeaderBoard").css("border", "none");
        if (n === questionType.Slide || n === questionType.Round) {
          var r = t && t.length > 0
            , l = r ? t.length : e ? e.length : e;
          leadersModule.displayCurrentLeaders(r ? null : e, t, l)
        }
        if ($("#leadersList__Users").empty(),
          e && e.length > 0 || t && t.length > 0) {
          $(".infoBlock--gameLeaderBoard").toggleClass("visible", !0),
            $("#leadersList").show();
          for (var d = Math.min(t ? t.length : e.length, 5), c = 0; c < d; c++)
            notifyModule.displayLeader(t ? null : e[c], t ? t[c] : null, i.currentUserId)
        } else
          $("#leadersList").hide();
        leadersModule.hideBannedUsersNicks()
      }
      ,
      e.prepareCameraHelp = function () {
        $(".camera-help").hide(),
          $(".activity-message-col__close-link").off("click"),
          $(".activity-message-col__close-link").on("click", (function (e) {
            $(".questionDetails__ActivityMessageCol").hide()
          }
          )),
          $(".activityActions__camera-troubleshooting__how-to-solve").off("click"),
          $(".activityActions__camera-troubleshooting__how-to-solve").on("click", (function (e) {
            $(".camera-help").show(),
              $([document.documentElement, document.body]).animate({
                scrollTop: $("#camera-help").offset().top
              }, 500)
          }
          )),
          $(".camera-help__header-close-btn").off("click"),
          $(".camera-help__header-close-btn").on("click", (function (e) {
            $(".camera-help").hide()
          }
          ))
      }
      ,
      e.isPlayerResultGetOnNextAnswerStage = function (e) {
        return e.CurrentQuestion && e.CurrentQuestion.Type !== questionType.Slide && e.CurrentQuestion.Type !== questionType.Round
      }
      ,
      e
  }(questionAnswerModule, gameAssistantModule, gameCoreModule),
    function (e, t) {
      var i = void 0
        , o = void 0;
      function n(e) {
        return e.Text.trim().split(global_question_string_delimiter).filter((function (e) {
          return !!e
        }
        ))
      }
      function a() {
        activityUIModule.show(),
          activityQuestionModule.setMuted(!0),
          activityQuestionModule.displayResult(void 0),
          activityUIModule.showTimerToNextActivity(),
          activityUIModule.renderLeaders(),
          activityUIModule.showLeaders()
      }
      function s(e, t) {
        var n = i.AnswerIds
          , a = i.CurrentQuestion
          , s = i.CurrentQuestion.Type === questionType.Image ? questionTemplatesModule.answerImageTemplateNotEditable : questionTemplatesModule.answerTemplateNotEditable
          , r = questionTemplatesModule.letters;
        s = (s = (s = s.replace(new RegExp("##ID##", "g"), e.Id)).replace(new RegExp("##LETTER##", "g"), r[t])).replace(new RegExp("##TEXT##", "g"), GlobalUtils.sanitizeString(e.Text).replace(/\r\n/g, "<br/>"));
        var l = i.CurrentQuestion.Type === questionType.Image;
        l && (s = s.replace(new RegExp("##IMAGEPATH##", "g"), e.ImagePath));
        var d = !a.Answers.some((function (e) {
          return !!e.Text
        }
        ))
          , c = $(s)
          , u = function (e) {
            var t = i.AnswersSummary
              , o = 0;
            t && (o = t.filter((function (t) {
              return t.Id === e
            }
            ))).length > 0 && (o = o[0].AnswersPercent);
            return o
          }(e.Id)
          , h = c.find(".answerButton__Text");
        switch (h.find(".answerButton__Summary").css("display", "").text(u + "%"),
        h.find(".answerButton__ProgressBar").css("display", "").attr("data-maxwidth", u),
        d && c.addClass("answerImageButton--blanktext"),
        null != n && n.indexOf(e.Id) > -1 && (l ? c.addClass("answerImageButton--selected") : c.addClass("answerButton--selected"),
          e.IsCorrect ? h.prepend('<span class="icon icon-checked correct-answer"></span>') : h.prepend('<span class="icon icon-plus wrong-answer"></span>')),
        a.Type) {
          case questionType.Polling:
            c.addClass("answerButton--polling");
            break;
          default:
            e.IsCorrect ? c.addClass("answerButton--correct") : c.addClass("answerButton--wrong")
        }
        $("#questionDetails__Answers").append(c),
          l || function () {
            var e = 0;
            o && clearInterval(o);
            o = setInterval((function () {
              (e += 1) > 100 ? clearInterval(o) : $(".questionDetails__Answers .answerButton__ProgressBar").each((function () {
                var t = $(this).attr("data-maxwidth")
                  , i = Math.min(e, t);
                $(this).width(i + "%")
              }
              ))
            }
            ), 30)
          }(),
          $("#questionDetails__Answers").toggleClass("empty", $("#questionDetails__Answers").is(":empty"))
      }
      function r() {
        var e = $("#questionDetails__CorrectAnswerMessage");
        $("#questionDetails__AnswerAcceptedMessage").hide(),
          e.show(),
          widgetModule.sendCorrectAnswerMessage(e.text())
      }
      function l() {
        var e = $("#questionDetails__WrongAnswerMessage");
        $("#questionDetails__AnswerAcceptedMessage").hide(),
          $("#questionDetails__WrongAttemptAnswerMessage").hide(),
          $("#questionDetails__ExhaustedAnswerMessage").hide(),
          e.show(),
          widgetModule.sendWrongAnswerMessage(e.text())
      }
      return e.displayInternalContent = function (o) {
        i = o,
          e.hideAnswerButton(),
          e.hideValidationMessages(),
          e.hideAnswerCount(),
          e.hideActivityActions(),
          e.displayAnswers(),
          t.isSinglePlayer || (e.setTimeInfoText(),
            promoModalModule.hideQuestionPromoModal()),
          o.CurrentQuestion.IsUserReactionsEnabled && i.ReactionsSummaries && e.fillReactionsStatisticList(i.ReactionsSummaries),
          questionAnswerModule.displayPromo(o.CurrentQuestion, o.HostState),
          questionAnswerModule.displayMobileRightCol(),
          questionAnswerModule.stopAnsweredUsersRoutine()
      }
        ,
        e.displayAnswers = function () {
          var o = i.CurrentQuestion.Answers;
          switch ($("#questionDetails__Answers").empty(),
          $("#questionDetails__Answers").toggleClass("questionDetails__Answers--Images", i.CurrentQuestion.Type === questionType.Image),
          i.CurrentQuestion.Type !== questionType.Activity && activityUIModule.hide(),
          t.isSinglePlayer && i.CurrentQuestion.Type == questionType.Activity && $(".questionDetails__ActionContainer").hide(),
          i.CurrentQuestion.Type) {
            case questionType.WordCloud:
              $("#questionDetails__AnswerAcceptedMessage").hide(),
                answersBlockModule.displayWordcloudStatistics(document.getElementById("questionDetails__Answers"), i.WordcloudWords, i.IsAnswered);
              break;
            case questionType.Open:
              !function (e) {
                if (e.length > 0) {
                  var t = e[0]
                    , o = questionTemplatesModule.answerTextTemplateNotEditable
                    , a = function (e, t) {
                      if (!t)
                        return !1;
                      for (var i = n(e), o = 0; o < i.length; o++) {
                        if (i[o].trim().toLowerCase() === t.trim().toLowerCase())
                          return !0
                      }
                      return !1
                    }(t, i.AnswerText)
                    , s = n(t)
                    , d = a ? i.AnswerText : s.length > 0 ? s[0] : "";
                  d = GlobalUtils.sanitizeString(d),
                    o = (o = (o = (o = o.replace(new RegExp("##ID##", "g"), t.Id)).replace(new RegExp("##LETTER##", "g"), "")).replace(new RegExp("##CORRECTTEXT##", "g"), d)).replace(new RegExp("##WRONGTEXT##", "g"), i.AnswerText ? GlobalUtils.sanitizeString(i.AnswerText) : "");
                  var c = $(o);
                  $("#questionDetails__Answers").append(c),
                    $("#questionDetails__Answers").find(".questionDetails__CorrectAnswerTitle").text($(".questionDetails__CorrectAnswer").text()),
                    $("#questionDetails__Answers").find(".questionDetails__WrongAnswerTitle").text($(".questionDetails__YouAnswered").text()),
                    a ? ($(".questionDetails__WrongAnswerTitle").hide(),
                      $(".answerButton--wrong").hide(),
                      r()) : ($(".questionDetails__WrongAnswerTitle").show(),
                        $(".answerButton--wrong").show(),
                        l())
                }
              }(o);
              break;
            case questionType.Draw:
              !function (e) {
                $(".questionDetails__AnswerCount").hide();
                var t = $("#questionDetails__Answers").get(0);
                drawCanvasModule.showDraw(t),
                  drawCanvasModule.dispose(),
                  function (e, t) {
                    if (!t)
                      return !1;
                    for (var i = e.filter((function (e) {
                      return e.IsCorrect
                    }
                    )), o = 0; o < i.length; o++) {
                      if (i[o].DrawModelId === t)
                        return !0
                    }
                    return !1
                  }(e, i.AnswerDrawModelId) ? r() : l()
              }(o);
              break;
            case questionType.Activity:
              e.showActivityActions(),
                $(".infoBlock--center .questionDetails .YoutubeInfoMsg .gameDetails__CloseBlock").click(),
                $(".infoBlock .activityActions .activity-start-button__text-start").hide(),
                $(".infoBlock .activityActions .activity-start-button__text-no-camera").hide(),
                $(".infoBlock .activityActions .activityActions__camera-troubleshooting").hide(),
                $(".infoBlock .activityActions .activityActions__camera-is-ok").hide(),
                $(".infoBlock .activityActions .activity-start-button__text-not-supported").hide(),
                $(".infoBlock .activityActions .activity-start-button__text-continue").hide(),
                $(".infoBlock .activityActions .activity-start-button__text-result").show(),
                $(".infoBlock .activityActions .activity-start-button").show(),
                $("questionDetails__ActivityMessageCol .activity-message-col__close-link").off("click"),
                $("questionDetails__ActivityMessageCol .activity-message-col__close-link").on("click", (function (e) {
                  $(".questionDetails__ActivityMessageCol").hide()
                }
                )),
                $(".questionDetails__ActivityMessageCol").show(),
                activityQuestionModule.dispose(),
                activitySpeedCheckModule.stopStrictSpeedCheck(),
                activityQuestionModule.hasResult() ? ($(".infoBlock .activityActions .activity-start-button").addClass("activity-start-button_active").removeClass("activity-start-button_loading").removeClass("activity-start-button_forbidden"),
                  $(".infoBlock .activityActions .activity-start-button").off("click"),
                  $(".infoBlock .activityActions .activity-start-button").on("click", a),
                  a()) : (activityUIModule.foldWidget(),
                    $(".infoBlock .activityActions .activity-start-button").addClass("activity-start-button_forbidden").removeClass("activity-start-button_loading").removeClass("activity-start-button_active"));
              break;
            case questionType.Default:
            case questionType.Polling:
            case questionType.Image:
            default:
              !function (e) {
                if (t.isRandomization && t.randomAnswers[i.CurrentQuestion.Id])
                  for (var o = t.randomAnswers[i.CurrentQuestion.Id], n = 0; n < o.length; n++) {
                    var a = o[n]
                      , d = e.filter((function (e) {
                        return e.Id === a
                      }
                      ));
                    d.length > 0 && s(d[0], n)
                  }
                else
                  for (var c = 0; c < e.length; c++)
                    s(e[c], c);
                switch (i.CurrentQuestion.Type) {
                  case questionType.Polling:
                    $("#questionDetails__AnswerAcceptedMessage").hide(),
                      $("#questionDetails__PollingAnswerMessage").show();
                    break;
                  default:
                  case questionType.Default:
                    !function (e, t) {
                      if (!t)
                        return !1;
                      var i = e.filter((function (e) {
                        return e.IsCorrect
                      }
                      ));
                      if (i.length !== t.length)
                        return !1;
                      for (var o = 0; o < i.length; o++) {
                        var n = i[o];
                        if (-1 === t.indexOf(n.Id))
                          return !1
                      }
                      return !0
                    }(e, i.AnswerIds) ? l() : r()
                }
              }(o)
          }
          $("#questionDetails__Answers").toggleClass("empty", $("#questionDetails__Answers").is(":empty"))
        }
        ,
        e.setTimeInfoText = function () {
          e.setTimeInfoTextByPrefix("timeInfo"),
            e.setTimeInfoTextByPrefix("timeInfoMobile")
        }
        ,
        e.setTimeInfoTextByPrefix = function (e) {
          i.CurrentQuestion.Number === i.QuestionsCount && ($("#" + e + "__Text > span").text($("#" + e + "__Text > span").attr("data-last-question-text")),
            $("#" + e + "__NextQuestionAfter").text($("#" + e + "__NextQuestionAfter").attr("data-last-question-text"))),
            $("#" + e + "__Text > span").hide(),
            $("#" + e + "__NextQuestionAfter").show()
        }
        ,
        e.hideAnswerButton = function () {
          $(".sticky-button-layout").hide(),
            $(".questionDetails__NextAction ").addClass("questionDetails__NextAction__FullWidth"),
            $(".questionDetails__NextAction").parents(".questionDetails__AnswerActionContainer").show().addClass("onlyNextButtonVisible")
        }
        ,
        e.hideActivityActions = function () {
          $(".bodyLayout__CenterCol .camera-help").hide(),
            $(".infoBlock .activityActions").hide(),
            $(".questionDetails__ActivityMessageCol").hide()
        }
        ,
        e.showActivityActions = function () {
          $(".bodyLayout__CenterCol .camera-help").hide(),
            $(".infoBlock .activityActions").show(),
            $(".questionDetails__ActivityMessageCol").show()
        }
        ,
        e.hideValidationMessages = function () {
          $("#validationError_AllVariantsChoosen").hide()
        }
        ,
        e.hideAnswerCount = function () {
          $(".questionDetails__AnswerCount").hide()
        }
        ,
        e
    }(questionReviewModule = function (e, t) {
      var i;
      function o() {
        $(".questionDetails__QuestionCol").css("opacity", .5),
          $(".resultState").css("opacity", .5),
          $(".answerState").css("opacity", .5),
          $(".leadersList").css("opacity", t.isOwner ? 1 : .5),
          $("#timeInfoMobile__Seconds").css("opacity", .5),
          $("#timeInfoMobile__Text").css("opacity", .5),
          $("#question__countDownTimerMobile").css("opacity", .5),
          $(".questionDetails__lock-layer").show()
      }
      function n() {
        $(".resultState").css("opacity", 1),
          $(".answerState").css("opacity", 1),
          $(".leadersList").css("opacity", 1),
          $("#timeInfoMobile__Seconds").css("opacity", 1),
          $("#timeInfoMobile__Text").css("opacity", 1),
          $("#question__countDownTimerMobile").css("opacity", 1),
          $(".questionDetails__QuestionCol").css("opacity", 1),
          $(".questionDetails__lock-layer").hide()
      }
      function a(e) {
        var i = e.remainingTimeInSeconds >= 0 ? e.remainingTimeInSeconds : 0;
        $("#timeInfoMobile__Seconds").text(i),
          0 == i && t.isSinglePlayer && t.goNextStage(0, 0)
      }
      return e.show = function () {
        $("#stage__Questions").show()
      }
        ,
        e.hide = function () {
          $("#stage__Questions").hide(),
            e.hideReactionsStatistics(),
            e.pause(),
            function () {
              if (!i)
                return;
              i.timerTick.unsubscribe(a)
            }()
        }
        ,
        e.hideReactionsStatistics = function () {
          e.hideReactionsStatisticIcon(),
            e.hideReactionsStatisticList()
        }
        ,
        e.hideReactionsStatisticList = function () {
          $("#reactions-statistic-modal-list").addClass("hide")
        }
        ,
        e.hideReactionsStatisticIcon = function () {
          $("#reactions-statistic-modal-icon").addClass("hide")
        }
        ,
        e.fillReactionsStatisticList = function (e) {
          e.forEach((function (e) {
            $("span#reaction-" + e.ReactionType).text(e.ReactionCount)
          }
          ))
        }
        ,
        e.pause = function () {
          null != i && (o(),
            i.pause())
        }
        ,
        e.resume = function () {
          null != i && (n(),
            i.resume())
        }
        ,
        e.displayPosition = function (s) {
          questionAnswerModule.displayStaticContent(s),
            e.displayInternalContent(s),
            t.isSinglePlayer && (questionAnswerModule.pause(!0),
              e.setTimeInfoText()),
            (i = countDownTimerModule.createTimer("question__countDownTimer", "question__countDownTimerMobile", s.TimeLeft, 1e3 * s.TimeForReviewAnswerInSeconds, !s.CurrentQuestion.IsManuallyGoNextQuestion)) && (i && i.timerTick.subscribe(a),
              i.setColor("color2"),
              i.show()),
            s.IsPaused || t.hostIsNotAvailable ? (o(),
              t.isOwner || t.hostIsNotAvailable || alertBoxModule.gamePausedShow(),
              i && i.pause()) : (n(),
                t.isOwner || alertBoxModule.gamePausedHide(),
                null != i && i.resume()),
            t.isPaused || null == i || i.start();
          var r = s.CurrentQuestion.CorrectAnswerNote;
          null != s.CurrentQuestion && null != s.CurrentQuestion && s.CurrentQuestion.IsNeedCorrectAnswerNote && s.CurrentQuestion.CorrectAnswerNote && null != r && ($("#questionDetails__CorrectAnswerNote").show(),
            $("#questionDetails__CorrectAnswerNote .note-text").html(r.replace(/\r\n/g, "<br/>"))),
            s.CurrentQuestion.Type === questionType.Draw && drawCanvasModule.hideConnectAsPlayerLabel(),
            $("#questionDetails__QuestionNote").hide(),
            $("#stage__Questions").addClass("current__StageReview"),
            t.isSinglePlayer && ($(".questionDetails__NextActionText__Question").hide(),
              $(".questionDetails__NextActionText__Review").show()),
            questionAnswerModule.displayQuestionLeaderBoard(!1, !0)
        }
        ,
        e
    }(questionReviewModule || {}, gameCoreModule), gameCoreModule))
  , leadersModule = function (e) {
    var t = !1;
    function i() {
      $(".layout__Header--leaders.newStyle").addClass("extendedIndent"),
        $(".replay-button").show()
    }
    function o(e) {
      return null != e ? e.replace(/</g, "&lt;").replace(/>/g, "&gt;") : ""
    }
    function n() {
      $(".prizeSendEmail__SuccessResult").hide()
    }
    function a(t) {
      e.SendEmail({
        Position: t.data.position,
        WinnerCode: t.data.winnerCode,
        Email: t.data.email,
        SponsorEmail: t.data.sponsorEmail,
        SponsorPhone: t.data.sponsorPhone
      }, $("#prizeSendEmail__EmailInput"))
    }
    function s() {
      $("#prizeHeader").hide(),
        $("#prize-modal-icon").show();
      var e = r();
      1 === e.data("show-after-prize-close") && (e.data("show-after-prize-close", 0),
        e.show());
      var t = l();
      1 === t.data("show-after-prize-close") && (t.data("show-after-prize-close", 0),
        t.show()),
        streamPlayer.moveToMediablock()
    }
    function r() {
      return $(".couponForAllModal")
    }
    function l() {
      return $(".brandedCouponModal")
    }
    function d() {
      $("#prize-modal-icon").hide(),
        $("#prizeHeader").show(),
        streamPlayer.moveToMediablock()
    }
    function c(t) {
      e.SendEmail({
        Position: t.data.position,
        WinnerCode: t.data.winnerCode,
        Email: t.data.email,
        SponsorEmail: t.data.sponsorEmail,
        SponsorPhone: t.data.sponsorPhone
      }, $("#prize-emailInput"))
    }
    return e.displayInternalContent = function (t) {
      chatModuleAPI.hide(),
        t.IsVotingQuestionsOnly ? ($("#stage__Leaders").find(".layout__Header--leaders").addClass("hidden"),
          $("#stage__Leaders").find(".bodyLayout--leaders .ruleDescription").addClass("hidden"),
          $("#stage__Leaders").find(".leaderResults").addClass("hidden"),
          $("#stage__Leaders").find(".bodyLayout--leaders .leaderBoard__NoLeaders").addClass("hidden"),
          $("#stage__Leaders").find(".bodyLayout--leaders .leaderBoard__List").addClass("hidden"),
          $("#stage__Leaders").find(".bodyLayout--leaders .leaderBoard__Polling").removeClass("hidden"),
          $("#stage__Leaders").find(".bodyLayout--leaders .chatNotificationsBoxDesktop").removeClass("chatNotificationsBoxDesktop--leaders").addClass("chatNotificationsBoxDesktop--leaders--onlypolling"),
          $("#stage__Leaders").find(".layout__Body--leaders").addClass("layout__Body--leaders--fullheight")) : ($("#stage__Leaders").find(".layout__Header--leaders").removeClass("hidden"),
            $("#stage__Leaders").find(".ruleDescription").removeClass("hidden"),
            $("#stage__Leaders").find(".leaderResults").removeClass("hidden"),
            $("#stage__Leaders").find(".bodyLayout--leaders .leaderBoard__NoLeaders").removeClass("hidden"),
            $("#stage__Leaders").find(".bodyLayout--leaders .leaderBoard__List").removeClass("hidden"),
            $("#stage__Leaders").find(".bodyLayout--leaders .leaderBoard__Polling").addClass("hidden"),
            $("#stage__Leaders").find(".bodyLayout--leaders .chatNotificationsBoxDesktop").removeClass("chatNotificationsBoxDesktop--leaders--onlypolling").addClass("chatNotificationsBoxDesktop--leaders"),
            $("#stage__Leaders").find(".layout__Body--leaders").removeClass("layout__Body--leaders--fullheight")),
        promoModalModule.hideQuestionPromoModal(),
        t.PromoModal && promoModalModule.displayLeadersPromoModal(t.PromoModal),
        e.setTotalPlayersCount(t)
    }
      ,
      e.showResult = function () {
        t = !0
      }
      ,
      e.confettiPrize = function (e) {
        var t = Date.now() + 3e3
          , i = setInterval((function () {
            if (Date.now() > t)
              return clearInterval(i),
                void (e && e());
            confetti({
              startVelocity: 30,
              spread: 360,
              ticks: 60,
              origin: {
                x: Math.random(),
                y: Math.random() - .2
              }
            })
          }
          ), 200)
      }
      ,
      e.initPopupPrize = function () {
        $(".prizeHeader__CloseBlock").on("click", s),
          $("#prize-modal-icon").on("click", d)
      }
      ,
      e.setDataPopupWinner = function (e) {
        if ($("#prize-place").text(e.Position),
          $("#prize-placeSuffix").text(localizationModule.getOrdinalSuffix(e.Position)),
          e.IsContactEnabled ? $("#prize-contact").show() : $("#prize-contact").hide(),
          e.IsWinnerPersonalTextEnabled) {
          var t = o(e.WinnerPersonalText).replace(new RegExp("\\*\\*\\*secret word\\*\\*\\*", "g"), "<b>" + o(e.WinnerCode) + "</b>");
          $("#prize-get-winner").html("<span>" + t + "</span>")
        } else
          $("#prize-winnerCode").text(e.WinnerCode);
        $(".email-prize-input").val(e.Email),
          $("#prize-button").on("click", null, {
            position: e.Position,
            winnerCode: e.WinnerCode,
            email: $("#prize-emailInput").val(),
            sponsorEmail: $("#speaker__ContactsEmail").text(),
            sponsorPhone: $("#speaker__ContactsPhone").text()
          }, c);
        var i = parseInt(e.Position) > 3 ? 99 : e.Position;
        $("#prize-img").attr("src", $("#prize-img").attr("src").replace("_1", "_" + i)),
          e.Position > 3 && $("#prize-img").attr("src", $("#prize-img").attr("src").replace("prize_1", "winner")),
          $("#prize-header-winner").show(),
          $("#prize-get-winner").show(),
          $("#prize-all-winner").show(),
          $("#prize-text-send").show(),
          $(".prize-send-emailForm").show()
      }
      ,
      e.setDataPopupAll = function (e) {
        $("#prize-img").css("padding-top", "15px"),
          $("#prize-contact").hide(),
          $("#prize-header-all").show(),
          $("#prize-all").show(),
          $(".prize-send-emailForm").hide(),
          $("#prize-text-send").hide()
      }
      ,
      e.setDataPopupPromo = function (t) {
        $("#leaderboardPromoModal").modal(),
          $("#leaderboardPromoModal .leaderboardPromoModal__email").val(t.Email),
          $("#leaderboardPromoModal .leaderboardPromoModal__sendButton").off("click").on("click", (function (t) {
            t.preventDefault();
            var i = $("#leaderboardPromoModal .leaderboardPromoModal__email");
            if (e.EmailInputValidate(i)) {
              var o = $(i).val();
              gameCoreModule.sendQuizPromoInfo({
                email: o
              }, (function (e) {
                e.success && $("#leaderboardPromoModal").modal("hide")
              }
              ))
            }
          }
          ))
      }
      ,
      e.isMobile = function () {
        return $("#mobile-indicator").is(":visible")
      }
      ,
      e.showPrizeMobileorDesktop = function (e) {
        $("#prizeHeader").show(),
          $("#prize-modal-icon").hide(),
          $("#prizeHeader").is(":visible") ? $("#prize-modal-icon").hide() : ($("#prize-modal-icon").show(),
            $("#prizeHeader").hide()),
          $("#prizeHeader").is(":visible") && (1 == e.Position ? $(".congratulationsImg .firstPlace").show() : 2 == e.Position ? $(".congratulationsImg .secondPlace").show() : 3 == e.Position ? $(".congratulationsImg .thirdPlace").show() : $(".congratulationsImg .nthPlace").show())
      }
      ,
      e.setDataPopupPrize = function (t) {
        e.initPopupPrize(),
          t.ShowWinnerCode ? e.setDataPopupWinner(t) : t.ShowPrizeAll && e.setDataPopupAll(t)
      }
      ,
      e.setMobileViewPrize = function (t) {
        t.ShowWinnerCode ? e.setMobileViewWinner(t) : t.ShowPrizeAll && e.setMobileViewAll(t)
      }
      ,
      e.setMobileViewWinner = function (e) {
        if ($(".prizeSendEmail-winner").show(),
          $("#prizeSendEmail__Place").text(e.Position),
          $("#prizeSendEmail__PlaceSuffix").text(localizationModule.getOrdinalSuffix(e.Position)),
          e.IsContactEnabled ? ($("#speaker__ContactsPhone span").text(e.ContactPhone),
            $("#speaker__ContactsEmail span").text(e.ContactEmail),
            $("#speaker__ContactsPhoneModal span").text(e.ContactPhone),
            $("#speaker__ContactsEmailModal span").text(e.ContactEmail),
            $(".prizeSendEmail__Speaker--Contacts").show()) : $(".prizeSendEmail__Speaker--Contacts").hide(),
          e.IsWinnerPersonalTextEnabled) {
          var t = o(e.WinnerPersonalText).replace(new RegExp("\\*\\*\\*secret word\\*\\*\\*", "g"), "<b>" + o(e.WinnerCode) + "</b>");
          $("#personal-text-winner").html("<span>" + t + "</span>")
        } else
          $("#prizeSendEmail__WinnerCode").text(e.WinnerCode);
        $("#prizeSendEmail__SendButton").on("click", null, {
          position: e.Position,
          winnerCode: e.WinnerCode,
          email: $("#prizeSendEmail__EmailInput").val(),
          sponsorEmail: $("#speaker__ContactsEmail").text(),
          sponsorPhone: $("#speaker__ContactsPhone").text()
        }, a)
      }
      ,
      e.setMobileViewAll = function (e) {
        $(".prizeSendEmail__Speaker--Contacts").hide(),
          $("#prizeSendEmail-all").show()
      }
      ,
      e.displayPlayerTeamResult = function (o) {
        e.unsetPrizes(),
          gameCoreModule.isSinglePlayer && gameCoreModule.isReplayEnable && i(),
          $("#resultHeader").show(),
          0 == o.Score ? ($("#yourResult__PlaceScore").hide(),
            $("#yourResult__PlaceScore-activity").hide(),
            $("#yourResult__Not__Answer").show(),
            $("#yourResult__Not__Answer-activity").show(),
            t && $(".layout__Header.layout__Header--leaders.newStyle").addClass("NoResultsPlayer")) : ($("#yourResult__Not__Answer").hide(),
              $("#yourResult__Not__Answer-activity").hide(),
              $("#yourResult__PlaceScore").show(),
              $("#yourResult__PlaceScore-activity").show(),
              $("#yourResult__Place").text(o.Position),
              $("#yourResult__Place-activity").text(o.Position),
              $("#yourResult__PlaceSuffix").text(localizationModule.getOrdinalSuffix(o.Position)),
              $("#yourResult__PlaceSuffix-activity").text(localizationModule.getOrdinalSuffix(o.Position)),
              $("#teamResult__Score").text(e.setPointsNumberFormat(o.Score)),
              $("#teamResult__Score-activity").text(o.Score),
              $("#yourResult__Score").text(e.setPointsNumberFormat(o.IndividualScore)),
              $("#yourResult__Score-activity").text(o.IndividualScore),
              $("#teamResult__ScoreText-activity").text(localizationModule.GetDeclension(o.Score)),
              $("#yourResult__ScoreText-activity").text(localizationModule.GetDeclension(o.IndividualScore)),
              t && ($(".layout__Header--leaders.newStyle").removeClass("NoResultsPlayer"),
                $(".layout__Header--leaders.newStyle").addClass("layout__Header--leaders--place--" + o.Position),
                $("#yourResult__Foto-activity").addClass("medal-place-" + o.Position))),
          $("#yourResult__Name").text(o.Team.Name),
          $("#yourResult__Name-activity").text(o.Team.Name),
          $("#yourResult__NameTeamPlayers").text(o.Team.PlayersCount),
          $("#yourResult__NameTeamPlayers-activity").text(o.Team.PlayersCount);
        o.Team.ImagePath ? $("#yourResult__Foto-activity").css("background-image", "url(" + o.Team.ImagePath + ")") : $("#yourResult__Foto-activity").css("background-image", "url(/app/images/userprofile/user_photo.png)"),
          o.Team.ImagePath && "/app/images/userprofile/user_photo.png" !== o.Team.ImagePath ? $("#yourResult__Foto").css("background-image", "url(" + o.Team.ImagePath + ")") : $(".yourResult__FotoCol").hide(),
          $("#coupon-modal-icon").addClass("a-right")
      }
      ,
      e.displayPlayerResult = function (o) {
        if (gameCoreModule.currentTeamId || (e.unsetPrizes(),
          gameCoreModule.isSinglePlayer && gameCoreModule.isReplayEnable && i(),
          $("#resultHeader").show(),
          0 == o.Position && 0 == o.InCorrectAnswersCount ? ($(".resultHeader__Text").text($(".resultHeader__Text").attr("data-no-result-title")),
            $(".resultHeader__Result").addClass("small__Indent"),
            $("#yourResult__Name, #yourResult__Not__Answer .yourResult__ScoreCol").hide(),
            $("#yourResult__Not__Answer #yourResult__Not__AnswerText").show()) : ($(".resultHeader__Text").text($(".resultHeader__Text").attr("data-has-result-title")),
              $(".resultHeader__Result").removeClass("small__Indent"),
              $("#yourResult__Name, .yourResult__FotoCol, #yourResult__Not__Answer .yourResult__ScoreCol").show(),
              $("#yourResult__Not__Answer #yourResult__Not__AnswerText").hide()),
          0 == o.Score ? ($("#yourResult__PlaceScore").hide(),
            $("#yourResult__PlaceScore-activity").hide(),
            $("#yourResult__Not__Answer").show(),
            $("#yourResult__Not__Answer-activity").show(),
            t && $(".layout__Header.layout__Header--leaders.newStyle").addClass("NoResultsPlayer")) : ($("#yourResult__Not__Answer").hide(),
              $("#yourResult__Not__Answer-activity").hide(),
              $("#yourResult__PlaceScore").show(),
              $("#yourResult__PlaceScore-activity").show(),
              $("#yourResult__Place").text(o.Position),
              $("#yourResult__Place-activity").text(o.Position),
              $("#yourResult__PlaceSuffix").text(localizationModule.getOrdinalSuffix(o.Position)),
              $("#yourResult__PlaceSuffix-activity").text(localizationModule.getOrdinalSuffix(o.Position)),
              $("#yourResult__Score").text(e.setPointsNumberFormat(o.Score)),
              $("#yourResult__Score-activity").text(o.Score),
              $("#yourResult__ScoreText").text(localizationModule.GetDeclension(o.Score)),
              $("#yourResult__ScoreText-activity").text(localizationModule.GetDeclension(o.Score)),
              t && ($("#yourResult__Foto").addClass("medal-place-" + o.Position),
                $(".layout__Header--leaders.newStyle").removeClass("NoResultsPlayer"),
                $(".layout__Header--leaders.newStyle").removeClass("layout__Header--leaders--place--1 layout__Header--leaders--place--2 layout__Header--leaders--place--3").addClass("layout__Header--leaders--place--" + o.Position),
                $("#yourResult__Foto-activity").addClass("medal-place-" + o.Position))),
          e.playerResultUser = o.User,
          e.bannedNicksUserIds.includes(o.User.UserId) ? e.hideWinnerNickAndPhoto() : e.showWinnerNickAndPhoto(o.User)),
          o.ShowPrizeAll)
          if (o.IsBrandedCouponEnabled && o.BrandedCouponCode)
            e.loadBrandedCoupon(o);
          else {
            $(".couponForAllModal__Text").html(o.QuizPrizeForAllText),
              $(".couponForAllModal__Content").css({
                "background-image": "url(" + o.QuizPrizeForAllImage + ")"
              }),
              o.QuizPrizeForAllCode ? $(".couponForAllModal__Code").text(o.QuizPrizeForAllCode).show() : $(".couponForAllModal__Code").hide();
            var a = r();
            !o.ShowWinnerCode || e.isMobile() || a.data("show-after-prize-close", 0),
              a.show(),
              void 0 !== o.QuizPrizeForAllUrl && null != o.QuizPrizeForAllUrl && $(".couponForAllModal__Url").wrap('<a style="text-decoration: none" target="_blank" href="' + o.QuizPrizeForAllUrl + '" rel="nofollow noopener"></a>')
          }
        o.ShowWinnerCode ? ($("#coupon-modal-icon").removeClass("a-right"),
          e.setMobileViewPrize(o),
          e.setDataPopupPrize(o),
          e.showPrizeMobileorDesktop(o),
          e.isMobile() || ($(".prize-contact-phone span").text(o.ContactPhone),
            $(".prize-contact-email span").text(o.ContactEmail),
            $("#prizeHeader").show(),
            $("#prize-modal-icon").hide(),
            $("#coupon-modal-icon").hide()),
          $(".email-prize-input").on("keyup touchend", n)) : $("#coupon-modal-icon").addClass("a-right"),
          o.ShowSendPromoInfo && e.setDataPopupPromo(o),
          global_hasActivityQuestion && activityQuestionModule && activityUIModule.renderLeaders()
      }
      ,
      e.loadBrandedCoupon = function (t) {
        var i = global_StorageAccount.generalStorage.cdn + "/coupons/" + t.BrandedCouponCode;
        $.get(i + "/coupon.html", (function (o) {
          o += '<link rel="stylesheet" id="brandedCouponLink" type="text/css" href="' + (i + "/style.css") + '" />',
            o += '<script type="text/javascript" src="' + (i + "/script.js") + '" >';
          var n = l();
          n.html(o),
            !t.ShowWinnerCode || e.isMobile() || n.data("show-after-prize-close", 0),
            n.show()
        }
        ))
      }
      ,
      e.unsetPrizes = function () {
        $(".email-prize-input").off("keyup touchend", n),
          $("#resultHeader").hide(),
          $("#prizeHeader").hide(),
          $(".prizeSendEmail-winner").hide(),
          $("#prizeSendEmail__Place").text(""),
          $("#prizeSendEmail__PlaceSuffix").text(""),
          $("#prizeSendEmail__WinnerCode").text(""),
          $("#prizeSendEmail__EmailInput").val(""),
          $("#prizeSendEmail__SendButton").off("click", a),
          $("#prizeSendEmail-all").hide(),
          $("#prize-place").text(""),
          $("#prize-placeSuffix").text(""),
          $("#prize-winnerCode").text(""),
          $("#prize-emailInput").val(""),
          $("#prize-button").off("click", c),
          $("#prize-header-winner").hide(),
          $("#prize-get-winner").hide(),
          $("#prize-all-winner").hide(),
          $("#prize-header-all").hide(),
          $("#prize-all").hide(),
          $(".prize-send-emailForm").hide(),
          $("#prize-text-send").hide(),
          r().hide(),
          l().hide()
      }
      ,
      e.SendEmail = function (t, i) {
        e.EmailInputValidate(i) && (t.Email = $(i).val(),
          gameCoreModule.sendQuizWinnerCode(t, (function (e) {
            console.log(e),
              e.success && ($(".prizeSendEmail__SuccessResult").show(),
                setTimeout((function () {
                  $(".prizeSendEmail__SuccessResult").hide()
                }
                ), 2e3))
          }
          )))
      }
      ,
      e.EmailInputValidate = function (e) {
        var t = $(e).hasClass("leaderboardPromoModal__email") ? ".email-promo-inputError" : ".email-prize-inputError";
        return "" !== $(e).val() && /^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/.test($(e).val()) ? ($(e).removeClass("email-validation-error"),
          $(t).hide(),
          !0) : ($(e).addClass("email-validation-error"),
            $(t).css("display", "flex"),
            !1)
      }
      ,
      e.replayGame = function () {
        $("#leaderBoard__NoLeaders").hide(),
          $(".leaderBoard__Table").show(),
          $("#resultState").hide(),
          gameCoreModule.checkHostAvailability().then(e => {
            e ? (gameCoreModule.clearAnswers(),
              gameCoreModule.start()) : $(".modal__Redirect").show()
          }
          )
      }
      ,
      e.setTotalPlayersCount = function (e) {
        var t = $("#yourResult__Place")
          , i = e.TeamTopScores ? e.TeamTopScores.length : e.PlayersCount;
        t.attr("data-total-count", i)
      }
      ,
      $("#prize-modal-icon").click((function () {
        r().show(),
          $("#coupon-modal-icon").hide()
      }
      )),
      $("#coupon-modal-icon").remove(),
      $(document).on("click", ".couponForAllModal__CloseIcon", (function () {
        r().hide(),
          $("#coupon-modal-icon").show()
      }
      )),
      $(document).on("click", "#coupon-modal-icon", (function () {
        r().show(),
          $("#coupon-modal-icon").hide()
      }
      )),
      $(document).on("click", ".brandedCouponModal__CloseIcon", (function () {
        l().hide()
      }
      )),
      $(document).on("input", "#prizeSendEmail__EmailInput", (function () {
        e.EmailInputValidate($(this))
      }
      )),
      e
  }(leadersModule = function (e, t) {
    e.topScoresCache = [],
      e.bannedNicksUserIds = [],
      e.unbanPlayersNick = function (s) {
        e.currentLeader && s === e.currentLeader.UserId && e.showWinnerNickAndPhoto(e.currentLeader),
          i(s, !0),
          o(s, !1),
          t.unbanPlayersNick(s);
        const r = e.topScoresCache.find(e => e.User.UserId === s);
        r && r.User && (n(s, r.User.DisplayName),
          a(s, r.User.ImagePath))
      }
      ;
    function i(e, t) {
      const i = $(`button[lb-simple-ban-btn-elem-id="'${e}'"]`);
      s(e, !0),
        i.length ? t ? i.show() : i.hide() : console.warn(`No button element found for player "${e}"`)
    }
    function o(e, t) {
      const i = $(`button[lb-simple-unban-btn-elem-id="'${e}'"]`);
      s(e, !1),
        i.length ? t ? i.show() : i.hide() : console.warn(`No button element found for player "${e}"`)
    }
    function n(e, t) {
      const i = $(`div[lb-simple-username-elem-id="'${e}'"], div[lb-username-elem-id="'${e}'"], span[lb-final-username-elem-id="'${e}'"]`);
      i.length ? i.html(t) : console.warn(`No lablel element found for player "${e}"`)
    }
    function a(e, t) {
      const i = $(`div[lb-simple-photo-elem-id="'${e}'"], div[lb-photo-elem-id="'${e}'"], div[lb-final-photo-elem-id="'${e}'"]`);
      i.length ? i.css("background-image", `url(${t})`) : console.warn(`No photo element found for player "${e}"`)
    }
    function s(e, t) {
      $(`div[lb-simple-username-elem-id="'${e}'"], div[lb-username-elem-id="'${e}'"], span[lb-final-username-elem-id="'${e}'"]`).parents(".leaderPositionInfoSimple, .leaderBoard__Table__Name").toggleClass("leaderPositionInfoSimple__BannedPlayer", t)
    }
    return e.show = function () {
      imageBlockModule.init("promoBlockLeaders__ImageBlock"),
        $("#stage__Leaders").show(),
        e.showResult(),
        e.isActive = !0,
        $("#ruleDescription").on("click", "a", (function () {
          $("#ruleDescription").hide()
        }
        )),
        $("#prizeHeader").on("click", ".prizeHeader__Content .prizeHeader__CloseBlock", (function () {
          $("#prizeHeader").hide()
        }
        ))
    }
      ,
      e.showYoutubeStream = function () {
        $("#leadersYoutubeStream").css("display", "flex"),
          streamPlayer.moveToMediablock()
      }
      ,
      e.hide = function () {
        $("#stage__Leaders").hide(),
          $("#prize-modal-icon").hide(),
          $("#couponForAllModal").hide(),
          $("#coupon-modal-icon").hide(),
          $("#leadersYoutubeStream").hide(),
          e.isActive = !1
      }
      ,
      e.displayPosition = function (i) {
        t.isOwner || e.displayStaticContent(i),
          e.displayInternalContent(i)
      }
      ,
      e.foldActivityQuestionWidget = function () {
        activityQuestionModule && (activityQuestionModule.disposeHighlight(),
          activityUIModule.hide()),
          activitySpeedCheckModule && activitySpeedCheckModule.stopStrictSpeedCheck(),
          $(".infoBlock .activityActions").hide(),
          $(".bodyLayout__CenterCol .camera-help").hide(),
          $(".questionDetails__ActionContainer").show()
      }
      ,
      e.setBannedNicksUserIds = function (t) {
        e.bannedNicksUserIds = t,
          0 === t.length ? ($("#resultStateWrapper").show(),
            $("#answerStateWrapper").show()) : ($("#resultStateWrapper").hide(),
              $("#answerStateWrapper").hide())
      }
      ,
      e.displayStaticContent = function (t) {
        var i = t.TeamTopScores ? t.TeamTopScores.length : t.TopScores.length;
        i > 10 && (i = 10),
          e.displayLeaders(t.TeamTopScores ? null : t.TopScores, t.TeamTopScores, i, !0),
          e.foldActivityQuestionWidget(),
          e.confettiPrize()
      }
      ,
      t.playersNickBanListUpdate.subscribe((function (t) {
        Array.isArray(t.BannedNickPlayers) && e.setBannedNicksUserIds(t.BannedNickPlayers);
        if (e.hideBannedUsersNicks(),
          function () {
            e.topScoresCache.forEach(t => {
              e.bannedNicksUserIds.includes(t.User.UserId) || (n(t.User.UserId, t.User.DisplayName),
                function (e, t) {
                  const i = $(`div[lb-simple-photo-elem-id="'${e}'"], div[lb-photo-elem-id="'${e}'"], div[lb-final-photo-elem-id="'${e}'"]`);
                  i.length ? i.css("background-image", `url(${t})`) : console.warn(`No photo element found for player "${e}"`)
                }(t.User.UserId, t.User.ImagePath))
            }
            )
          }(),
          !e.playerResultUser)
          return;
        e.bannedNicksUserIds.includes(e.playerResultUser.UserId) ? e.hideWinnerNickAndPhoto() : e.showWinnerNickAndPhoto(e.playerResultUser)
      }
      )),
      e.hideBannedUsersNicks = function () {
        e.bannedNicksUserIds.forEach(e => {
          n(e, "***"),
            a(e, "/app/images/leaderboard/moderation/banned.svg"),
            i(e, !1),
            o(e, !0),
            s(e, !0)
        }
        ),
          e.playerResultUser && (e.bannedNicksUserIds.includes(e.playerResultUser.UserId) ? e.hideWinnerNickAndPhoto() : e.showWinnerNickAndPhoto(e.playerResultUser))
      }
      ,
      e.hideWinnerNickAndPhoto = function () {
        $("#yourResult__Name").text("***"),
          $("#yourResult__Name-activity").text("***"),
          $("#yourResult__Foto").css("background-image", "url('/app/images/leaderboard/moderation/banned.svg')")
      }
      ,
      e.showWinnerNickAndPhoto = function (e) {
        $("#yourResult__Name").text(e.FullName),
          $("#yourResult__Name-activity").text(e.FullName),
          $("#yourResult__Foto").css("background-image", "url(" + (e.ImagePath || "/app/images/userprofile/user_photo.png") + ")")
      }
      ,
      e.displayLeaders = function (i, o, n, a) {
        e.topScoresCache = i;
        var s = $(".leaderBoard__Table:visible tbody");
        if (s.find("tr").remove(),
          n > 0) {
          $("#ruleDescription").show();
          for (var r = 0; r < n; r++)
            leaderPositionInfoHtml = e.getLeaderHtml(i ? i[r] : null, o ? o[r] : null, a),
              s.append($(leaderPositionInfoHtml));
          e.hideBannedUsersNicks()
        } else
          $("#ruleDescription").hide(),
            $(".leaderBoard__Table:visible").hide(),
            $("#leaderBoard__NoLeaders").show();
        global_hasActivityQuestion ? ($(".leaderBoard__Table__Time").addClass("leaderBoard__Table__Time_hidden"),
          $(".leaderBoard__Table__HeaderTime").addClass("leaderBoard__Table__HeaderTime_hidden")) : ($(".leaderBoard__Table__Time").removeClass("leaderBoard__Table__Time_hidden"),
            $(".leaderBoard__Table__HeaderTime").removeClass("leaderBoard__Table__HeaderTime_hidden")),
          !t.isLeaderboardModerationEnabled && $(".leaderPositionInfoSimple__Foto").addClass("no-hover-style")
      }
      ,
      e.displayCurrentLeaders = function (i, o, n) {
        $("#leaderBoard__OneCol").empty(),
          e.topScoresCache = i;
        for (var a = 0; a < n; a++) {
          var s = e.getLeaderSimpleHtml(i ? i[a] : null, o ? o[a] : null);
          $("#leaderBoard__OneCol").append($(s))
        }
        !t.isLeaderboardModerationEnabled && $(".leaderPositionInfoSimple__Foto").addClass("no-hover-style"),
          t.isOwner && t.isLeaderboardModerationEnabled && $(".leaderPositionInfoSimple__ButtonCol").show()
      }
      ,
      e.getGameTimeString = function (e) {
        return e ? ("00" + Math.floor(e / 60)).slice(-2) + ":" + ("00" + e % 60).slice(-2) : ""
      }
      ,
      e.getLeaderHtml = function (e, i, o) {
        var n = e ? e.Score : i.Score
          , a = function (e, i, o, n) {
            const a = t.isLeaderboardModerationEnabled;
            return "<tr " + (i ? 'class="leaderBoard__Table__FirstPage"' : "") + '>                    <td class="leaderBoard__Table__Position">##POSITION##</td>                    <td class="leaderBoard__Table__Name">                        <div>' + (o ? '<div lb-final-photo-elem-id="##USERID##" class="leaderPositionInfoSimple__Foto medium" ##STYLE_FOTO##></div>' : "") + '<span lb-final-username-elem-id="##USERID##">##USERNAME##</span>' + (n && a ? '<div class="leaderPositionInfoSimple__ButtonCol">                                    <button class="leaderPositionInfoSimple__BanButton" onclick="gameCoreModule.banPlayersNick(##USERID##)" lb-simple-ban-btn-elem-id="##USERID##">Ban</button>                                    <button class="leaderPositionInfoSimple__BanButton" onclick="leadersModule.unbanPlayersNick(##USERID##)" style="display: none" lb-simple-unban-btn-elem-id="##USERID##">Unban</button>                                <div/>                            ' : "") + "</div>                    </td>" + (e ? '<td class="leaderBoard__Table__TeamPlayer">##TEAMPLAYERS##</td>' : "") + '<td class="leaderBoard__Table__Time">##GAMETIME##</td>                    <td class="leaderBoard__Table__Score"><div class="leaderBoard__Table__Score__Points"><div>##SCORE##</div></div></td>                </tr>'
          }(i, o, !i, t.isOwner);
        if (a = (a = (a = (a = (a = a.replace(new RegExp("##USERNAME##", "g"), e ? e.User.FullName : i.Team.Name)).replace(new RegExp("##SCORE##", "g"), n)).replace(new RegExp("##GAMETIME##", "g"), this.getGameTimeString(e ? e.GameTime : i.GameTime))).replace(new RegExp("##POSITION##", "g"), e ? e.Position : i.Position)).replace(new RegExp("##USERID##", "g"), e && e.User ? `'${e.User.UserId}'` : ""),
          i)
          a = a.replace(new RegExp("##TEAMPLAYERS##", "g"), e ? 0 : i.Team.PlayersCount);
        else {
          var s = ""
            , r = e ? e.User.ImagePath : i.Team.ImagePath;
          s = r ? ' style="background-image:url(' + r + ')"' : ' style="background-image:url(/app/images/userprofile/user_photo.png)"',
            a = a.replace(new RegExp("##STYLE_FOTO##", "g"), s)
        }
        return a
      }
      ,
      e.getLeaderSimpleHtml = function (e, t) {
        var i = e ? e.Score : t.Score
          , o = '                    <div class="leaderPositionInfoSimple">                        <div class="leaderPositionInfoSimple__PositionRow">                            <div class="leaderPositionInfoSimple__Position">##POSITION##                            </div>                            <div lb-simple-photo-elem-id="##USERID##" class="leaderPositionInfoSimple__Foto" ##STYLE_FOTO##>                            </div>                            <div lb-simple-username-elem-id="##USERID##" class="leaderPositionInfoSimple__Name">##USERNAME##</div>                        </div >                        <div class="leaderPositionInfoSimple__ButtonCol" style="display: none">                            <button class="leaderPositionInfoSimple__BanButton" onclick="gameCoreModule.banPlayersNick(##USERID##)" lb-simple-ban-btn-elem-id="##USERID##">Ban</button>                            <button class="leaderPositionInfoSimple__BanButton" onclick="leadersModule.unbanPlayersNick(##USERID##)" style="display: none" lb-simple-unban-btn-elem-id="##USERID##">Unban</button>                        </div>                        <div class="leaderPositionInfo__GameTimeContainer">                            <div class="leaderPositionInfo__ScoreCol">                                <div class="leaderPositionInfo__Score leaderPositionInfo__Score__Small">##SCORE##</div>                            </div>                        </div>                    </div >';
        o = (o = (o = (o = o.replace(new RegExp("##USERNAME##", "g"), e ? e.User.FullName : t.Team.Name)).replace(new RegExp("##SCORE##", "g"), i)).replace(new RegExp("##POSITION##", "g"), e ? e.Position : t.Position)).replace(new RegExp("##USERID##", "g"), e && e.User ? `'${e.User.UserId}'` : "");
        var n = ""
          , a = e ? e.User.ImagePath : t.Team.ImagePath;
        return n = a ? ' style="background-image:url(' + a + ')"' : ' style="background-image:url(/app/images/userprofile/user_photo.png)"',
          o = o.replace(new RegExp("##STYLE_FOTO##", "g"), n),
          $(".infoBlock--gameLeaderBoard").addClass("leaders-visible"),
          o
      }
      ,
      e.setPointsNumberFormat = function (e) {
        var t = e.toString().replace(/[^\d.]/g, "").split(".")
          , i = t[0]
          , o = t[1] ? "." + t[1] : "";
        return i.replace(/\B(?=(\d{3})+(?!\d))/g, " ") + o
      }
      ,
      e.isSelftBrandiangCustomization = function (e) {
        return new RegExp("[a-f0-9]{8}(?:-[a-f0-9]{4}){3}-[a-f0-9]{12}", "i").test(e)
      }
      ,
      e
  }(leadersModule || {}, gameCoreModule))
  , addToCartModule = function (e) {
    return e.addedToCart = !1,
      e.init = function (t, i, o, n, a, s, r) {
        var l = $(t);
        $.each(l, (function (t, l) {
          var d = $(l);
          $.each(d.find("a"), (function (t, l) {
            $(l).closest(".promoWaitModal, .promoLeadersModal").length && "promoModal__Add" !== $(l).attr("id") || (console.log("process link"),
              $(l).attr("addToCartModuleAttached") || ($(l).attr("addToCartModuleAttached", !0),
                $(l).on("click", (function (t) {
                  var l = d.find(r)
                    , c = null;
                  if (e.addedToCart = !0,
                    $(s).css("display", "inline-block"),
                    $.each(i.split(","), (function (e, t) {
                      $(t).is(":visible") && (c = $(t))
                    }
                    )),
                    c) {
                    a && e.sendRequestWithoutRedirect(this, d, t),
                      l.stop().fadeIn().delay(8e3).fadeOut();
                    var u = d;
                    if (u)
                      u.clone().offset({
                        top: u.offset().top,
                        left: u.offset().left
                      }).css({
                        opacity: "0.5",
                        position: "absolute",
                        width: u.width(),
                        "z-index": "100"
                      }).appendTo($("body")).animate({
                        top: c.offset().top + 10,
                        left: c.offset().left + 50,
                        width: 75,
                        height: 75
                      }, 1e3).animate({
                        width: 0,
                        height: 0
                      }, (function () {
                        $(this).detach()
                      }
                      )),
                        setTimeout((function () {
                          $(o).addClass(n)
                        }
                        ), 200)
                  }
                }
                ))))
          }
          ))
        }
        ))
      }
      ,
      e.sendRequestWithoutRedirect = function (e, t, i) {
        i.preventDefault();
        for (var o, n = {}, a = /\+/g, s = /([^&=]+)=?([^&]*)/g, r = function (e) {
          return decodeURIComponent(e.replace(a, " "))
        }, l = $(e).attr("href").split("?")[0], d = $(e).attr("href").split("?")[1]; o = s.exec(d);)
          n[r(o[1])] = r(o[2]);
        var c = new FormData;
        $.each(n, (function (e, t) {
          c.append(e.replace("?", ""), t)
        }
        )),
          console.log("send request without redirect");
        var u = $(t).clone();
        u.find(".promoBlockWait__PromoLinkSave").remove(),
          u.find(".promoQuestion__PromoLinkSave").remove(),
          u.find(".promoLeaders__PromoLinkSave").remove(),
          u.find(".promoBlockWait__Notification").remove(),
          u.find(".promoModal__Bottom").remove(),
          u.find(".ImageBlock__Background").css("maxWidth", "500px").css("opacity", "0");
        var h = u.find(".promoQuestion__Text");
        h.length ? u.find(".promoBlockWait__TextContainer").remove() : h = u.find(".promoBlockWait__Text"),
          u.find(".promoQuestion__buttonsContainer").remove(),
          u.find(".promoLeaders__buttonsContainer").remove(),
          u.find(".promoBlockWait__buttonsContainer").remove(),
          h.length || (h = u.find(".promoLeaders__Text")),
          h.length && (h.html(`<p><a href="${$(e).attr("href")}" target="_blank" addToCartModuleAttached="true">${n.url}</a></p>`),
            h.show());
        var m = u.find(".imageBlock");
        h.length && m.length && "VideoSelfHosted" === m.attr("media-type") && c.append("promoTextHTML", encodeURIComponent(h.html()));
        const p = !u.find("a").length
          , f = h.find("a").length;
        if (p && f) {
          const e = $("<div></div>").addClass("promoBlockWait__TextContainer")
            , t = $("<div></div>").addClass("promoBlockWait__Text");
          e.append(t),
            e.find(".promoBlockWait__Text").append(h),
            u.append(e)
        }
        if (u.find("a").eq(0).has("#promoBlockTopWait__ImageBlock").length) {
          const e = u.find("#promoBlockTopWait__ImageBlock").eq(0);
          u.find(".promoBlockWait__Image").append(e),
            u.find(".promoBlockWait__Image").eq(0).children().first().remove()
        }
        c.append("blockHTML", encodeURIComponent(u.html())),
          c.append("save", !0),
          $.ajax({
            type: "POST",
            url: l,
            data: c,
            cache: !1,
            contentType: !1,
            processData: !1,
            success: function (e) { },
            error: function (e) {
              console.log(e)
            }
          }, "json"),
          gameCoreModule.addQuizPromoInfo()
      }
      ,
      e.initAll = function (t) {
        $.each($(t), (function (t, i) {
          var o = $(i).data();
          $(i) && o.cartFlyToSelector && o.cartSelector && o.filledCartClass && o.onClickShowElementSelector && e.init(i, o.cartFlyToSelector, o.cartSelector, o.filledCartClass, !0, o.onClickShowElementSelector, o.notificationSelector)
        }
        ))
      }
      ,
      e
  }(addToCartModule || {})
  , streamPlayer = function (e) {
    const t = {
      youtube: "YouTube",
      twitch: "Twitch",
      hls: "Hls",
      kinescope: "Kinescope",
      kick: "Kick"
    };
    var i, o, n = !1, a = !1, s = "liveVideo", r = "ytplayer";
    const l = "True" == $("#Quiz_IsStreamInMediaBlock").val() && "True" == $("#IsStreamInMediaBlockEnabled").val()
      , d = "True" == $("#Quiz_IsCustomChatEnabled").val() && "True" == $("#IsStreamInMediaBlockEnabled").val() && "RU" === global_nodeLocation;
    function c(e, i) {
      return i === t.hls ? '<div id="' + s + '" class="liveVideo liveVideo__Menu">                    <div id="liveVideoFront" class="liveVideo__Frame">                        <span id="closeWidget" class="icon-close"></span>                        <div id="hls-player"></div>                        <div id="iconLive" class="liveVideo__Icon"></div>                    </div>                </div>' : '<div id="' + s + '" class="liveVideo liveVideo__Menu">                    <div id="liveVideoFront" class="liveVideo__Frame">                        <span id="closeWidget" class="icon-close"></span>                        <iframe id="' + r + '" liveVideo src="' + e + '"  frameborder="0" allow="autoplay; encrypted-media;"></iframe>                        <div id="iconLive" class="liveVideo__Icon"></div>                    </div>                </div>'
    }
    function u(e) {
      let i = "";
      switch (currentPlayerType) {
        case t.twitch:
          i = '<div id="liveVideoInMediablock" class="liveVideo" style="display:none"><div id="' + r + '" ></div></div>';
          break;
        case t.hls:
          i = '<div id="liveVideoInMediablock" class="liveVideo" style="display:none"></div>';
          break;
        case t.kinescope:
          i = '<div id="liveVideoInMediablock" class="liveVideo"><div id="' + r + '"><iframe src="' + e + '"allow="autoplay; fullscreen; picture-in-picture; encrypted-media; gyroscope; accelerometer; clipboard-write; screen-wake-lock;"frameborder="0"livevideo allowfullscreen></iframe></div>';
          break;
        case t.kick:
          i = '<div id="liveVideoInMediablock" class="liveVideo"><div id="' + r + '"><iframe src="https://player.kick.com/' + function (e) {
            if (!e)
              return "";
            const t = e.split("/").filter(e => "" !== e);
            return t[t.length - 1]
          }(e) + '"frameborder="0"scrolling="no"livevideo allowfullscreen="true"></iframe></div></div>';
          break;
        default:
          i = '<div id="liveVideoInMediablock" class="liveVideo" style="display:none"><iframe id="' + r + '" liveVideo src="' + e + '" frameborder="0" allow="autoplay; encrypted-media;"></iframe></div>'
      }
      return i
    }
    function h() {
      return $("#mobile-indicator").is(":visible")
    }
    function m() {
      return $("#tablet-indicator").is(":visible")
    }
    function p(o) {
      if (currentPlayerType == t.youtube) {
        o.target;
        i.setPlaybackQuality("small"),
          i.unMute(),
          i.setVolume(100),
          !l && $("#" + s).addClass(currentPlayerType),
          l || h() || m() || y()
      } else
        $("#ytplayer").children("iframe").attr("livevideo", "");
      e.moveToMediablock()
    }
    function f(e) {
      if (!i && currentPlayerType && (currentPlayerType == t.youtube || currentPlayerType == t.twitch))
        if (currentPlayerType == t.youtube) {
          var o = function () {
            "undefined" != typeof YT && YT && YT.Player ? i = new YT.Player(r, {
              events: {
                onReady: p
              }
            }) : setTimeout(o, 100)
          };
          o()
        } else {
          var n = {
            channel: e,
            frameborder: 0,
            scrolling: "no",
            allowfullscreen: "false"
          };
          (i = new Twitch.Player(r, n)).addEventListener(Twitch.Player.READY, p)
        }
    }
    function g() {
      [t.youtube, t.hls].includes(currentPlayerType) && (i && (1 == i.getPlayerState() ? v() : _()),
        window.hlsPlayer && (window.hlsPlayer.paused() ? window.hlsPlayer.play() : window.hlsPlayer.pause()))
    }
    function _() {
      window.hlsPlayer && window.hlsPlayer.play && window.hlsPlayer.play(),
        i && currentPlayerType == t.youtube && (i.playVideo(),
          i.unMute(),
          i.setVolume(100))
    }
    function v() {
      i && currentPlayerType == t.youtube && i.pauseVideo()
    }
    function y() {
      !a && [t.youtube, t.hls].includes(currentPlayerType) && (a = !0,
        $("#" + s).removeAttr("style"),
        $("#" + s).removeClass("liveVideo__Menu"),
        $("#" + s).addClass("liveVideo__WidgetPositionInit"),
        $("#liveVideoFront").addClass("liveVideo__FrameWidget"),
        $("#iconLive").addClass("liveVideo__IconWidget"),
        $("#closeWidget").show(),
        o && ($("#" + s).removeClass("liveVideo__WidgetPositionInit"),
          $("#" + s).attr("style", o)),
        $("#" + s).draggable({
          disabled: !1,
          containment: "window",
          start: function (e, t) {
            $("#" + s).removeClass("liveVideo__WidgetPositionInit")
          },
          stop: function (e, t) { }
        }),
        e.setSize($("#" + s).width(), $("#" + s).height()))
    }
    function w() {
      a && [t.youtube, t.hls].includes(currentPlayerType) && (a = !1,
        o = $("#" + s).attr("style"),
        $("#" + s).removeAttr("style"),
        $("#" + s).removeClass("liveVideo__WidgetPositionInit"),
        $("#" + s).addClass("liveVideo__Menu"),
        $("#liveVideoFront").removeClass("liveVideo__FrameWidget"),
        $("#iconLive").removeClass("liveVideo__IconWidget"),
        $("#closeWidget").hide(),
        $("#" + s).draggable({
          disabled: !0
        }),
        e.setSize($("#" + s).width(), $("#" + s).height()),
        A())
    }
    function A() {
      if ([t.youtube, t.hls].includes(currentPlayerType))
        if ($("#topMenu__Items").is(":visible")) {
          var e = $("#topMenu__Items > *:last").offset().left - 110;
          $("#" + s).css("left", e + "px")
        } else
          $("#" + s).css("left", "")
    }
    return e.appendKinescopeChat = function (e, t) {
      if ("Kinescope" === e && d) {
        const e = $(".layout__Body");
        if (!e)
          return;
        e.append($('<div class="bodyLayout bodyLayout__chat" style="margin-top: 0px;"><iframe src="' + function (e) {
          if (!e.includes("kinescope.io"))
            return "";
          const t = e.split("/")
            , i = t[t.length - 1];
          return i ? "https://kinescope.io/chat/" + i : ""
        }(t) + '" allow="fullscreen" frameborder="0" allowfullscreen width="100%" height="500px" integratedchat></iframe></div>'))
      }
    }
      ,
      e.Create = function (t, o) {
        if (currentPlayerType = o,
          "Kinescope" === currentPlayerType && "RU" === global_nodeLocation ? r = "kinescopeplayer" : "Kick" === currentPlayerType && (r = "kickplayer"),
          l) {
          if ("Hls" !== o || window.hlsPlayer || e.initHlsPlayer(t),
            $("#topMenu").append($(u(t))),
            "Kinescope" === o && "RU" === global_nodeLocation || "Kick" === o) {
            if (0 == $(".youtubeStreamImageBlock:visible").parent().length)
              return;
            e.setMediablockSize(),
              e.appendKinescopeChat(o, t)
          }
          $(window).resize((function () {
            e.moveToMediablock(o)
          }
          ))
        } else {
          $("#topMenu").append($(c(t, o))),
            "Hls" === o && e.initHlsPlayer(t),
            A(),
            $(window).resize((function () {
              h() || m() ? (A(),
                w()) : i && 1 == i.getPlayerState() || window.hlsPlayer ? y() : A()
            }
            )),
            $("#closeWidget").click((function (e) {
              e.stopPropagation(),
                n = !0,
                v(),
                w(),
                window.hlsPlayer && window.hlsPlayer.pause && hlsPlayer.pause()
            }
            ));
          var a = "click" in document.documentElement ? "click" : "touchstart tap";
          $(document).on(a, "#liveVideoFront", (function () {
            currentPlayerType != o.twitch && (h() || m() ? g() : n && (y(),
              _(),
              n = !1))
          }
          ))
        }
        f(t)
      }
      ,
      e.setSize = function (e, o) {
        (i || window.hlsPlayer || currentPlayerType == t.kinescope || currentPlayerType == t.kick) && (currentPlayerType == t.twitch || currentPlayerType == t.kinescope || currentPlayerType == t.kick ? ($("#" + r).children().css("width", e),
          $("#" + r).children().css("height", o)) : currentPlayerType == t.hls ? (window.hlsPlayer.width(e),
            window.hlsPlayer.height(o)) : i.setSize(e, o))
      }
      ,
      e.destroy = function () {
        i && (i.destroy(),
          i = null)
      }
      ,
      e.isStreamInMediaBlock = function () {
        return l
      }
      ,
      e.initHlsPlayer = function (t) {
        jQuery((function () {
          var i = l ? $("#liveVideoInMediablock") : $("#hls-player")
            , o = $(".youtubeStreamImageBlock:visible").parent();
          const n = document.createElement("video");
          n.id = "my-video",
            n.className = "video-js",
            n.playsInline = "true",
            i.append(n);
          var a = {
            controls: !0,
            preload: "auto",
            autoplay: !0,
            sources: [{
              src: t,
              type: "application/x-mpegURL"
            }]
          };
          if (window.hlsPlayer = videojs("my-video", a),
            l || h() || m()) {
            e.setSize(o.width(), o.height());
            var s = o[0].getBoundingClientRect()
              , r = document.documentElement
              , d = (window.pageXOffset || r.scrollLeft) - (r.clientLeft || 0)
              , c = (window.pageYOffset || r.scrollTop) - (r.clientTop || 0);
            $("#liveVideoInMediablock").css("left", s.x + d),
              $("#liveVideoInMediablock").css("top", s.y + c),
              $("#liveVideoInMediablock").show()
          } else
            y()
        }
        ))
      }
      ,
      e.moveToMediablock = function () {
        const t = $("#kinescopeplayer").length && "RU" === global_nodeLocation
          , o = $("#kickplayer").length
          , n = t || o;
        (i || window.hlsPlayer || n) && l && e.setMediablockSize()
      }
      ,
      e.setMediablockSize = function () {
        var t = $(".youtubeStreamImageBlock:visible").parent();
        if (0 != t.length) {
          e.setSize(t.width(), t.height());
          var i = t[0].getBoundingClientRect()
            , o = document.documentElement
            , n = (window.pageXOffset || o.scrollLeft) - (o.clientLeft || 0)
            , a = (window.pageYOffset || o.scrollTop) - (o.clientTop || 0);
          $("#liveVideoInMediablock").css("left", i.x + n),
            $("#liveVideoInMediablock").css("top", i.y + a),
            $("#liveVideoInMediablock").show()
        }
      }
      ,
      e
  }(streamPlayer || {});
audioModule = function (e) {
  return e.preInit = function () {
    $("body").addClass("soundInit"),
      $(".soundIcon").addClass("iconright-15")
  }
    ,
    e
}(audioModule || {}),
  gameModule = function (e, t, i) {
    t.wasPlayerEliminated = !1;
    var o = {
      participationInfo: {
        getContainer: function () {
          return $(".gameDetails__ParticipationInfo")
        },
        show: function () {
          this.getContainer().fadeIn()
        },
        hide: function () {
          this.getContainer().hide()
        },
        closedRegistration: {
          getContainer: function () {
            return $(".gameDetails__ParticipationInfo .closed-registration")
          },
          show: function () {
            this.getContainer().fadeIn()
          },
          hide: function () {
            this.getContainer().hide()
          }
        },
        participateButton: {
          getContainer: function () {
            return $(".gameDetails__ParticipationInfo .participateButton")
          },
          show: function () {
            this.getContainer().fadeIn()
          },
          hide: function () {
            this.getContainer().hide()
          }
        },
        alreadyAccepted: {
          getContainer: function () {
            return $(".gameDetails__ParticipationInfo .already-accepted")
          },
          show: function () {
            this.getContainer().fadeIn()
          },
          hide: function () {
            this.getContainer().hide()
          }
        }
      },
      startDateTimeInfo: {
        getContainer: function () {
          return $(".gameDetails__StartDateTimeInfo")
        },
        show: function () {
          this.getContainer().fadeIn()
        },
        hide: function () {
          this.getContainer().hide()
        }
      },
      remainTime: {
        getContainer: function () {
          return $(".gameDetails__RemainTime")
        },
        show: function () {
          this.getContainer().fadeIn()
        },
        hide: function () {
          this.getContainer().hide()
        }
      },
      connectedUsers: {
        getContainer: function () {
          return $(".gameMain__Users")
        },
        getMobileContainer: function () {
          return $(".connectedUsersMobile")
        },
        show: function () {
          this.getContainer().fadeIn(),
            this.getMobileContainer().fadeIn()
        },
        hide: function () {
          this.getContainer().hide(),
            this.getMobileContainer().hide()
        }
      },
      loader: {
        getContainer: function () {
          return $(".loaderContainer")
        },
        show: function () {
          this.getContainer().fadeIn()
        },
        hide: function () {
          this.getContainer().hide()
        }
      },
      promolink: {
        getContainer: function () {
          return $(".promoBlockWait__PromoLinkSave")
        },
        show: function () {
          this.getContainer().fadeIn()
        },
        hide: function () {
          this.getContainer().hide()
        }
      },
      enableStartSinglePlayer: function () {
        $(".start-button-not-active").addClass("start-button-active").removeClass("start-button-not-active"),
          $(".gameDetails__QuizEnded").hide(),
          $(".gameDetails__WaitInfo").addClass("gameDetails__SinglePlayerStart__default")
      },
      modalRedirect: {
        getContainer: function () {
          return $(".modal__Redirect")
        },
        show: function () {
          this.getContainer().fadeIn()
        },
        hide: function () {
          this.getContainer().hide()
        }
      },
      playerTeamNameBlock: {
        getContainer: function () {
          return $(".gameDetails__PlayerTeamName")
        },
        show: function () {
          this.getContainer().fadeIn()
        },
        hide: function () {
          this.getContainer().hide()
        }
      }
    };
    function n() {
      var t = $.Deferred();
      return setTimeout((function () {
        e.tryConnectingToHost(!1).done(t.resolve).fail(t.reject)
      }
      ), 5e3),
        t.promise()
    }
    return e.onDoneConnect = void 0,
      e.onDisconnect = void 0,
      e.tryConnectingToHost = function (a) {
        var s = $.Deferred();
        const r = o.playerTeamNameBlock.getContainer();
        return t.checkHostAvailability().pipe((function (l) {
          return alertBoxModule.errorUnknown.hide(),
            l ? function () {
              var e = $.Deferred();
              return t.isUserAuthenticatedRequest().pipe((function (o) {
                o ? $.when(t.getCurrentUserAuth(), t.getHostInfo(), t.checkQuizRedirections()).pipe(t.validatePlayerBeforeJoin).done((function () {
                  e.resolve(!0)
                }
                )).fail(e.reject) : (t.redirectTo(i.routes.mvc.account.introduceYourself),
                  e.resolve(!1))
              }
              )).fail(e.reject),
                e.promise()
            }().done((function (t) {
              t && e.doneConnect && (r && o.playerTeamNameBlock.show(),
                e.doneConnect())
            }
            )).fail(s.reject) : (r && o.playerTeamNameBlock.hide(),
              a ? e.initParticipation().done(s.resolve).fail(s.reject) : n().done(s.resolve).fail(s.reject))
        }
        )).fail((function (e, i, o) {
          return t.errorHandler(errorTypeEnum.Unknown),
            n().done(s.resolve).fail(s.reject)
        }
        )),
          s.promise()
      }
      ,
      e.initParticipation = function () {
        var i = jQuery.Deferred();
        return t.participationStarted.fire(),
          function () {
            var t = $.Deferred();
            if (e.getStartDateLocal().diff(moment.utc().local(), "seconds") > 0)
              return o.modalRedirect.hide(),
                o.participationInfo.closedRegistration.hide(),
                o.startDateTimeInfo.show(),
                o.remainTime.show(),
                o.promolink.show(),
                e.checkUserParticipation().done(t.resolve).fail(t.reject);
            o.participationInfo.closedRegistration.show(),
              o.participationInfo.participateButton.hide(),
              o.participationInfo.alreadyAccepted.hide(),
              o.startDateTimeInfo.hide(),
              o.remainTime.hide(),
              o.promolink.hide(),
              o.modalRedirect.show(),
              t.resolve();
            return t.promise()
          }().pipe(n).done(i.resolve).fail(i.reject),
          i.promise()
      }
      ,
      e.checkUserParticipation = function () {
        var n = $.Deferred();
        return t.isUserRegisteredRequest().pipe((function (e) {
          return !!e && t.isUserParticipantRequest().fail(n.reject)
        }
        )).pipe((function (t) {
          t ? (o.participationInfo.alreadyAccepted.show(),
            o.participationInfo.participateButton.hide(),
            i.notificationWidget.show ? e.showNotification().done(n.resolve).fail(n.reject) : n.resolve()) : (o.participationInfo.alreadyAccepted.hide(),
              o.participationInfo.participateButton.show(),
              n.resolve())
        }
        )).fail(n.reject),
          n.promise()
      }
      ,
      e.userParticipate = function () {
        var o = $.Deferred();
        return t.isUserRegisteredRequest().pipe((function (n) {
          n ? t.userParticipateRequest().pipe(e.checkUserParticipation).done(o.resolve).fail(o.reject) : t.redirectTo(i.routes.mvc.account.registerWithParticipate)
        }
        )),
          o.promise()
      }
      ,
      e.showNotification = function () {
        var t = $.Deferred();
        return e.showNotificationWidgetRequest().pipe((function (e) {
          e && i.notificationWidget.showFn && i.notificationWidget.showFn(),
            t.resolve()
        }
        )).fail(t.reject),
          t.promise()
      }
      ,
      e.showNotificationWidgetRequest = function () {
        return $.get("/api/auth/current/show-notification-providers?ownerId=" + global_ownerId + "&ownerHash=" + global_notificationWidget.notificationProviderUrlHash)
      }
      ,
      e.getStartDateLocal = function () {
        var t = $("[wa-id=quizStartDateTime]").attr("start-date-data")
          , i = e.getTimeLocale();
        return moment.locale(i),
          moment.utc(t).local()
      }
      ,
      e.getTimeLocale = function () {
        return $("[wa-id=quizStartDateTime]").attr("locale-data")
      }
      ,
      e.connect = function () {
        t.join()
      }
      ,
      e.disconnect = function () {
        t.leave(),
          e.onDisconnect && e.onDisconnect()
      }
      ,
      t.participationStarted.subscribe((function () {
        t.hostId = void 0,
          t.currentUserId = void 0,
          t.hostIsNotAvailable = !1,
          t.isPaused = !1,
          o.connectedUsers.hide(),
          o.loader.hide(),
          o.participationInfo.show(),
          e.disconnect()
      }
      )),
      t.errorsScreenStarted.subscribe((function () {
        t.hostId = void 0,
          t.currentUserId = void 0,
          t.hostIsNotAvailable = !1,
          t.isPaused = !1,
          e.disconnect()
      }
      )),
      t.waitStageStarted.subscribe((function (e) {
        o.participationInfo.hide(),
          o.startDateTimeInfo.hide(),
          o.connectedUsers.show(),
          t.isSinglePlayer ? (o.loader.hide(),
            o.remainTime.hide(),
            o.enableStartSinglePlayer()) : (o.loader.show(),
              o.remainTime.show());
        o.modalRedirect.hide(),
          o.promolink.show(),
          addToCartModule.initAll(".blockForCart")
      }
      )),
      t.countdownStageStarted.subscribe((function (e) {
        eliminationGameModule.init(),
          t.isPlayerResultGetOnNextAnswerStage = !1,
          questionAnswerModule.clearAnswerAttempts()
      }
      )),
      t.questionsAnswerStageStarted.subscribe((function (e) {
        (t.isPlayerResultGetOnNextAnswerStage || eliminationGameModule.isPlayerResultGetOnAnswerStage(e)) && t.playerResultGet();
        t.isPlayerResultGetOnNextAnswerStage = questionAnswerModule.isPlayerResultGetOnNextAnswerStage(e),
          addToCartModule.initAll(".blockForCart"),
          t.isSinglePlayer && t.isReplayEnable && 0 != e.SelectedUserReaction && questionAnswerModule.setSelectedReactionById(e.SelectedUserReaction);
        if (questionAnswerModule.isAttemptsModeEnabled(e.CurrentQuestion)) {
          if (questionAnswerModule.clearAnswerAttempts(),
            e.CurrentQuestion.CustomDataValue && 1 != e.CurrentQuestion.CustomDataValue.numberAttemptsMode) {
            if (3 == e.CurrentQuestion.CustomDataValue.numberAttemptsMode) {
              const t = e.CurrentQuestion.CustomDataValue.numberAttempts;
              if (t) {
                if (questionAnswerModule.setTotalAttemptsCount(t),
                  e.PreviousAnswerAttempts) {
                  const t = e.PreviousAnswerAttempts.PreviousAnswerAttemptsCount;
                  t && questionAnswerModule.setUserAttemptsCount(t)
                }
                0 == e.IsAnswerTextCorrect && questionAnswerModule.displayAnswerAttemptsLeft(e.CurrentQuestion.Type)
              }
            }
            if (e.PreviousAnswerAttempts) {
              const t = e.PreviousAnswerAttempts.AnswerTexts;
              t && t.length > 0 && (questionAnswerModule.setPreviousAnswers(t),
                questionAnswerModule.displayPreviouslyAnswers())
            }
          }
        } else
          questionAnswerModule.clearAnswerAttempts()
      }
      )),
      t.questionsReviewStageStarted.subscribe((function (e) {
        t.playerResultGet(),
          t.isPlayerResultGetOnNextAnswerStage = !1,
          t.isSinglePlayer && t.isReplayEnable && 0 != e.SelectedUserReaction && questionAnswerModule.setSelectedReactionById(e.SelectedUserReaction);
        addToCartModule.initAll(".blockForCart"),
          questionAnswerModule.isAttemptsModeEnabled(e.CurrentQuestion) && questionAnswerModule.clearAnswerAttempts()
      }
      )),
      t.leadersStageStarted.subscribe((function (e) {
        t.playerResultGet(),
          window.onbeforeunload = function () { }
          ,
          addToCartModule.initAll(".blockForCart"),
          gameShareResultModule.setPlayersCount(e.PlayersCount)
      }
      )),
      t.hostStopped.subscribe((function (t) {
        gameAssistantModule.initByPosition(t),
          e.initParticipation(),
          activityQuestionModule && activityQuestionModule.dispose()
      }
      )),
      t.setPauseState.subscribe((function (e) {
        t.isPaused = e,
          e ? (t.pause(),
            alertBoxModule.gamePausedShow(),
            audioModule.pause()) : (t.resume(),
              alertBoxModule.gamePausedHide(),
              audioModule.play())
      }
      )),
      t.playerResult.subscribe((function (e) {
        questionAnswerModule.displayPlayerResult(e),
          leadersModule.displayPlayerResult(e),
          gameShareResultModule.setScore(e),
          eliminationGameModule.displayEliminationGameMessage(e),
          e.IsPlayerEliminated && t.playerEliminated.fire()
      }
      )),
      t.playerTeamResult.subscribe((function (e) {
        leadersModule.displayPlayerTeamResult(e)
      }
      )),
      t.playerJoined.subscribe((function (e) {
        waitModule.updatePlayersCount(e)
      }
      )),
      t.setUserBanned.subscribe((function (e) {
        e === t.hostId && t.errorHandler(errorTypeEnum.IsNotAllowedToPlay)
      }
      )),
      t.playerEliminated.subscribe((function () {
        eliminationGameModule.displayEliminationConnectMessage(),
          t.wasPlayerEliminated = !0
      }
      )),
      e
  }(gameModule, gameCoreModule, {
    routes: global_routes,
    notificationWidget: global_notificationWidget
  });
var chatModuleAPI = void 0;
$((function () {
  var e, t, i;
  function o() {
    console.log("game.player doneConnect"),
      gameModule.connect(),
      chatModuleAPI = chatBlockModule.init("#chatElement", ["[data-chat-open='chat1']"]);
    var e = GlobalUtils.uuidv4();
    gameResultImageCreatorModule.init(global_StorageAccount.uploadStorage, global_StorageAccount.patternStorage, global_customizationFullPath, e, window.shareResultTextParameters),
      gameCoreModule.randomAnswers = {}
  }
  gameCoreModule.quizCode = global_quizCode,
    gameCoreModule.isOwner = global_isOwner,
    gameCoreModule.isRandomization = global_answer_randomization,
    gameCoreModule.displayFacebook = global_displayFacebook,
    gameCoreModule.randomAnswers = {},
    gameModule.onDoneConnect = o,
    gameModule.onDisconnect = function () {
      $("#usersCount").text(0),
        $("#usersCountMobile").text(0),
        chatModuleAPI && chatModuleAPI.cleanup();
      $("#share-button-ok").off("click"),
        $("#share-button-vk").off("click"),
        $("#share-button-fb").off("click")
    }
    ,
    $.cookie("user.timezone.id", moment.tz.guess(), {
      path: "/"
    }),
    $("#instruction").click((function (e) {
      $("#ai-popup").css("display", "flex").hide().fadeIn()
    }
    )),
    $("#close-instruction").click((function (e) {
      $("#ai-popup").fadeOut()
    }
    )),
    $("#participateButton").on("click", (function (e) {
      e.preventDefault(),
        gameModule.userParticipate().fail((function (e, t, i) {
          console.error("participateButton click")
        }
        ))
    }
    )).on("click", (function (e) {
      e.preventDefault(),
        function (e) {
          "undefined" != typeof ga && (ga("send", "event", "Participate", e),
            global_customerGoogleTrackerEnabled && ga("customerTracker.send", "event", "Participate", e));
          "undefined" != typeof yaCounterMain && yaCounterMain.reachGoal("Participate_" + e);
          global_customerYandexTrackerEnabled && "undefined" != typeof yaCounterCustomer && yaCounterCustomer.reachGoal("Participate_" + e)
        }("click")
    }
    )),
    $("#CopyQuizLinkPlayer").click((function () {
      var e = $("<input>");
      $("body").append(e),
        e.val($("#quizLinkPlayerArea").text()).select(),
        document.execCommand("copy"),
        e.remove(),
        $("#quizLinkPlayerContainer").append('<div id="quizCodeWasCopiedPlayerInfo" class="connectInstruction__copied">' + WaitPageTexts.linkWasCopied + "<div/>"),
        setTimeout((function () {
          $("#quizCodeWasCopiedPlayerInfo").remove()
        }
        ), 1e3)
    }
    )),
    gameCoreModule.displayFacebook && socialNetworkFactoryModule.initFbSocialNetworkModule(),
    e = $(".gameDetails__RemainTime"),
    t = gameModule.getStartDateLocal(),
    waitCountdownModule.init(e, t.toDate()),
    function () {
      var e = gameModule.getStartDateLocal()
        , t = gameModule.getTimeLocale()
        , i = $(".gameDetails__StartDateTimeInfo")
        , o = e.format("D MMMM").split(" ");
      i.find(".day").first().text(o[0]),
        i.find(".month").first().text(o[1]),
        "en" === t ? (i.find(".hour").first().text(e.format("h")),
          i.find(".minute").first().text(e.format("mm")),
          i.find(".hour_am_pm").first().text(e.format("A"))) : (i.find(".hour").first().text(e.format("H")),
            i.find(".minute").first().text(e.format("mm")))
    }(),
    i = GlobalUtils.uuidv4(),
    gameResultImageCreatorModule.init(global_StorageAccount.uploadStorage, global_StorageAccount.patternStorage, global_customizationFullPath, i, window.shareResultTextParameters),
    $("#repost-button-vk").click((function () {
      var e = socialNetworkFactoryModule.getVkSocialNetworkModule();
      gameShareResultModule.post(e, gameShareResultModule.ShareScreen.WaitingScreen, $(this).parent().attr("text")).done((function (e) {
        e.result
      }
      )).fail((function (e) {
        console.error("Share failed in social network VK", e)
      }
      ))
    }
    )),
    $("#repost-button-fb").click((function () {
      if (gameCoreModule.displayFacebook) {
        var e = socialNetworkFactoryModule.getFbSocialNetworkModule(global_facebookAppId, global_gameSiteUrl + global_routes.mvc.game.shareResult);
        gameShareResultModule.post(e, gameShareResultModule.ShareScreen.WaitingScreen, $(this).parent().attr("text")).fail((function (e) {
          console.error("Share failed in social network FB", e)
        }
        ))
      }
    }
    )),
    $("#infoBlockReactionsStatistic span.icon").on("click", (function (e) {
      const t = $(this).attr("id")
        , i = questionAnswerModule.getSelectedReactionId();
      let o = questionAnswerModule.getSelectedReactionCountById(i);
      if (i && i === t && o && o > 0)
        return questionAnswerModule.setSelectedReactionCountById(t, --o),
          $("#infoBlockReactionsStatistic .selected").removeClass("selected"),
          $("#infoBlockReactionsStatistic .text").addClass("visible"),
          void questionAnswerModule.cancelReactionQuestion();
      o && o > 0 && questionAnswerModule.setSelectedReactionCountById(i, --o),
        questionAnswerModule.setSelectedReactionById(t);
      let n = questionAnswerModule.getSelectedReactionCountById(t);
      questionAnswerModule.setSelectedReactionCountById(t, ++n),
        questionAnswerModule.addReactionQuestion()
    }
    )),
    $("#infoBlockReactionsStatistic span.icon").on({
      pointerenter: e => {
        if ("mouse" === e.pointerType) {
          const t = e.target.id;
          $(`#${t}.icon .static`).addClass("hide"),
            $(`#${t}.icon .animated`).removeClass("hide")
        }
      }
      ,
      pointerleave: e => {
        if ("mouse" === e.pointerType) {
          const t = e.target.id;
          $(`#${t}.icon .static`).removeClass("hide"),
            $(`#${t}.icon .animated`).addClass("hide")
        }
      }
    }),
    gameShareResultModule.setPatterns(localizationModule.localizationData.shareResult.postTitle, localizationModule.localizationData.shareResult.imageTextPartOne, localizationModule.localizationData.shareResult.imageTextPartTwo, global_quizGameSite, localizationModule.localizationData.shareQuiz.postQuizTitle),
    $("#share-button-ok").click((function () {
      var e = socialNetworkFactoryModule.getOkSocialNetworkModule();
      gameShareResultModule.share(e, gameShareResultModule.ShareScreen.LeaderBoardScreen).fail((function (e) {
        console.error("Share failed in social network OK", e)
      }
      ))
    }
    )),
    $("#share-button-vk").click((function () {
      var e = socialNetworkFactoryModule.getVkSocialNetworkModule();
      gameShareResultModule.share(e, gameShareResultModule.ShareScreen.LeaderBoardScreen).fail((function (e) {
        console.error("Share failed in social network VK", e)
      }
      ))
    }
    )),
    $("#share-button-fb").click((function () {
      if (gameCoreModule.displayFacebook) {
        var e = socialNetworkFactoryModule.getFbSocialNetworkModule(global_facebookAppId, global_gameSiteUrl + global_routes.mvc.game.shareResult);
        gameShareResultModule.share(e, gameShareResultModule.ShareScreen.LeaderBoardScreen).fail((function (e) {
          console.error("Share failed in social network FB", e)
        }
        ))
      }
    }
    )),
    gameModule.doneConnect = o,
    gameModule.tryConnectingToHost(!0).fail((function (e, t, i) {
      console.error("game.player init failed")
    }
    ))
}
));
var requestForm = function (e) {
  return e.setPhoneMask = function (e, t) {
    for (var i = /[0\*]/, o = /[0-9]/, n = "", a = 0, s = 0; s < t.length && !(s >= e.length) && ("0" !== t[s] || null !== e[a].match(o));) {
      for (; null === t[s].match(i) && e[a] !== t[s];)
        n += t[s++];
      n += e[a++],
        s++
    }
    return n
  }
    ,
    $(".modal-request-form-control > *").each((function (e, t) {
      $(t).attr("required") && $(t).parent().addClass("required"),
        "TEXTAREA" == $(t).get(0).tagName && ($(t).parent().find("label").append("<span class='text-counter'><span class='current'>0</span>/" + $(t).attr("maxlength") + "</span>"),
          $(t).on("input", (function (e) {
            $(t).parent().find("label .text-counter .current").text(e.target.value.length)
          }
          )))
    }
    )),
    e.resetForm = function () {
      $(".modal-request-form-control, .modal-request-footer--agreement").each((function (e, t) {
        $(t).removeClass("error valid").find("input, textarea").val("").prop("checked", !1),
          $(t).find(".modal-request-validation-messsage").remove(),
          $(t).parent().find("label .text-counter .current").text("0")
      }
      ))
    }
    ,
    e.setErrorMessage = function (e, t) {
      e.find(".modal-request-validation-messsage").length || e.append(`<div class="modal-request-validation-messsage">${t}</div>`),
        t !== e.find(".modal-request-validation-messsage").text() && e.find(".modal-request-validation-messsage").text(t)
    }
    ,
    e.formFieldValidation = function (t) {
      var i = $(t).parents(".modal-request-form-control, .modal-request-footer--agreement")
        , o = i.parents("form").attr("data-validation-required-msg").replace("{0}", i.find("label").text())
        , n = i.parents("form").attr("data-validation-email-msg")
        , a = i.parents("form").attr("data-validation-phone-msg");
      return t.checkValidity() || "email" !== t.type || "" === t.value ? "" === t.value || "tel" !== t.type || t.value.match(/^(\+7|7|8)?[\s\-]?\(?[489][0-9]{2}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/gm) ? t.checkValidity() ? (i.removeClass("error"),
        "" !== t.value && i.addClass("valid"),
        i.find(".modal-request-validation-messsage").remove(),
        !0) : (i.removeClass("valid"),
          i.addClass("error"),
          e.setErrorMessage(i, o),
          !1) : (i.removeClass("valid"),
            i.addClass("error"),
            e.setErrorMessage(i, a),
            !1) : (i.removeClass("valid"),
              i.addClass("error"),
              e.setErrorMessage(i, n),
              !1)
    }
    ,
    e.formValidation = function (t) {
      var i = !0;
      return $(t).find("input").each((function (t, o) {
        e.formFieldValidation(this) || (i = !1)
      }
      )),
        i
    }
    ,
    e.createRequestBody = function (e = 0) {
      var t = $("#" + e)
        , i = "BrandingRequest" === e ? " Event date: " + t.find("input[name='event-date']").val() : "";
      return i += "BrandingRequest" === e || "BrandingExtendedRequest" === e ? " Branding type: " + t.find("select[name='branding-type'] option").filter(":selected").text() : "",
        i += "BrandingExtendedRequest" === e ? " Name: " + t.find("input[name='name']").val() + ("" !== t.find("input[name='additional-services']").val() ? " Additional services: " + t.find("input[name='additional-services']").val() : "") : "",
        i += "EventRequest" === e ? " Email or telegram: " + t.find("input[name='name-or-telegram']").val() + " Need branding: " + t.find("select[name='need-branding'] option").filter(":selected").text() + " Need host: " + t.find("select[name='need-host'] option").filter(":selected").text() + " Event format: " + t.find("select[name='event-format'] option").filter(":selected").text() : "",
        i += "ContactUsRequest" === e ? " Name: " + t.find("input[name='name']").val() + " Message: " + t.find("textarea[name='message']").val() : ""
    }
    ,
    e.submitRequestForm = function (t) {
      var i = $("#" + t);
      $.ajax({
        url: "/api/demo/add",
        data: {
          UseTo: t,
          Data: e.createRequestBody(t),
          Email: i.find("input[name='email']").val(),
          Phone: i.find("input[name='phone']").val(),
          AcceptedPrivacy: i.find("input[name='" + t + "Agreement']").is(":checked"),
          Type: t,
          RequestURL: window.location.href
        },
        type: "POST",
        beforeSend: function () { },
        success: function (e) {
          $(i.find(".modal-request-header, form")).hide(),
            $(i.find(".modal-request-confirmation-message")).show(),
            setTimeout((function () {
              $(i).modal("hide")
            }
            ), 4e3)
        }
      })
    }
    ,
    e.init = function (t) {
      var i = $("#" + t);
      i.on("click", (function () {
        $(this).find(".modal-request-validation-messsage").remove()
      }
      )),
        i.find("input").bind("keyup change", (function (t) {
          "tel" === t.target.type && (t.target.value = e.setPhoneMask(t.target.value, "+7 (000) 000-00-00")),
            e.formFieldValidation(this)
        }
        )),
        i.find("#modal-request-submit").click((function (o) {
          o.preventDefault(),
            o.stopPropagation(),
            e.formValidation(i.find("form")[0]) && e.submitRequestForm(t)
        }
        ));
      var o = (new Date).toISOString().slice(0, 10);
      i.find("input[type='date']").attr("min", o),
        $(i).on("hidden.bs.modal", (function () {
          $(this).find(".modal-request-confirmation-message").hide(),
            $(this).find(".modal-request-header, form").show(),
            e.resetForm()
        }
        ))
    }
    ,
    e
}(requestForm || {});
!function e(t, n, r) {
  function l(o, u) {
    if (!n[o]) {
      if (!t[o]) {
        var i = "function" == typeof require && require;
        if (!u && i)
          return i(o, !0);
        if (a)
          return a(o, !0);
        var s = new Error("Cannot find module '" + o + "'");
        throw s.code = "MODULE_NOT_FOUND",
        s
      }
      var c = n[o] = {
        exports: {}
      };
      t[o][0].call(c.exports, (function (e) {
        return l(t[o][1][e] || e)
      }
      ), c, c.exports, e, t, n, r)
    }
    return n[o].exports
  }
  for (var a = "function" == typeof require && require, o = 0; o < r.length; o++)
    l(r[o]);
  return l
}({
  1: [function (e, t, n) {
    "use strict";
    var r = this && this.__importDefault || function (e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
      ;
    Object.defineProperty(n, "__esModule", {
      value: !0
    });
    const l = r(e("react"))
      , a = r(e("react-dom"))
      , o = r(e("../WordCloud/WordCloud"))
      , u = e("./wordsGenerator");
    class i extends l.default.Component {
      constructor(e) {
        super(e),
          Object.defineProperty(this, "div", {
            enumerable: !0,
            configurable: !0,
            writable: !0,
            value: void 0
          }),
          Object.defineProperty(this, "onWordClickHandle", {
            enumerable: !0,
            configurable: !0,
            writable: !0,
            value: e => {
              var t, n, r;
              if (this.state.isAnswered && (null === (t = globalThis.gameCoreModule) || void 0 === t ? void 0 : t.removeWordCloudWord) && (null === (n = globalThis.gameAssistantModule) || void 0 === n ? void 0 : n.state.position.CurrentQuestion.Id)) {
                const t = null === (r = globalThis.gameAssistantModule) || void 0 === r ? void 0 : r.state.position.CurrentQuestion.Id;
                globalThis.gameCoreModule.removeWordCloudWord(t, e)
              }
            }
          }),
          this.state = {
            wordsViews: [],
            words: [],
            inputValue: "",
            isAnswered: !1
          },
          this.div = e.div
      }
      setWords(e) {
        const t = (0,
          u.sortWords)(e)
          , n = (0,
            u.getWordsViews)(t);
        JSON.stringify(this.state.wordsViews) !== JSON.stringify(n) && this.setState({
          wordsViews: n,
          words: t
        })
      }
      getWords() {
        return this.state.words
      }
      setInputValue(e) {
        this.setState({
          inputValue: e
        })
      }
      setIsAnswered(e) {
        this.setState({
          isAnswered: e
        })
      }
      unmount() {
        a.default.unmountComponentAtNode(this.div)
      }
      render() {
        const e = globalThis.global_isOwner ? this.onWordClickHandle : null;
        return l.default.createElement("div", {
          className: "wordcloud"
        }, l.default.createElement(o.default, {
          words: this.state.wordsViews,
          onWordClick: e
        }))
      }
    }
    n.default = i
  }
    , {
    "../WordCloud/WordCloud": 3,
    "./wordsGenerator": 2,
    react: 11,
    "react-dom": 8
  }],
  2: [function (e, t, n) {
    "use strict";
    Object.defineProperty(n, "__esModule", {
      value: !0
    }),
      n.getWordsViews = n.sortWords = n.getWordColor = void 0;
    n.getWordColor = e => {
      const t = ["#FAB002", "#EA5E29", "#E5398B", "#DC7AAB", "#9B30AA", "#3A28A7", "#278F78", "#056567", "#9EC011", "#BCBDBF", "#AA2457", "#B458A1", "#5D68A7", "#079CE8", "#5D699E", "#4BAECD", "#23BBEA", "#006D8E", "#A8D3E5", "#8494AD"];
      return t[(Math.abs(r(e.Label)) + e.Label.length) % t.length]
    }
      ;
    n.sortWords = e => e.sort((e, t) => r(e.Label) - r(t.Label));
    n.getWordsViews = e => {
      if (!e)
        return [];
      const t = (e = e.filter(e => e.Label.length <= 20)).reduce((e, t) => e + t.Weight, 0)
        , r = [...new Set(e.map(e => e.Weight))].sort((e, t) => t - e);
      return e.map((l, a) => {
        var o;
        let u = l.Weight / t * 20 * (1 + .05 * (e.length - r.indexOf(l.Weight)));
        return l.Label.length >= 9 && u >= 10 && (u = 7.5 + Math.max(0, 14 - l.Label.length)),
          u = .25 * u + .5,
          u = Math.max(1, u),
          u = Math.min(6, u),
        {
          color: null !== (o = l.Color) && void 0 !== o ? o : (0,
            n.getWordColor)(l),
          label: l.Label,
          fontWeight: u
        }
      }
      )
    }
      ;
    const r = e => {
      let t = 0;
      if (0 == e.length)
        return t;
      for (let n = 0; n < e.length; n++) {
        t = (t << 5) - t + e.charCodeAt(n),
          t &= t
      }
      return t
    }
  }
    , {}],
  3: [function (e, t, n) {
    "use strict";
    var r = this && this.__importDefault || function (e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
      ;
    Object.defineProperty(n, "__esModule", {
      value: !0
    });
    const l = r(e("react"));
    n.default = function (e) {
      return l.default.createElement("div", {
        className: "cloud-outer"
      }, l.default.createElement("ul", {
        className: "cloud"
      }, e.words.map(t => l.default.createElement("li", {
        key: "l" + t.label,
        style: {
          fontSize: t.fontWeight + "rem"
        },
        onClick: () => e.onWordClick(t.label)
      }, l.default.createElement("a", {
        key: t.label,
        style: {
          color: t.color
        }
      }, t.label)))))
    }
  }
    , {
    react: 11
  }],
  4: [function (e, t, n) {
    "use strict";
    var r = this && this.__importDefault || function (e) {
      return e && e.__esModule ? e : {
        default: e
      }
    }
      ;
    Object.defineProperty(n, "__esModule", {
      value: !0
    });
    const l = r(e("react"))
      , a = r(e("react-dom"))
      , o = r(e("./WordCloudQuestion/WordCloudQuestion"));
    globalThis.wordcloudQuestionModule = {
      createWordCloud: e => (e.innerHTML = "",
        new Promise(t => {
          var n = document.createElement("div");
          n.style.cssText = "width: 100%;height: 100%;",
            a.default.render(l.default.createElement(o.default, {
              div: e,
              ref: e => t(e)
            }), n),
            e.appendChild(n)
        }
        ))
    }
  }
    , {
    "./WordCloudQuestion/WordCloudQuestion": 1,
    react: 11,
    "react-dom": 8
  }],
  5: [function (e, t, n) {
    /*
object-assign
(c) Sindre Sorhus
@license MIT
*/
    "use strict";
    var r = Object.getOwnPropertySymbols
      , l = Object.prototype.hasOwnProperty
      , a = Object.prototype.propertyIsEnumerable;
    function o(e) {
      if (null == e)
        throw new TypeError("Object.assign cannot be called with null or undefined");
      return Object(e)
    }
    t.exports = function () {
      try {
        if (!Object.assign)
          return !1;
        var e = new String("abc");
        if (e[5] = "de",
          "5" === Object.getOwnPropertyNames(e)[0])
          return !1;
        for (var t = {}, n = 0; n < 10; n++)
          t["_" + String.fromCharCode(n)] = n;
        if ("0123456789" !== Object.getOwnPropertyNames(t).map((function (e) {
          return t[e]
        }
        )).join(""))
          return !1;
        var r = {};
        return "abcdefghijklmnopqrst".split("").forEach((function (e) {
          r[e] = e
        }
        )),
          "abcdefghijklmnopqrst" === Object.keys(Object.assign({}, r)).join("")
      } catch (e) {
        return !1
      }
    }() ? Object.assign : function (e, t) {
      for (var n, u, i = o(e), s = 1; s < arguments.length; s++) {
        for (var c in n = Object(arguments[s]))
          l.call(n, c) && (i[c] = n[c]);
        if (r) {
          u = r(n);
          for (var f = 0; f < u.length; f++)
            a.call(n, u[f]) && (i[u[f]] = n[u[f]])
        }
      }
      return i
    }
  }
    , {}],
  6: [function (e, t, n) {
    /** @license React v17.0.2
* react-dom.development.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/
    "use strict"
  }
    , {
    "object-assign": 5,
    react: 11,
    scheduler: 16,
    "scheduler/tracing": 17
  }],
  7: [function (e, t, n) {
    /** @license React v17.0.2
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/
    "use strict";
    var r = e("react")
      , l = e("object-assign")
      , a = e("scheduler");
    function o(e) {
      for (var t = "https://reactjs.org/docs/error-decoder.html?invariant=" + e, n = 1; n < arguments.length; n++)
        t += "&args[]=" + encodeURIComponent(arguments[n]);
      return "Minified React error #" + e + "; visit " + t + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings."
    }
    if (!r)
      throw Error(o(227));
    var u = new Set
      , i = {};
    function s(e, t) {
      c(e, t),
        c(e + "Capture", t)
    }
    function c(e, t) {
      for (i[e] = t,
        e = 0; e < t.length; e++)
        u.add(t[e])
    }
    var f = !("undefined" == typeof window || void 0 === window.document || void 0 === window.document.createElement)
      , d = /^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/
      , p = Object.prototype.hasOwnProperty
      , h = {}
      , m = {};
    function g(e, t, n, r, l, a, o) {
      this.acceptsBooleans = 2 === t || 3 === t || 4 === t,
        this.attributeName = r,
        this.attributeNamespace = l,
        this.mustUseProperty = n,
        this.propertyName = e,
        this.type = t,
        this.sanitizeURL = a,
        this.removeEmptyString = o
    }
    var v = {};
    "children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function (e) {
      v[e] = new g(e, 0, !1, e, null, !1, !1)
    }
    )),
      [["acceptCharset", "accept-charset"], ["className", "class"], ["htmlFor", "for"], ["httpEquiv", "http-equiv"]].forEach((function (e) {
        var t = e[0];
        v[t] = new g(t, 1, !1, e[1], null, !1, !1)
      }
      )),
      ["contentEditable", "draggable", "spellCheck", "value"].forEach((function (e) {
        v[e] = new g(e, 2, !1, e.toLowerCase(), null, !1, !1)
      }
      )),
      ["autoReverse", "externalResourcesRequired", "focusable", "preserveAlpha"].forEach((function (e) {
        v[e] = new g(e, 2, !1, e, null, !1, !1)
      }
      )),
      "allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function (e) {
        v[e] = new g(e, 3, !1, e.toLowerCase(), null, !1, !1)
      }
      )),
      ["checked", "multiple", "muted", "selected"].forEach((function (e) {
        v[e] = new g(e, 3, !0, e, null, !1, !1)
      }
      )),
      ["capture", "download"].forEach((function (e) {
        v[e] = new g(e, 4, !1, e, null, !1, !1)
      }
      )),
      ["cols", "rows", "size", "span"].forEach((function (e) {
        v[e] = new g(e, 6, !1, e, null, !1, !1)
      }
      )),
      ["rowSpan", "start"].forEach((function (e) {
        v[e] = new g(e, 5, !1, e.toLowerCase(), null, !1, !1)
      }
      ));
    var y = /[\-:]([a-z])/g;
    function b(e) {
      return e[1].toUpperCase()
    }
    function w(e, t, n, r) {
      var l = v.hasOwnProperty(t) ? v[t] : null;
      (null !== l ? 0 === l.type : !r && (2 < t.length && ("o" === t[0] || "O" === t[0]) && ("n" === t[1] || "N" === t[1]))) || (function (e, t, n, r) {
        if (null == t || function (e, t, n, r) {
          if (null !== n && 0 === n.type)
            return !1;
          switch (typeof t) {
            case "function":
            case "symbol":
              return !0;
            case "boolean":
              return !r && (null !== n ? !n.acceptsBooleans : "data-" !== (e = e.toLowerCase().slice(0, 5)) && "aria-" !== e);
            default:
              return !1
          }
        }(e, t, n, r))
          return !0;
        if (r)
          return !1;
        if (null !== n)
          switch (n.type) {
            case 3:
              return !t;
            case 4:
              return !1 === t;
            case 5:
              return isNaN(t);
            case 6:
              return isNaN(t) || 1 > t
          }
        return !1
      }(t, n, l, r) && (n = null),
        r || null === l ? function (e) {
          return !!p.call(m, e) || !p.call(h, e) && (d.test(e) ? m[e] = !0 : (h[e] = !0,
            !1))
        }(t) && (null === n ? e.removeAttribute(t) : e.setAttribute(t, "" + n)) : l.mustUseProperty ? e[l.propertyName] = null === n ? 3 !== l.type && "" : n : (t = l.attributeName,
          r = l.attributeNamespace,
          null === n ? e.removeAttribute(t) : (n = 3 === (l = l.type) || 4 === l && !0 === n ? "" : "" + n,
            r ? e.setAttributeNS(r, t, n) : e.setAttribute(t, n))))
    }
    "accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function (e) {
      var t = e.replace(y, b);
      v[t] = new g(t, 1, !1, e, null, !1, !1)
    }
    )),
      "xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function (e) {
        var t = e.replace(y, b);
        v[t] = new g(t, 1, !1, e, "http://www.w3.org/1999/xlink", !1, !1)
      }
      )),
      ["xml:base", "xml:lang", "xml:space"].forEach((function (e) {
        var t = e.replace(y, b);
        v[t] = new g(t, 1, !1, e, "http://www.w3.org/XML/1998/namespace", !1, !1)
      }
      )),
      ["tabIndex", "crossOrigin"].forEach((function (e) {
        v[e] = new g(e, 1, !1, e.toLowerCase(), null, !1, !1)
      }
      )),
      v.xlinkHref = new g("xlinkHref", 1, !1, "xlink:href", "http://www.w3.org/1999/xlink", !0, !1),
      ["src", "href", "action", "formAction"].forEach((function (e) {
        v[e] = new g(e, 1, !1, e.toLowerCase(), null, !0, !0)
      }
      ));
    var k = r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED
      , E = 60103
      , S = 60106
      , _ = 60107
      , C = 60108
      , x = 60114
      , P = 60109
      , N = 60110
      , T = 60112
      , L = 60113
      , z = 60120
      , O = 60115
      , M = 60116
      , R = 60121
      , D = 60128
      , I = 60129
      , F = 60130
      , j = 60131;
    if ("function" == typeof Symbol && Symbol.for) {
      var U = Symbol.for;
      E = U("react.element"),
        S = U("react.portal"),
        _ = U("react.fragment"),
        C = U("react.strict_mode"),
        x = U("react.profiler"),
        P = U("react.provider"),
        N = U("react.context"),
        T = U("react.forward_ref"),
        L = U("react.suspense"),
        z = U("react.suspense_list"),
        O = U("react.memo"),
        M = U("react.lazy"),
        R = U("react.block"),
        U("react.scope"),
        D = U("react.opaque.id"),
        I = U("react.debug_trace_mode"),
        F = U("react.offscreen"),
        j = U("react.legacy_hidden")
    }
    var A, W = "function" == typeof Symbol && Symbol.iterator;
    function V(e) {
      return null === e || "object" != typeof e ? null : "function" == typeof (e = W && e[W] || e["@@iterator"]) ? e : null
    }
    function B(e) {
      if (void 0 === A)
        try {
          throw Error()
        } catch (e) {
          var t = e.stack.trim().match(/\n( *(at )?)/);
          A = t && t[1] || ""
        }
      return "\n" + A + e
    }
    var Q = !1;
    function $(e, t) {
      if (!e || Q)
        return "";
      Q = !0;
      var n = Error.prepareStackTrace;
      Error.prepareStackTrace = void 0;
      try {
        if (t)
          if (t = function () {
            throw Error()
          }
            ,
            Object.defineProperty(t.prototype, "props", {
              set: function () {
                throw Error()
              }
            }),
            "object" == typeof Reflect && Reflect.construct) {
            try {
              Reflect.construct(t, [])
            } catch (e) {
              var r = e
            }
            Reflect.construct(e, [], t)
          } else {
            try {
              t.call()
            } catch (e) {
              r = e
            }
            e.call(t.prototype)
          }
        else {
          try {
            throw Error()
          } catch (e) {
            r = e
          }
          e()
        }
      } catch (e) {
        if (e && r && "string" == typeof e.stack) {
          for (var l = e.stack.split("\n"), a = r.stack.split("\n"), o = l.length - 1, u = a.length - 1; 1 <= o && 0 <= u && l[o] !== a[u];)
            u--;
          for (; 1 <= o && 0 <= u; o--,
            u--)
            if (l[o] !== a[u]) {
              if (1 !== o || 1 !== u)
                do {
                  if (o--,
                    0 > --u || l[o] !== a[u])
                    return "\n" + l[o].replace(" at new ", " at ")
                } while (1 <= o && 0 <= u);
              break
            }
        }
      } finally {
        Q = !1,
          Error.prepareStackTrace = n
      }
      return (e = e ? e.displayName || e.name : "") ? B(e) : ""
    }
    function H(e) {
      switch (e.tag) {
        case 5:
          return B(e.type);
        case 16:
          return B("Lazy");
        case 13:
          return B("Suspense");
        case 19:
          return B("SuspenseList");
        case 0:
        case 2:
        case 15:
          return e = $(e.type, !1);
        case 11:
          return e = $(e.type.render, !1);
        case 22:
          return e = $(e.type._render, !1);
        case 1:
          return e = $(e.type, !0);
        default:
          return ""
      }
    }
    function q(e) {
      if (null == e)
        return null;
      if ("function" == typeof e)
        return e.displayName || e.name || null;
      if ("string" == typeof e)
        return e;
      switch (e) {
        case _:
          return "Fragment";
        case S:
          return "Portal";
        case x:
          return "Profiler";
        case C:
          return "StrictMode";
        case L:
          return "Suspense";
        case z:
          return "SuspenseList"
      }
      if ("object" == typeof e)
        switch (e.$$typeof) {
          case N:
            return (e.displayName || "Context") + ".Consumer";
          case P:
            return (e._context.displayName || "Context") + ".Provider";
          case T:
            var t = e.render;
            return t = t.displayName || t.name || "",
              e.displayName || ("" !== t ? "ForwardRef(" + t + ")" : "ForwardRef");
          case O:
            return q(e.type);
          case R:
            return q(e._render);
          case M:
            t = e._payload,
              e = e._init;
            try {
              return q(e(t))
            } catch (e) { }
        }
      return null
    }
    function K(e) {
      switch (typeof e) {
        case "boolean":
        case "number":
        case "object":
        case "string":
        case "undefined":
          return e;
        default:
          return ""
      }
    }
    function Y(e) {
      var t = e.type;
      return (e = e.nodeName) && "input" === e.toLowerCase() && ("checkbox" === t || "radio" === t)
    }
    function X(e) {
      e._valueTracker || (e._valueTracker = function (e) {
        var t = Y(e) ? "checked" : "value"
          , n = Object.getOwnPropertyDescriptor(e.constructor.prototype, t)
          , r = "" + e[t];
        if (!e.hasOwnProperty(t) && void 0 !== n && "function" == typeof n.get && "function" == typeof n.set) {
          var l = n.get
            , a = n.set;
          return Object.defineProperty(e, t, {
            configurable: !0,
            get: function () {
              return l.call(this)
            },
            set: function (e) {
              r = "" + e,
                a.call(this, e)
            }
          }),
            Object.defineProperty(e, t, {
              enumerable: n.enumerable
            }),
          {
            getValue: function () {
              return r
            },
            setValue: function (e) {
              r = "" + e
            },
            stopTracking: function () {
              e._valueTracker = null,
                delete e[t]
            }
          }
        }
      }(e))
    }
    function G(e) {
      if (!e)
        return !1;
      var t = e._valueTracker;
      if (!t)
        return !0;
      var n = t.getValue()
        , r = "";
      return e && (r = Y(e) ? e.checked ? "true" : "false" : e.value),
        (e = r) !== n && (t.setValue(e),
          !0)
    }
    function J(e) {
      if (void 0 === (e = e || ("undefined" != typeof document ? document : void 0)))
        return null;
      try {
        return e.activeElement || e.body
      } catch (t) {
        return e.body
      }
    }
    function Z(e, t) {
      var n = t.checked;
      return l({}, t, {
        defaultChecked: void 0,
        defaultValue: void 0,
        value: void 0,
        checked: null != n ? n : e._wrapperState.initialChecked
      })
    }
    function ee(e, t) {
      var n = null == t.defaultValue ? "" : t.defaultValue
        , r = null != t.checked ? t.checked : t.defaultChecked;
      n = K(null != t.value ? t.value : n),
        e._wrapperState = {
          initialChecked: r,
          initialValue: n,
          controlled: "checkbox" === t.type || "radio" === t.type ? null != t.checked : null != t.value
        }
    }
    function te(e, t) {
      null != (t = t.checked) && w(e, "checked", t, !1)
    }
    function ne(e, t) {
      te(e, t);
      var n = K(t.value)
        , r = t.type;
      if (null != n)
        "number" === r ? (0 === n && "" === e.value || e.value != n) && (e.value = "" + n) : e.value !== "" + n && (e.value = "" + n);
      else if ("submit" === r || "reset" === r)
        return void e.removeAttribute("value");
      t.hasOwnProperty("value") ? le(e, t.type, n) : t.hasOwnProperty("defaultValue") && le(e, t.type, K(t.defaultValue)),
        null == t.checked && null != t.defaultChecked && (e.defaultChecked = !!t.defaultChecked)
    }
    function re(e, t, n) {
      if (t.hasOwnProperty("value") || t.hasOwnProperty("defaultValue")) {
        var r = t.type;
        if (!("submit" !== r && "reset" !== r || void 0 !== t.value && null !== t.value))
          return;
        t = "" + e._wrapperState.initialValue,
          n || t === e.value || (e.value = t),
          e.defaultValue = t
      }
      "" !== (n = e.name) && (e.name = ""),
        e.defaultChecked = !!e._wrapperState.initialChecked,
        "" !== n && (e.name = n)
    }
    function le(e, t, n) {
      "number" === t && J(e.ownerDocument) === e || (null == n ? e.defaultValue = "" + e._wrapperState.initialValue : e.defaultValue !== "" + n && (e.defaultValue = "" + n))
    }
    function ae(e, t) {
      return e = l({
        children: void 0
      }, t),
        (t = function (e) {
          var t = "";
          return r.Children.forEach(e, (function (e) {
            null != e && (t += e)
          }
          )),
            t
        }(t.children)) && (e.children = t),
        e
    }
    function oe(e, t, n, r) {
      if (e = e.options,
        t) {
        t = {};
        for (var l = 0; l < n.length; l++)
          t["$" + n[l]] = !0;
        for (n = 0; n < e.length; n++)
          l = t.hasOwnProperty("$" + e[n].value),
            e[n].selected !== l && (e[n].selected = l),
            l && r && (e[n].defaultSelected = !0)
      } else {
        for (n = "" + K(n),
          t = null,
          l = 0; l < e.length; l++) {
          if (e[l].value === n)
            return e[l].selected = !0,
              void (r && (e[l].defaultSelected = !0));
          null !== t || e[l].disabled || (t = e[l])
        }
        null !== t && (t.selected = !0)
      }
    }
    function ue(e, t) {
      if (null != t.dangerouslySetInnerHTML)
        throw Error(o(91));
      return l({}, t, {
        value: void 0,
        defaultValue: void 0,
        children: "" + e._wrapperState.initialValue
      })
    }
    function ie(e, t) {
      var n = t.value;
      if (null == n) {
        if (n = t.children,
          t = t.defaultValue,
          null != n) {
          if (null != t)
            throw Error(o(92));
          if (Array.isArray(n)) {
            if (!(1 >= n.length))
              throw Error(o(93));
            n = n[0]
          }
          t = n
        }
        null == t && (t = ""),
          n = t
      }
      e._wrapperState = {
        initialValue: K(n)
      }
    }
    function se(e, t) {
      var n = K(t.value)
        , r = K(t.defaultValue);
      null != n && ((n = "" + n) !== e.value && (e.value = n),
        null == t.defaultValue && e.defaultValue !== n && (e.defaultValue = n)),
        null != r && (e.defaultValue = "" + r)
    }
    function ce(e) {
      var t = e.textContent;
      t === e._wrapperState.initialValue && "" !== t && null !== t && (e.value = t)
    }
    var fe = "http://www.w3.org/1999/xhtml"
      , de = "http://www.w3.org/2000/svg";
    function pe(e) {
      switch (e) {
        case "svg":
          return "http://www.w3.org/2000/svg";
        case "math":
          return "http://www.w3.org/1998/Math/MathML";
        default:
          return "http://www.w3.org/1999/xhtml"
      }
    }
    function he(e, t) {
      return null == e || "http://www.w3.org/1999/xhtml" === e ? pe(t) : "http://www.w3.org/2000/svg" === e && "foreignObject" === t ? "http://www.w3.org/1999/xhtml" : e
    }
    var me, ge = function (e) {
      return "undefined" != typeof MSApp && MSApp.execUnsafeLocalFunction ? function (t, n, r, l) {
        MSApp.execUnsafeLocalFunction((function () {
          return e(t, n)
        }
        ))
      }
        : e
    }((function (e, t) {
      if (e.namespaceURI !== de || "innerHTML" in e)
        e.innerHTML = t;
      else {
        for ((me = me || document.createElement("div")).innerHTML = "<svg>" + t.valueOf().toString() + "</svg>",
          t = me.firstChild; e.firstChild;)
          e.removeChild(e.firstChild);
        for (; t.firstChild;)
          e.appendChild(t.firstChild)
      }
    }
    ));
    function ve(e, t) {
      if (t) {
        var n = e.firstChild;
        if (n && n === e.lastChild && 3 === n.nodeType)
          return void (n.nodeValue = t)
      }
      e.textContent = t
    }
    var ye = {
      animationIterationCount: !0,
      borderImageOutset: !0,
      borderImageSlice: !0,
      borderImageWidth: !0,
      boxFlex: !0,
      boxFlexGroup: !0,
      boxOrdinalGroup: !0,
      columnCount: !0,
      columns: !0,
      flex: !0,
      flexGrow: !0,
      flexPositive: !0,
      flexShrink: !0,
      flexNegative: !0,
      flexOrder: !0,
      gridArea: !0,
      gridRow: !0,
      gridRowEnd: !0,
      gridRowSpan: !0,
      gridRowStart: !0,
      gridColumn: !0,
      gridColumnEnd: !0,
      gridColumnSpan: !0,
      gridColumnStart: !0,
      fontWeight: !0,
      lineClamp: !0,
      lineHeight: !0,
      opacity: !0,
      order: !0,
      orphans: !0,
      tabSize: !0,
      widows: !0,
      zIndex: !0,
      zoom: !0,
      fillOpacity: !0,
      floodOpacity: !0,
      stopOpacity: !0,
      strokeDasharray: !0,
      strokeDashoffset: !0,
      strokeMiterlimit: !0,
      strokeOpacity: !0,
      strokeWidth: !0
    }
      , be = ["Webkit", "ms", "Moz", "O"];
    function we(e, t, n) {
      return null == t || "boolean" == typeof t || "" === t ? "" : n || "number" != typeof t || 0 === t || ye.hasOwnProperty(e) && ye[e] ? ("" + t).trim() : t + "px"
    }
    function ke(e, t) {
      for (var n in e = e.style,
        t)
        if (t.hasOwnProperty(n)) {
          var r = 0 === n.indexOf("--")
            , l = we(n, t[n], r);
          "float" === n && (n = "cssFloat"),
            r ? e.setProperty(n, l) : e[n] = l
        }
    }
    Object.keys(ye).forEach((function (e) {
      be.forEach((function (t) {
        t = t + e.charAt(0).toUpperCase() + e.substring(1),
          ye[t] = ye[e]
      }
      ))
    }
    ));
    var Ee = l({
      menuitem: !0
    }, {
      area: !0,
      base: !0,
      br: !0,
      col: !0,
      embed: !0,
      hr: !0,
      img: !0,
      input: !0,
      keygen: !0,
      link: !0,
      meta: !0,
      param: !0,
      source: !0,
      track: !0,
      wbr: !0
    });
    function Se(e, t) {
      if (t) {
        if (Ee[e] && (null != t.children || null != t.dangerouslySetInnerHTML))
          throw Error(o(137, e));
        if (null != t.dangerouslySetInnerHTML) {
          if (null != t.children)
            throw Error(o(60));
          if ("object" != typeof t.dangerouslySetInnerHTML || !("__html" in t.dangerouslySetInnerHTML))
            throw Error(o(61))
        }
        if (null != t.style && "object" != typeof t.style)
          throw Error(o(62))
      }
    }
    function _e(e, t) {
      if (-1 === e.indexOf("-"))
        return "string" == typeof t.is;
      switch (e) {
        case "annotation-xml":
        case "color-profile":
        case "font-face":
        case "font-face-src":
        case "font-face-uri":
        case "font-face-format":
        case "font-face-name":
        case "missing-glyph":
          return !1;
        default:
          return !0
      }
    }
    function Ce(e) {
      return (e = e.target || e.srcElement || window).correspondingUseElement && (e = e.correspondingUseElement),
        3 === e.nodeType ? e.parentNode : e
    }
    var xe = null
      , Pe = null
      , Ne = null;
    function Te(e) {
      if (e = Jr(e)) {
        if ("function" != typeof xe)
          throw Error(o(280));
        var t = e.stateNode;
        t && (t = el(t),
          xe(e.stateNode, e.type, t))
      }
    }
    function Le(e) {
      Pe ? Ne ? Ne.push(e) : Ne = [e] : Pe = e
    }
    function ze() {
      if (Pe) {
        var e = Pe
          , t = Ne;
        if (Ne = Pe = null,
          Te(e),
          t)
          for (e = 0; e < t.length; e++)
            Te(t[e])
      }
    }
    function Oe(e, t) {
      return e(t)
    }
    function Me(e, t, n, r, l) {
      return e(t, n, r, l)
    }
    function Re() { }
    var De = Oe
      , Ie = !1
      , Fe = !1;
    function je() {
      null === Pe && null === Ne || (Re(),
        ze())
    }
    function Ue(e, t) {
      var n = e.stateNode;
      if (null === n)
        return null;
      var r = el(n);
      if (null === r)
        return null;
      n = r[t];
      e: switch (t) {
        case "onClick":
        case "onClickCapture":
        case "onDoubleClick":
        case "onDoubleClickCapture":
        case "onMouseDown":
        case "onMouseDownCapture":
        case "onMouseMove":
        case "onMouseMoveCapture":
        case "onMouseUp":
        case "onMouseUpCapture":
        case "onMouseEnter":
          (r = !r.disabled) || (r = !("button" === (e = e.type) || "input" === e || "select" === e || "textarea" === e)),
            e = !r;
          break e;
        default:
          e = !1
      }
      if (e)
        return null;
      if (n && "function" != typeof n)
        throw Error(o(231, t, typeof n));
      return n
    }
    var Ae = !1;
    if (f)
      try {
        var We = {};
        Object.defineProperty(We, "passive", {
          get: function () {
            Ae = !0
          }
        }),
          window.addEventListener("test", We, We),
          window.removeEventListener("test", We, We)
      } catch (e) {
        Ae = !1
      }
    function Ve(e, t, n, r, l, a, o, u, i) {
      var s = Array.prototype.slice.call(arguments, 3);
      try {
        t.apply(n, s)
      } catch (e) {
        this.onError(e)
      }
    }
    var Be = !1
      , Qe = null
      , $e = !1
      , He = null
      , qe = {
        onError: function (e) {
          Be = !0,
            Qe = e
        }
      };
    function Ke(e, t, n, r, l, a, o, u, i) {
      Be = !1,
        Qe = null,
        Ve.apply(qe, arguments)
    }
    function Ye(e) {
      var t = e
        , n = e;
      if (e.alternate)
        for (; t.return;)
          t = t.return;
      else {
        e = t;
        do {
          0 != (1026 & (t = e).flags) && (n = t.return),
            e = t.return
        } while (e)
      }
      return 3 === t.tag ? n : null
    }
    function Xe(e) {
      if (13 === e.tag) {
        var t = e.memoizedState;
        if (null === t && (null !== (e = e.alternate) && (t = e.memoizedState)),
          null !== t)
          return t.dehydrated
      }
      return null
    }
    function Ge(e) {
      if (Ye(e) !== e)
        throw Error(o(188))
    }
    function Je(e) {
      if (!(e = function (e) {
        var t = e.alternate;
        if (!t) {
          if (null === (t = Ye(e)))
            throw Error(o(188));
          return t !== e ? null : e
        }
        for (var n = e, r = t; ;) {
          var l = n.return;
          if (null === l)
            break;
          var a = l.alternate;
          if (null === a) {
            if (null !== (r = l.return)) {
              n = r;
              continue
            }
            break
          }
          if (l.child === a.child) {
            for (a = l.child; a;) {
              if (a === n)
                return Ge(l),
                  e;
              if (a === r)
                return Ge(l),
                  t;
              a = a.sibling
            }
            throw Error(o(188))
          }
          if (n.return !== r.return)
            n = l,
              r = a;
          else {
            for (var u = !1, i = l.child; i;) {
              if (i === n) {
                u = !0,
                  n = l,
                  r = a;
                break
              }
              if (i === r) {
                u = !0,
                  r = l,
                  n = a;
                break
              }
              i = i.sibling
            }
            if (!u) {
              for (i = a.child; i;) {
                if (i === n) {
                  u = !0,
                    n = a,
                    r = l;
                  break
                }
                if (i === r) {
                  u = !0,
                    r = a,
                    n = l;
                  break
                }
                i = i.sibling
              }
              if (!u)
                throw Error(o(189))
            }
          }
          if (n.alternate !== r)
            throw Error(o(190))
        }
        if (3 !== n.tag)
          throw Error(o(188));
        return n.stateNode.current === n ? e : t
      }(e)))
        return null;
      for (var t = e; ;) {
        if (5 === t.tag || 6 === t.tag)
          return t;
        if (t.child)
          t.child.return = t,
            t = t.child;
        else {
          if (t === e)
            break;
          for (; !t.sibling;) {
            if (!t.return || t.return === e)
              return null;
            t = t.return
          }
          t.sibling.return = t.return,
            t = t.sibling
        }
      }
      return null
    }
    function Ze(e, t) {
      for (var n = e.alternate; null !== t;) {
        if (t === e || t === n)
          return !0;
        t = t.return
      }
      return !1
    }
    var et, tt, nt, rt, lt = !1, at = [], ot = null, ut = null, it = null, st = new Map, ct = new Map, ft = [], dt = "mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");
    function pt(e, t, n, r, l) {
      return {
        blockedOn: e,
        domEventName: t,
        eventSystemFlags: 16 | n,
        nativeEvent: l,
        targetContainers: [r]
      }
    }
    function ht(e, t) {
      switch (e) {
        case "focusin":
        case "focusout":
          ot = null;
          break;
        case "dragenter":
        case "dragleave":
          ut = null;
          break;
        case "mouseover":
        case "mouseout":
          it = null;
          break;
        case "pointerover":
        case "pointerout":
          st.delete(t.pointerId);
          break;
        case "gotpointercapture":
        case "lostpointercapture":
          ct.delete(t.pointerId)
      }
    }
    function mt(e, t, n, r, l, a) {
      return null === e || e.nativeEvent !== a ? (e = pt(t, n, r, l, a),
        null !== t && (null !== (t = Jr(t)) && tt(t)),
        e) : (e.eventSystemFlags |= r,
          t = e.targetContainers,
          null !== l && -1 === t.indexOf(l) && t.push(l),
          e)
    }
    function gt(e) {
      var t = Gr(e.target);
      if (null !== t) {
        var n = Ye(t);
        if (null !== n)
          if (13 === (t = n.tag)) {
            if (null !== (t = Xe(n)))
              return e.blockedOn = t,
                void rt(e.lanePriority, (function () {
                  a.unstable_runWithPriority(e.priority, (function () {
                    nt(n)
                  }
                  ))
                }
                ))
          } else if (3 === t && n.stateNode.hydrate)
            return void (e.blockedOn = 3 === n.tag ? n.stateNode.containerInfo : null)
      }
      e.blockedOn = null
    }
    function vt(e) {
      if (null !== e.blockedOn)
        return !1;
      for (var t = e.targetContainers; 0 < t.length;) {
        var n = Jt(e.domEventName, e.eventSystemFlags, t[0], e.nativeEvent);
        if (null !== n)
          return null !== (t = Jr(n)) && tt(t),
            e.blockedOn = n,
            !1;
        t.shift()
      }
      return !0
    }
    function yt(e, t, n) {
      vt(e) && n.delete(t)
    }
    function bt() {
      for (lt = !1; 0 < at.length;) {
        var e = at[0];
        if (null !== e.blockedOn) {
          null !== (e = Jr(e.blockedOn)) && et(e);
          break
        }
        for (var t = e.targetContainers; 0 < t.length;) {
          var n = Jt(e.domEventName, e.eventSystemFlags, t[0], e.nativeEvent);
          if (null !== n) {
            e.blockedOn = n;
            break
          }
          t.shift()
        }
        null === e.blockedOn && at.shift()
      }
      null !== ot && vt(ot) && (ot = null),
        null !== ut && vt(ut) && (ut = null),
        null !== it && vt(it) && (it = null),
        st.forEach(yt),
        ct.forEach(yt)
    }
    function wt(e, t) {
      e.blockedOn === t && (e.blockedOn = null,
        lt || (lt = !0,
          a.unstable_scheduleCallback(a.unstable_NormalPriority, bt)))
    }
    function kt(e) {
      function t(t) {
        return wt(t, e)
      }
      if (0 < at.length) {
        wt(at[0], e);
        for (var n = 1; n < at.length; n++) {
          var r = at[n];
          r.blockedOn === e && (r.blockedOn = null)
        }
      }
      for (null !== ot && wt(ot, e),
        null !== ut && wt(ut, e),
        null !== it && wt(it, e),
        st.forEach(t),
        ct.forEach(t),
        n = 0; n < ft.length; n++)
        (r = ft[n]).blockedOn === e && (r.blockedOn = null);
      for (; 0 < ft.length && null === (n = ft[0]).blockedOn;)
        gt(n),
          null === n.blockedOn && ft.shift()
    }
    function Et(e, t) {
      var n = {};
      return n[e.toLowerCase()] = t.toLowerCase(),
        n["Webkit" + e] = "webkit" + t,
        n["Moz" + e] = "moz" + t,
        n
    }
    var St = {
      animationend: Et("Animation", "AnimationEnd"),
      animationiteration: Et("Animation", "AnimationIteration"),
      animationstart: Et("Animation", "AnimationStart"),
      transitionend: Et("Transition", "TransitionEnd")
    }
      , _t = {}
      , Ct = {};
    function xt(e) {
      if (_t[e])
        return _t[e];
      if (!St[e])
        return e;
      var t, n = St[e];
      for (t in n)
        if (n.hasOwnProperty(t) && t in Ct)
          return _t[e] = n[t];
      return e
    }
    f && (Ct = document.createElement("div").style,
      "AnimationEvent" in window || (delete St.animationend.animation,
        delete St.animationiteration.animation,
        delete St.animationstart.animation),
      "TransitionEvent" in window || delete St.transitionend.transition);
    var Pt = xt("animationend")
      , Nt = xt("animationiteration")
      , Tt = xt("animationstart")
      , Lt = xt("transitionend")
      , zt = new Map
      , Ot = new Map
      , Mt = ["abort", "abort", Pt, "animationEnd", Nt, "animationIteration", Tt, "animationStart", "canplay", "canPlay", "canplaythrough", "canPlayThrough", "durationchange", "durationChange", "emptied", "emptied", "encrypted", "encrypted", "ended", "ended", "error", "error", "gotpointercapture", "gotPointerCapture", "load", "load", "loadeddata", "loadedData", "loadedmetadata", "loadedMetadata", "loadstart", "loadStart", "lostpointercapture", "lostPointerCapture", "playing", "playing", "progress", "progress", "seeking", "seeking", "stalled", "stalled", "suspend", "suspend", "timeupdate", "timeUpdate", Lt, "transitionEnd", "waiting", "waiting"];
    function Rt(e, t) {
      for (var n = 0; n < e.length; n += 2) {
        var r = e[n]
          , l = e[n + 1];
        l = "on" + (l[0].toUpperCase() + l.slice(1)),
          Ot.set(r, t),
          zt.set(r, l),
          s(l, [r])
      }
    }
    (0,
      a.unstable_now)();
    var Dt = 8;
    function It(e) {
      if (0 != (1 & e))
        return Dt = 15,
          1;
      if (0 != (2 & e))
        return Dt = 14,
          2;
      if (0 != (4 & e))
        return Dt = 13,
          4;
      var t = 24 & e;
      return 0 !== t ? (Dt = 12,
        t) : 0 != (32 & e) ? (Dt = 11,
          32) : 0 !== (t = 192 & e) ? (Dt = 10,
            t) : 0 != (256 & e) ? (Dt = 9,
              256) : 0 !== (t = 3584 & e) ? (Dt = 8,
                t) : 0 != (4096 & e) ? (Dt = 7,
                  4096) : 0 !== (t = 4186112 & e) ? (Dt = 6,
                    t) : 0 !== (t = 62914560 & e) ? (Dt = 5,
                      t) : 67108864 & e ? (Dt = 4,
                        67108864) : 0 != (134217728 & e) ? (Dt = 3,
                          134217728) : 0 !== (t = 805306368 & e) ? (Dt = 2,
                            t) : 0 != (1073741824 & e) ? (Dt = 1,
                              1073741824) : (Dt = 8,
                                e)
    }
    function Ft(e, t) {
      var n = e.pendingLanes;
      if (0 === n)
        return Dt = 0;
      var r = 0
        , l = 0
        , a = e.expiredLanes
        , o = e.suspendedLanes
        , u = e.pingedLanes;
      if (0 !== a)
        r = a,
          l = Dt = 15;
      else if (0 !== (a = 134217727 & n)) {
        var i = a & ~o;
        0 !== i ? (r = It(i),
          l = Dt) : 0 !== (u &= a) && (r = It(u),
            l = Dt)
      } else
        0 !== (a = n & ~o) ? (r = It(a),
          l = Dt) : 0 !== u && (r = It(u),
            l = Dt);
      if (0 === r)
        return 0;
      if (r = n & ((0 > (r = 31 - Bt(r)) ? 0 : 1 << r) << 1) - 1,
        0 !== t && t !== r && 0 == (t & o)) {
        if (It(t),
          l <= Dt)
          return t;
        Dt = l
      }
      if (0 !== (t = e.entangledLanes))
        for (e = e.entanglements,
          t &= r; 0 < t;)
          l = 1 << (n = 31 - Bt(t)),
            r |= e[n],
            t &= ~l;
      return r
    }
    function jt(e) {
      return 0 !== (e = -1073741825 & e.pendingLanes) ? e : 1073741824 & e ? 1073741824 : 0
    }
    function Ut(e, t) {
      switch (e) {
        case 15:
          return 1;
        case 14:
          return 2;
        case 12:
          return 0 === (e = At(24 & ~t)) ? Ut(10, t) : e;
        case 10:
          return 0 === (e = At(192 & ~t)) ? Ut(8, t) : e;
        case 8:
          return 0 === (e = At(3584 & ~t)) && (0 === (e = At(4186112 & ~t)) && (e = 512)),
            e;
        case 2:
          return 0 === (t = At(805306368 & ~t)) && (t = 268435456),
            t
      }
      throw Error(o(358, e))
    }
    function At(e) {
      return e & -e
    }
    function Wt(e) {
      for (var t = [], n = 0; 31 > n; n++)
        t.push(e);
      return t
    }
    function Vt(e, t, n) {
      e.pendingLanes |= t;
      var r = t - 1;
      e.suspendedLanes &= r,
        e.pingedLanes &= r,
        (e = e.eventTimes)[t = 31 - Bt(t)] = n
    }
    var Bt = Math.clz32 ? Math.clz32 : function (e) {
      return 0 === e ? 32 : 31 - (Qt(e) / $t | 0) | 0
    }
      , Qt = Math.log
      , $t = Math.LN2;
    var Ht = a.unstable_UserBlockingPriority
      , qt = a.unstable_runWithPriority
      , Kt = !0;
    function Yt(e, t, n, r) {
      Ie || Re();
      var l = Gt
        , a = Ie;
      Ie = !0;
      try {
        Me(l, e, t, n, r)
      } finally {
        (Ie = a) || je()
      }
    }
    function Xt(e, t, n, r) {
      qt(Ht, Gt.bind(null, e, t, n, r))
    }
    function Gt(e, t, n, r) {
      var l;
      if (Kt)
        if ((l = 0 == (4 & t)) && 0 < at.length && -1 < dt.indexOf(e))
          e = pt(null, e, t, n, r),
            at.push(e);
        else {
          var a = Jt(e, t, n, r);
          if (null === a)
            l && ht(e, r);
          else {
            if (l) {
              if (-1 < dt.indexOf(e))
                return e = pt(a, e, t, n, r),
                  void at.push(e);
              if (function (e, t, n, r, l) {
                switch (t) {
                  case "focusin":
                    return ot = mt(ot, e, t, n, r, l),
                      !0;
                  case "dragenter":
                    return ut = mt(ut, e, t, n, r, l),
                      !0;
                  case "mouseover":
                    return it = mt(it, e, t, n, r, l),
                      !0;
                  case "pointerover":
                    var a = l.pointerId;
                    return st.set(a, mt(st.get(a) || null, e, t, n, r, l)),
                      !0;
                  case "gotpointercapture":
                    return a = l.pointerId,
                      ct.set(a, mt(ct.get(a) || null, e, t, n, r, l)),
                      !0
                }
                return !1
              }(a, e, t, n, r))
                return;
              ht(e, r)
            }
            Lr(e, t, r, null, n)
          }
        }
    }
    function Jt(e, t, n, r) {
      var l = Ce(r);
      if (null !== (l = Gr(l))) {
        var a = Ye(l);
        if (null === a)
          l = null;
        else {
          var o = a.tag;
          if (13 === o) {
            if (null !== (l = Xe(a)))
              return l;
            l = null
          } else if (3 === o) {
            if (a.stateNode.hydrate)
              return 3 === a.tag ? a.stateNode.containerInfo : null;
            l = null
          } else
            a !== l && (l = null)
        }
      }
      return Lr(e, t, r, l, n),
        null
    }
    var Zt = null
      , en = null
      , tn = null;
    function nn() {
      if (tn)
        return tn;
      var e, t, n = en, r = n.length, l = "value" in Zt ? Zt.value : Zt.textContent, a = l.length;
      for (e = 0; e < r && n[e] === l[e]; e++)
        ;
      var o = r - e;
      for (t = 1; t <= o && n[r - t] === l[a - t]; t++)
        ;
      return tn = l.slice(e, 1 < t ? 1 - t : void 0)
    }
    function rn(e) {
      var t = e.keyCode;
      return "charCode" in e ? 0 === (e = e.charCode) && 13 === t && (e = 13) : e = t,
        10 === e && (e = 13),
        32 <= e || 13 === e ? e : 0
    }
    function ln() {
      return !0
    }
    function an() {
      return !1
    }
    function on(e) {
      function t(t, n, r, l, a) {
        for (var o in this._reactName = t,
          this._targetInst = r,
          this.type = n,
          this.nativeEvent = l,
          this.target = a,
          this.currentTarget = null,
          e)
          e.hasOwnProperty(o) && (t = e[o],
            this[o] = t ? t(l) : l[o]);
        return this.isDefaultPrevented = (null != l.defaultPrevented ? l.defaultPrevented : !1 === l.returnValue) ? ln : an,
          this.isPropagationStopped = an,
          this
      }
      return l(t.prototype, {
        preventDefault: function () {
          this.defaultPrevented = !0;
          var e = this.nativeEvent;
          e && (e.preventDefault ? e.preventDefault() : "unknown" != typeof e.returnValue && (e.returnValue = !1),
            this.isDefaultPrevented = ln)
        },
        stopPropagation: function () {
          var e = this.nativeEvent;
          e && (e.stopPropagation ? e.stopPropagation() : "unknown" != typeof e.cancelBubble && (e.cancelBubble = !0),
            this.isPropagationStopped = ln)
        },
        persist: function () { },
        isPersistent: ln
      }),
        t
    }
    var un, sn, cn, fn = {
      eventPhase: 0,
      bubbles: 0,
      cancelable: 0,
      timeStamp: function (e) {
        return e.timeStamp || Date.now()
      },
      defaultPrevented: 0,
      isTrusted: 0
    }, dn = on(fn), pn = l({}, fn, {
      view: 0,
      detail: 0
    }), hn = on(pn), mn = l({}, pn, {
      screenX: 0,
      screenY: 0,
      clientX: 0,
      clientY: 0,
      pageX: 0,
      pageY: 0,
      ctrlKey: 0,
      shiftKey: 0,
      altKey: 0,
      metaKey: 0,
      getModifierState: xn,
      button: 0,
      buttons: 0,
      relatedTarget: function (e) {
        return void 0 === e.relatedTarget ? e.fromElement === e.srcElement ? e.toElement : e.fromElement : e.relatedTarget
      },
      movementX: function (e) {
        return "movementX" in e ? e.movementX : (e !== cn && (cn && "mousemove" === e.type ? (un = e.screenX - cn.screenX,
          sn = e.screenY - cn.screenY) : sn = un = 0,
          cn = e),
          un)
      },
      movementY: function (e) {
        return "movementY" in e ? e.movementY : sn
      }
    }), gn = on(mn), vn = on(l({}, mn, {
      dataTransfer: 0
    })), yn = on(l({}, pn, {
      relatedTarget: 0
    })), bn = on(l({}, fn, {
      animationName: 0,
      elapsedTime: 0,
      pseudoElement: 0
    })), wn = on(l({}, fn, {
      clipboardData: function (e) {
        return "clipboardData" in e ? e.clipboardData : window.clipboardData
      }
    })), kn = on(l({}, fn, {
      data: 0
    })), En = {
      Esc: "Escape",
      Spacebar: " ",
      Left: "ArrowLeft",
      Up: "ArrowUp",
      Right: "ArrowRight",
      Down: "ArrowDown",
      Del: "Delete",
      Win: "OS",
      Menu: "ContextMenu",
      Apps: "ContextMenu",
      Scroll: "ScrollLock",
      MozPrintableKey: "Unidentified"
    }, Sn = {
      8: "Backspace",
      9: "Tab",
      12: "Clear",
      13: "Enter",
      16: "Shift",
      17: "Control",
      18: "Alt",
      19: "Pause",
      20: "CapsLock",
      27: "Escape",
      32: " ",
      33: "PageUp",
      34: "PageDown",
      35: "End",
      36: "Home",
      37: "ArrowLeft",
      38: "ArrowUp",
      39: "ArrowRight",
      40: "ArrowDown",
      45: "Insert",
      46: "Delete",
      112: "F1",
      113: "F2",
      114: "F3",
      115: "F4",
      116: "F5",
      117: "F6",
      118: "F7",
      119: "F8",
      120: "F9",
      121: "F10",
      122: "F11",
      123: "F12",
      144: "NumLock",
      145: "ScrollLock",
      224: "Meta"
    }, _n = {
      Alt: "altKey",
      Control: "ctrlKey",
      Meta: "metaKey",
      Shift: "shiftKey"
    };
    function Cn(e) {
      var t = this.nativeEvent;
      return t.getModifierState ? t.getModifierState(e) : !!(e = _n[e]) && !!t[e]
    }
    function xn() {
      return Cn
    }
    var Pn = on(l({}, pn, {
      key: function (e) {
        if (e.key) {
          var t = En[e.key] || e.key;
          if ("Unidentified" !== t)
            return t
        }
        return "keypress" === e.type ? 13 === (e = rn(e)) ? "Enter" : String.fromCharCode(e) : "keydown" === e.type || "keyup" === e.type ? Sn[e.keyCode] || "Unidentified" : ""
      },
      code: 0,
      location: 0,
      ctrlKey: 0,
      shiftKey: 0,
      altKey: 0,
      metaKey: 0,
      repeat: 0,
      locale: 0,
      getModifierState: xn,
      charCode: function (e) {
        return "keypress" === e.type ? rn(e) : 0
      },
      keyCode: function (e) {
        return "keydown" === e.type || "keyup" === e.type ? e.keyCode : 0
      },
      which: function (e) {
        return "keypress" === e.type ? rn(e) : "keydown" === e.type || "keyup" === e.type ? e.keyCode : 0
      }
    }))
      , Nn = on(l({}, mn, {
        pointerId: 0,
        width: 0,
        height: 0,
        pressure: 0,
        tangentialPressure: 0,
        tiltX: 0,
        tiltY: 0,
        twist: 0,
        pointerType: 0,
        isPrimary: 0
      }))
      , Tn = on(l({}, pn, {
        touches: 0,
        targetTouches: 0,
        changedTouches: 0,
        altKey: 0,
        metaKey: 0,
        ctrlKey: 0,
        shiftKey: 0,
        getModifierState: xn
      }))
      , Ln = on(l({}, fn, {
        propertyName: 0,
        elapsedTime: 0,
        pseudoElement: 0
      }))
      , zn = on(l({}, mn, {
        deltaX: function (e) {
          return "deltaX" in e ? e.deltaX : "wheelDeltaX" in e ? -e.wheelDeltaX : 0
        },
        deltaY: function (e) {
          return "deltaY" in e ? e.deltaY : "wheelDeltaY" in e ? -e.wheelDeltaY : "wheelDelta" in e ? -e.wheelDelta : 0
        },
        deltaZ: 0,
        deltaMode: 0
      }))
      , On = [9, 13, 27, 32]
      , Mn = f && "CompositionEvent" in window
      , Rn = null;
    f && "documentMode" in document && (Rn = document.documentMode);
    var Dn = f && "TextEvent" in window && !Rn
      , In = f && (!Mn || Rn && 8 < Rn && 11 >= Rn)
      , Fn = String.fromCharCode(32)
      , jn = !1;
    function Un(e, t) {
      switch (e) {
        case "keyup":
          return -1 !== On.indexOf(t.keyCode);
        case "keydown":
          return 229 !== t.keyCode;
        case "keypress":
        case "mousedown":
        case "focusout":
          return !0;
        default:
          return !1
      }
    }
    function An(e) {
      return "object" == typeof (e = e.detail) && "data" in e ? e.data : null
    }
    var Wn = !1;
    var Vn = {
      color: !0,
      date: !0,
      datetime: !0,
      "datetime-local": !0,
      email: !0,
      month: !0,
      number: !0,
      password: !0,
      range: !0,
      search: !0,
      tel: !0,
      text: !0,
      time: !0,
      url: !0,
      week: !0
    };
    function Bn(e) {
      var t = e && e.nodeName && e.nodeName.toLowerCase();
      return "input" === t ? !!Vn[e.type] : "textarea" === t
    }
    function Qn(e, t, n, r) {
      Le(r),
        0 < (t = Or(t, "onChange")).length && (n = new dn("onChange", "change", null, n, r),
          e.push({
            event: n,
            listeners: t
          }))
    }
    var $n = null
      , Hn = null;
    function qn(e) {
      _r(e, 0)
    }
    function Kn(e) {
      if (G(Zr(e)))
        return e
    }
    function Yn(e, t) {
      if ("change" === e)
        return t
    }
    var Xn = !1;
    if (f) {
      var Gn;
      if (f) {
        var Jn = "oninput" in document;
        if (!Jn) {
          var Zn = document.createElement("div");
          Zn.setAttribute("oninput", "return;"),
            Jn = "function" == typeof Zn.oninput
        }
        Gn = Jn
      } else
        Gn = !1;
      Xn = Gn && (!document.documentMode || 9 < document.documentMode)
    }
    function er() {
      $n && ($n.detachEvent("onpropertychange", tr),
        Hn = $n = null)
    }
    function tr(e) {
      if ("value" === e.propertyName && Kn(Hn)) {
        var t = [];
        if (Qn(t, Hn, e, Ce(e)),
          e = qn,
          Ie)
          e(t);
        else {
          Ie = !0;
          try {
            Oe(e, t)
          } finally {
            Ie = !1,
              je()
          }
        }
      }
    }
    function nr(e, t, n) {
      "focusin" === e ? (er(),
        Hn = n,
        ($n = t).attachEvent("onpropertychange", tr)) : "focusout" === e && er()
    }
    function rr(e) {
      if ("selectionchange" === e || "keyup" === e || "keydown" === e)
        return Kn(Hn)
    }
    function lr(e, t) {
      if ("click" === e)
        return Kn(t)
    }
    function ar(e, t) {
      if ("input" === e || "change" === e)
        return Kn(t)
    }
    var or = "function" == typeof Object.is ? Object.is : function (e, t) {
      return e === t && (0 !== e || 1 / e == 1 / t) || e != e && t != t
    }
      , ur = Object.prototype.hasOwnProperty;
    function ir(e, t) {
      if (or(e, t))
        return !0;
      if ("object" != typeof e || null === e || "object" != typeof t || null === t)
        return !1;
      var n = Object.keys(e)
        , r = Object.keys(t);
      if (n.length !== r.length)
        return !1;
      for (r = 0; r < n.length; r++)
        if (!ur.call(t, n[r]) || !or(e[n[r]], t[n[r]]))
          return !1;
      return !0
    }
    function sr(e) {
      for (; e && e.firstChild;)
        e = e.firstChild;
      return e
    }
    function cr(e, t) {
      var n, r = sr(e);
      for (e = 0; r;) {
        if (3 === r.nodeType) {
          if (n = e + r.textContent.length,
            e <= t && n >= t)
            return {
              node: r,
              offset: t - e
            };
          e = n
        }
        e: {
          for (; r;) {
            if (r.nextSibling) {
              r = r.nextSibling;
              break e
            }
            r = r.parentNode
          }
          r = void 0
        }
        r = sr(r)
      }
    }
    function fr() {
      for (var e = window, t = J(); t instanceof e.HTMLIFrameElement;) {
        try {
          var n = "string" == typeof t.contentWindow.location.href
        } catch (e) {
          n = !1
        }
        if (!n)
          break;
        t = J((e = t.contentWindow).document)
      }
      return t
    }
    function dr(e) {
      var t = e && e.nodeName && e.nodeName.toLowerCase();
      return t && ("input" === t && ("text" === e.type || "search" === e.type || "tel" === e.type || "url" === e.type || "password" === e.type) || "textarea" === t || "true" === e.contentEditable)
    }
    var pr = f && "documentMode" in document && 11 >= document.documentMode
      , hr = null
      , mr = null
      , gr = null
      , vr = !1;
    function yr(e, t, n) {
      var r = n.window === n ? n.document : 9 === n.nodeType ? n : n.ownerDocument;
      vr || null == hr || hr !== J(r) || ("selectionStart" in (r = hr) && dr(r) ? r = {
        start: r.selectionStart,
        end: r.selectionEnd
      } : r = {
        anchorNode: (r = (r.ownerDocument && r.ownerDocument.defaultView || window).getSelection()).anchorNode,
        anchorOffset: r.anchorOffset,
        focusNode: r.focusNode,
        focusOffset: r.focusOffset
      },
        gr && ir(gr, r) || (gr = r,
          0 < (r = Or(mr, "onSelect")).length && (t = new dn("onSelect", "select", null, t, n),
            e.push({
              event: t,
              listeners: r
            }),
            t.target = hr)))
    }
    Rt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "), 0),
      Rt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "), 1),
      Rt(Mt, 2);
    for (var br = "change selectionchange textInput compositionstart compositionend compositionupdate".split(" "), wr = 0; wr < br.length; wr++)
      Ot.set(br[wr], 0);
    c("onMouseEnter", ["mouseout", "mouseover"]),
      c("onMouseLeave", ["mouseout", "mouseover"]),
      c("onPointerEnter", ["pointerout", "pointerover"]),
      c("onPointerLeave", ["pointerout", "pointerover"]),
      s("onChange", "change click focusin focusout input keydown keyup selectionchange".split(" ")),
      s("onSelect", "focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),
      s("onBeforeInput", ["compositionend", "keypress", "textInput", "paste"]),
      s("onCompositionEnd", "compositionend focusout keydown keypress keyup mousedown".split(" ")),
      s("onCompositionStart", "compositionstart focusout keydown keypress keyup mousedown".split(" ")),
      s("onCompositionUpdate", "compositionupdate focusout keydown keypress keyup mousedown".split(" "));
    var kr = "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" ")
      , Er = new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));
    function Sr(e, t, n) {
      var r = e.type || "unknown-event";
      e.currentTarget = n,
        function (e, t, n, r, l, a, u, i, s) {
          if (Ke.apply(this, arguments),
            Be) {
            if (!Be)
              throw Error(o(198));
            var c = Qe;
            Be = !1,
              Qe = null,
              $e || ($e = !0,
                He = c)
          }
        }(r, t, void 0, e),
        e.currentTarget = null
    }
    function _r(e, t) {
      t = 0 != (4 & t);
      for (var n = 0; n < e.length; n++) {
        var r = e[n]
          , l = r.event;
        r = r.listeners;
        e: {
          var a = void 0;
          if (t)
            for (var o = r.length - 1; 0 <= o; o--) {
              var u = r[o]
                , i = u.instance
                , s = u.currentTarget;
              if (u = u.listener,
                i !== a && l.isPropagationStopped())
                break e;
              Sr(l, u, s),
                a = i
            }
          else
            for (o = 0; o < r.length; o++) {
              if (i = (u = r[o]).instance,
                s = u.currentTarget,
                u = u.listener,
                i !== a && l.isPropagationStopped())
                break e;
              Sr(l, u, s),
                a = i
            }
        }
      }
      if ($e)
        throw e = He,
        $e = !1,
        He = null,
        e
    }
    function Cr(e, t) {
      var n = tl(t)
        , r = e + "__bubble";
      n.has(r) || (Tr(t, e, 2, !1),
        n.add(r))
    }
    var xr = "_reactListening" + Math.random().toString(36).slice(2);
    function Pr(e) {
      e[xr] || (e[xr] = !0,
        u.forEach((function (t) {
          Er.has(t) || Nr(t, !1, e, null),
            Nr(t, !0, e, null)
        }
        )))
    }
    function Nr(e, t, n, r) {
      var l = 4 < arguments.length && void 0 !== arguments[4] ? arguments[4] : 0
        , a = n;
      if ("selectionchange" === e && 9 !== n.nodeType && (a = n.ownerDocument),
        null !== r && !t && Er.has(e)) {
        if ("scroll" !== e)
          return;
        l |= 2,
          a = r
      }
      var o = tl(a)
        , u = e + "__" + (t ? "capture" : "bubble");
      o.has(u) || (t && (l |= 4),
        Tr(a, e, l, t),
        o.add(u))
    }
    function Tr(e, t, n, r) {
      var l = Ot.get(t);
      switch (void 0 === l ? 2 : l) {
        case 0:
          l = Yt;
          break;
        case 1:
          l = Xt;
          break;
        default:
          l = Gt
      }
      n = l.bind(null, t, n, e),
        l = void 0,
        !Ae || "touchstart" !== t && "touchmove" !== t && "wheel" !== t || (l = !0),
        r ? void 0 !== l ? e.addEventListener(t, n, {
          capture: !0,
          passive: l
        }) : e.addEventListener(t, n, !0) : void 0 !== l ? e.addEventListener(t, n, {
          passive: l
        }) : e.addEventListener(t, n, !1)
    }
    function Lr(e, t, n, r, l) {
      var a = r;
      if (0 == (1 & t) && 0 == (2 & t) && null !== r)
        e: for (; ;) {
          if (null === r)
            return;
          var o = r.tag;
          if (3 === o || 4 === o) {
            var u = r.stateNode.containerInfo;
            if (u === l || 8 === u.nodeType && u.parentNode === l)
              break;
            if (4 === o)
              for (o = r.return; null !== o;) {
                var i = o.tag;
                if ((3 === i || 4 === i) && ((i = o.stateNode.containerInfo) === l || 8 === i.nodeType && i.parentNode === l))
                  return;
                o = o.return
              }
            for (; null !== u;) {
              if (null === (o = Gr(u)))
                return;
              if (5 === (i = o.tag) || 6 === i) {
                r = a = o;
                continue e
              }
              u = u.parentNode
            }
          }
          r = r.return
        }
      !function (e, t, n) {
        if (Fe)
          return e(t, n);
        Fe = !0;
        try {
          De(e, t, n)
        } finally {
          Fe = !1,
            je()
        }
      }((function () {
        var r = a
          , l = Ce(n)
          , o = [];
        e: {
          var u = zt.get(e);
          if (void 0 !== u) {
            var i = dn
              , s = e;
            switch (e) {
              case "keypress":
                if (0 === rn(n))
                  break e;
              case "keydown":
              case "keyup":
                i = Pn;
                break;
              case "focusin":
                s = "focus",
                  i = yn;
                break;
              case "focusout":
                s = "blur",
                  i = yn;
                break;
              case "beforeblur":
              case "afterblur":
                i = yn;
                break;
              case "click":
                if (2 === n.button)
                  break e;
              case "auxclick":
              case "dblclick":
              case "mousedown":
              case "mousemove":
              case "mouseup":
              case "mouseout":
              case "mouseover":
              case "contextmenu":
                i = gn;
                break;
              case "drag":
              case "dragend":
              case "dragenter":
              case "dragexit":
              case "dragleave":
              case "dragover":
              case "dragstart":
              case "drop":
                i = vn;
                break;
              case "touchcancel":
              case "touchend":
              case "touchmove":
              case "touchstart":
                i = Tn;
                break;
              case Pt:
              case Nt:
              case Tt:
                i = bn;
                break;
              case Lt:
                i = Ln;
                break;
              case "scroll":
                i = hn;
                break;
              case "wheel":
                i = zn;
                break;
              case "copy":
              case "cut":
              case "paste":
                i = wn;
                break;
              case "gotpointercapture":
              case "lostpointercapture":
              case "pointercancel":
              case "pointerdown":
              case "pointermove":
              case "pointerout":
              case "pointerover":
              case "pointerup":
                i = Nn
            }
            var c = 0 != (4 & t)
              , f = !c && "scroll" === e
              , d = c ? null !== u ? u + "Capture" : null : u;
            c = [];
            for (var p, h = r; null !== h;) {
              var m = (p = h).stateNode;
              if (5 === p.tag && null !== m && (p = m,
                null !== d && (null != (m = Ue(h, d)) && c.push(zr(h, m, p)))),
                f)
                break;
              h = h.return
            }
            0 < c.length && (u = new i(u, s, null, n, l),
              o.push({
                event: u,
                listeners: c
              }))
          }
        }
        if (0 == (7 & t)) {
          if (i = "mouseout" === e || "pointerout" === e,
            (!(u = "mouseover" === e || "pointerover" === e) || 0 != (16 & t) || !(s = n.relatedTarget || n.fromElement) || !Gr(s) && !s[Yr]) && (i || u) && (u = l.window === l ? l : (u = l.ownerDocument) ? u.defaultView || u.parentWindow : window,
              i ? (i = r,
                null !== (s = (s = n.relatedTarget || n.toElement) ? Gr(s) : null) && (s !== (f = Ye(s)) || 5 !== s.tag && 6 !== s.tag) && (s = null)) : (i = null,
                  s = r),
              i !== s)) {
            if (c = gn,
              m = "onMouseLeave",
              d = "onMouseEnter",
              h = "mouse",
              "pointerout" !== e && "pointerover" !== e || (c = Nn,
                m = "onPointerLeave",
                d = "onPointerEnter",
                h = "pointer"),
              f = null == i ? u : Zr(i),
              p = null == s ? u : Zr(s),
              (u = new c(m, h + "leave", i, n, l)).target = f,
              u.relatedTarget = p,
              m = null,
              Gr(l) === r && ((c = new c(d, h + "enter", s, n, l)).target = p,
                c.relatedTarget = f,
                m = c),
              f = m,
              i && s)
              e: {
                for (d = s,
                  h = 0,
                  p = c = i; p; p = Mr(p))
                  h++;
                for (p = 0,
                  m = d; m; m = Mr(m))
                  p++;
                for (; 0 < h - p;)
                  c = Mr(c),
                    h--;
                for (; 0 < p - h;)
                  d = Mr(d),
                    p--;
                for (; h--;) {
                  if (c === d || null !== d && c === d.alternate)
                    break e;
                  c = Mr(c),
                    d = Mr(d)
                }
                c = null
              }
            else
              c = null;
            null !== i && Rr(o, u, i, c, !1),
              null !== s && null !== f && Rr(o, f, s, c, !0)
          }
          if ("select" === (i = (u = r ? Zr(r) : window).nodeName && u.nodeName.toLowerCase()) || "input" === i && "file" === u.type)
            var g = Yn;
          else if (Bn(u))
            if (Xn)
              g = ar;
            else {
              g = rr;
              var v = nr
            }
          else
            (i = u.nodeName) && "input" === i.toLowerCase() && ("checkbox" === u.type || "radio" === u.type) && (g = lr);
          switch (g && (g = g(e, r)) ? Qn(o, g, n, l) : (v && v(e, u, r),
            "focusout" === e && (v = u._wrapperState) && v.controlled && "number" === u.type && le(u, "number", u.value)),
          v = r ? Zr(r) : window,
          e) {
            case "focusin":
              (Bn(v) || "true" === v.contentEditable) && (hr = v,
                mr = r,
                gr = null);
              break;
            case "focusout":
              gr = mr = hr = null;
              break;
            case "mousedown":
              vr = !0;
              break;
            case "contextmenu":
            case "mouseup":
            case "dragend":
              vr = !1,
                yr(o, n, l);
              break;
            case "selectionchange":
              if (pr)
                break;
            case "keydown":
            case "keyup":
              yr(o, n, l)
          }
          var y;
          if (Mn)
            e: {
              switch (e) {
                case "compositionstart":
                  var b = "onCompositionStart";
                  break e;
                case "compositionend":
                  b = "onCompositionEnd";
                  break e;
                case "compositionupdate":
                  b = "onCompositionUpdate";
                  break e
              }
              b = void 0
            }
          else
            Wn ? Un(e, n) && (b = "onCompositionEnd") : "keydown" === e && 229 === n.keyCode && (b = "onCompositionStart");
          b && (In && "ko" !== n.locale && (Wn || "onCompositionStart" !== b ? "onCompositionEnd" === b && Wn && (y = nn()) : (en = "value" in (Zt = l) ? Zt.value : Zt.textContent,
            Wn = !0)),
            0 < (v = Or(r, b)).length && (b = new kn(b, e, null, n, l),
              o.push({
                event: b,
                listeners: v
              }),
              y ? b.data = y : null !== (y = An(n)) && (b.data = y))),
            (y = Dn ? function (e, t) {
              switch (e) {
                case "compositionend":
                  return An(t);
                case "keypress":
                  return 32 !== t.which ? null : (jn = !0,
                    Fn);
                case "textInput":
                  return (e = t.data) === Fn && jn ? null : e;
                default:
                  return null
              }
            }(e, n) : function (e, t) {
              if (Wn)
                return "compositionend" === e || !Mn && Un(e, t) ? (e = nn(),
                  tn = en = Zt = null,
                  Wn = !1,
                  e) : null;
              switch (e) {
                case "paste":
                  return null;
                case "keypress":
                  if (!(t.ctrlKey || t.altKey || t.metaKey) || t.ctrlKey && t.altKey) {
                    if (t.char && 1 < t.char.length)
                      return t.char;
                    if (t.which)
                      return String.fromCharCode(t.which)
                  }
                  return null;
                case "compositionend":
                  return In && "ko" !== t.locale ? null : t.data;
                default:
                  return null
              }
            }(e, n)) && (0 < (r = Or(r, "onBeforeInput")).length && (l = new kn("onBeforeInput", "beforeinput", null, n, l),
              o.push({
                event: l,
                listeners: r
              }),
              l.data = y))
        }
        _r(o, t)
      }
      ))
    }
    function zr(e, t, n) {
      return {
        instance: e,
        listener: t,
        currentTarget: n
      }
    }
    function Or(e, t) {
      for (var n = t + "Capture", r = []; null !== e;) {
        var l = e
          , a = l.stateNode;
        5 === l.tag && null !== a && (l = a,
          null != (a = Ue(e, n)) && r.unshift(zr(e, a, l)),
          null != (a = Ue(e, t)) && r.push(zr(e, a, l))),
          e = e.return
      }
      return r
    }
    function Mr(e) {
      if (null === e)
        return null;
      do {
        e = e.return
      } while (e && 5 !== e.tag);
      return e || null
    }
    function Rr(e, t, n, r, l) {
      for (var a = t._reactName, o = []; null !== n && n !== r;) {
        var u = n
          , i = u.alternate
          , s = u.stateNode;
        if (null !== i && i === r)
          break;
        5 === u.tag && null !== s && (u = s,
          l ? null != (i = Ue(n, a)) && o.unshift(zr(n, i, u)) : l || null != (i = Ue(n, a)) && o.push(zr(n, i, u))),
          n = n.return
      }
      0 !== o.length && e.push({
        event: t,
        listeners: o
      })
    }
    function Dr() { }
    var Ir = null
      , Fr = null;
    function jr(e, t) {
      switch (e) {
        case "button":
        case "input":
        case "select":
        case "textarea":
          return !!t.autoFocus
      }
      return !1
    }
    function Ur(e, t) {
      return "textarea" === e || "option" === e || "noscript" === e || "string" == typeof t.children || "number" == typeof t.children || "object" == typeof t.dangerouslySetInnerHTML && null !== t.dangerouslySetInnerHTML && null != t.dangerouslySetInnerHTML.__html
    }
    var Ar = "function" == typeof setTimeout ? setTimeout : void 0
      , Wr = "function" == typeof clearTimeout ? clearTimeout : void 0;
    function Vr(e) {
      1 === e.nodeType ? e.textContent = "" : 9 === e.nodeType && (null != (e = e.body) && (e.textContent = ""))
    }
    function Br(e) {
      for (; null != e; e = e.nextSibling) {
        var t = e.nodeType;
        if (1 === t || 3 === t)
          break
      }
      return e
    }
    function Qr(e) {
      e = e.previousSibling;
      for (var t = 0; e;) {
        if (8 === e.nodeType) {
          var n = e.data;
          if ("$" === n || "$!" === n || "$?" === n) {
            if (0 === t)
              return e;
            t--
          } else
            "/$" === n && t++
        }
        e = e.previousSibling
      }
      return null
    }
    var $r = 0;
    var Hr = Math.random().toString(36).slice(2)
      , qr = "__reactFiber$" + Hr
      , Kr = "__reactProps$" + Hr
      , Yr = "__reactContainer$" + Hr
      , Xr = "__reactEvents$" + Hr;
    function Gr(e) {
      var t = e[qr];
      if (t)
        return t;
      for (var n = e.parentNode; n;) {
        if (t = n[Yr] || n[qr]) {
          if (n = t.alternate,
            null !== t.child || null !== n && null !== n.child)
            for (e = Qr(e); null !== e;) {
              if (n = e[qr])
                return n;
              e = Qr(e)
            }
          return t
        }
        n = (e = n).parentNode
      }
      return null
    }
    function Jr(e) {
      return !(e = e[qr] || e[Yr]) || 5 !== e.tag && 6 !== e.tag && 13 !== e.tag && 3 !== e.tag ? null : e
    }
    function Zr(e) {
      if (5 === e.tag || 6 === e.tag)
        return e.stateNode;
      throw Error(o(33))
    }
    function el(e) {
      return e[Kr] || null
    }
    function tl(e) {
      var t = e[Xr];
      return void 0 === t && (t = e[Xr] = new Set),
        t
    }
    var nl = []
      , rl = -1;
    function ll(e) {
      return {
        current: e
      }
    }
    function al(e) {
      0 > rl || (e.current = nl[rl],
        nl[rl] = null,
        rl--)
    }
    function ol(e, t) {
      rl++,
        nl[rl] = e.current,
        e.current = t
    }
    var ul = {}
      , il = ll(ul)
      , sl = ll(!1)
      , cl = ul;
    function fl(e, t) {
      var n = e.type.contextTypes;
      if (!n)
        return ul;
      var r = e.stateNode;
      if (r && r.__reactInternalMemoizedUnmaskedChildContext === t)
        return r.__reactInternalMemoizedMaskedChildContext;
      var l, a = {};
      for (l in n)
        a[l] = t[l];
      return r && ((e = e.stateNode).__reactInternalMemoizedUnmaskedChildContext = t,
        e.__reactInternalMemoizedMaskedChildContext = a),
        a
    }
    function dl(e) {
      return null != (e = e.childContextTypes)
    }
    function pl() {
      al(sl),
        al(il)
    }
    function hl(e, t, n) {
      if (il.current !== ul)
        throw Error(o(168));
      ol(il, t),
        ol(sl, n)
    }
    function ml(e, t, n) {
      var r = e.stateNode;
      if (e = t.childContextTypes,
        "function" != typeof r.getChildContext)
        return n;
      for (var a in r = r.getChildContext())
        if (!(a in e))
          throw Error(o(108, q(t) || "Unknown", a));
      return l({}, n, r)
    }
    function gl(e) {
      return e = (e = e.stateNode) && e.__reactInternalMemoizedMergedChildContext || ul,
        cl = il.current,
        ol(il, e),
        ol(sl, sl.current),
        !0
    }
    function vl(e, t, n) {
      var r = e.stateNode;
      if (!r)
        throw Error(o(169));
      n ? (e = ml(e, t, cl),
        r.__reactInternalMemoizedMergedChildContext = e,
        al(sl),
        al(il),
        ol(il, e)) : al(sl),
        ol(sl, n)
    }
    var yl = null
      , bl = null
      , wl = a.unstable_runWithPriority
      , kl = a.unstable_scheduleCallback
      , El = a.unstable_cancelCallback
      , Sl = a.unstable_shouldYield
      , _l = a.unstable_requestPaint
      , Cl = a.unstable_now
      , xl = a.unstable_getCurrentPriorityLevel
      , Pl = a.unstable_ImmediatePriority
      , Nl = a.unstable_UserBlockingPriority
      , Tl = a.unstable_NormalPriority
      , Ll = a.unstable_LowPriority
      , zl = a.unstable_IdlePriority
      , Ol = {}
      , Ml = void 0 !== _l ? _l : function () { }
      , Rl = null
      , Dl = null
      , Il = !1
      , Fl = Cl()
      , jl = 1e4 > Fl ? Cl : function () {
        return Cl() - Fl
      }
      ;
    function Ul() {
      switch (xl()) {
        case Pl:
          return 99;
        case Nl:
          return 98;
        case Tl:
          return 97;
        case Ll:
          return 96;
        case zl:
          return 95;
        default:
          throw Error(o(332))
      }
    }
    function Al(e) {
      switch (e) {
        case 99:
          return Pl;
        case 98:
          return Nl;
        case 97:
          return Tl;
        case 96:
          return Ll;
        case 95:
          return zl;
        default:
          throw Error(o(332))
      }
    }
    function Wl(e, t) {
      return e = Al(e),
        wl(e, t)
    }
    function Vl(e, t, n) {
      return e = Al(e),
        kl(e, t, n)
    }
    function Bl() {
      if (null !== Dl) {
        var e = Dl;
        Dl = null,
          El(e)
      }
      Ql()
    }
    function Ql() {
      if (!Il && null !== Rl) {
        Il = !0;
        var e = 0;
        try {
          var t = Rl;
          Wl(99, (function () {
            for (; e < t.length; e++) {
              var n = t[e];
              do {
                n = n(!0)
              } while (null !== n)
            }
          }
          )),
            Rl = null
        } catch (t) {
          throw null !== Rl && (Rl = Rl.slice(e + 1)),
          kl(Pl, Bl),
          t
        } finally {
          Il = !1
        }
      }
    }
    var $l = k.ReactCurrentBatchConfig;
    function Hl(e, t) {
      if (e && e.defaultProps) {
        for (var n in t = l({}, t),
          e = e.defaultProps)
          void 0 === t[n] && (t[n] = e[n]);
        return t
      }
      return t
    }
    var ql = ll(null)
      , Kl = null
      , Yl = null
      , Xl = null;
    function Gl() {
      Xl = Yl = Kl = null
    }
    function Jl(e) {
      var t = ql.current;
      al(ql),
        e.type._context._currentValue = t
    }
    function Zl(e, t) {
      for (; null !== e;) {
        var n = e.alternate;
        if ((e.childLanes & t) === t) {
          if (null === n || (n.childLanes & t) === t)
            break;
          n.childLanes |= t
        } else
          e.childLanes |= t,
            null !== n && (n.childLanes |= t);
        e = e.return
      }
    }
    function ea(e, t) {
      Kl = e,
        Xl = Yl = null,
        null !== (e = e.dependencies) && null !== e.firstContext && (0 != (e.lanes & t) && (Oo = !0),
          e.firstContext = null)
    }
    function ta(e, t) {
      if (Xl !== e && !1 !== t && 0 !== t)
        if ("number" == typeof t && 1073741823 !== t || (Xl = e,
          t = 1073741823),
          t = {
            context: e,
            observedBits: t,
            next: null
          },
          null === Yl) {
          if (null === Kl)
            throw Error(o(308));
          Yl = t,
            Kl.dependencies = {
              lanes: 0,
              firstContext: t,
              responders: null
            }
        } else
          Yl = Yl.next = t;
      return e._currentValue
    }
    var na = !1;
    function ra(e) {
      e.updateQueue = {
        baseState: e.memoizedState,
        firstBaseUpdate: null,
        lastBaseUpdate: null,
        shared: {
          pending: null
        },
        effects: null
      }
    }
    function la(e, t) {
      e = e.updateQueue,
        t.updateQueue === e && (t.updateQueue = {
          baseState: e.baseState,
          firstBaseUpdate: e.firstBaseUpdate,
          lastBaseUpdate: e.lastBaseUpdate,
          shared: e.shared,
          effects: e.effects
        })
    }
    function aa(e, t) {
      return {
        eventTime: e,
        lane: t,
        tag: 0,
        payload: null,
        callback: null,
        next: null
      }
    }
    function oa(e, t) {
      if (null !== (e = e.updateQueue)) {
        var n = (e = e.shared).pending;
        null === n ? t.next = t : (t.next = n.next,
          n.next = t),
          e.pending = t
      }
    }
    function ua(e, t) {
      var n = e.updateQueue
        , r = e.alternate;
      if (null !== r && n === (r = r.updateQueue)) {
        var l = null
          , a = null;
        if (null !== (n = n.firstBaseUpdate)) {
          do {
            var o = {
              eventTime: n.eventTime,
              lane: n.lane,
              tag: n.tag,
              payload: n.payload,
              callback: n.callback,
              next: null
            };
            null === a ? l = a = o : a = a.next = o,
              n = n.next
          } while (null !== n);
          null === a ? l = a = t : a = a.next = t
        } else
          l = a = t;
        return n = {
          baseState: r.baseState,
          firstBaseUpdate: l,
          lastBaseUpdate: a,
          shared: r.shared,
          effects: r.effects
        },
          void (e.updateQueue = n)
      }
      null === (e = n.lastBaseUpdate) ? n.firstBaseUpdate = t : e.next = t,
        n.lastBaseUpdate = t
    }
    function ia(e, t, n, r) {
      var a = e.updateQueue;
      na = !1;
      var o = a.firstBaseUpdate
        , u = a.lastBaseUpdate
        , i = a.shared.pending;
      if (null !== i) {
        a.shared.pending = null;
        var s = i
          , c = s.next;
        s.next = null,
          null === u ? o = c : u.next = c,
          u = s;
        var f = e.alternate;
        if (null !== f) {
          var d = (f = f.updateQueue).lastBaseUpdate;
          d !== u && (null === d ? f.firstBaseUpdate = c : d.next = c,
            f.lastBaseUpdate = s)
        }
      }
      if (null !== o) {
        for (d = a.baseState,
          u = 0,
          f = c = s = null; ;) {
          i = o.lane;
          var p = o.eventTime;
          if ((r & i) === i) {
            null !== f && (f = f.next = {
              eventTime: p,
              lane: 0,
              tag: o.tag,
              payload: o.payload,
              callback: o.callback,
              next: null
            });
            e: {
              var h = e
                , m = o;
              switch (i = t,
              p = n,
              m.tag) {
                case 1:
                  if ("function" == typeof (h = m.payload)) {
                    d = h.call(p, d, i);
                    break e
                  }
                  d = h;
                  break e;
                case 3:
                  h.flags = -4097 & h.flags | 64;
                case 0:
                  if (null == (i = "function" == typeof (h = m.payload) ? h.call(p, d, i) : h))
                    break e;
                  d = l({}, d, i);
                  break e;
                case 2:
                  na = !0
              }
            }
            null !== o.callback && (e.flags |= 32,
              null === (i = a.effects) ? a.effects = [o] : i.push(o))
          } else
            p = {
              eventTime: p,
              lane: i,
              tag: o.tag,
              payload: o.payload,
              callback: o.callback,
              next: null
            },
              null === f ? (c = f = p,
                s = d) : f = f.next = p,
              u |= i;
          if (null === (o = o.next)) {
            if (null === (i = a.shared.pending))
              break;
            o = i.next,
              i.next = null,
              a.lastBaseUpdate = i,
              a.shared.pending = null
          }
        }
        null === f && (s = d),
          a.baseState = s,
          a.firstBaseUpdate = c,
          a.lastBaseUpdate = f,
          Ru |= u,
          e.lanes = u,
          e.memoizedState = d
      }
    }
    function sa(e, t, n) {
      if (e = t.effects,
        t.effects = null,
        null !== e)
        for (t = 0; t < e.length; t++) {
          var r = e[t]
            , l = r.callback;
          if (null !== l) {
            if (r.callback = null,
              r = n,
              "function" != typeof l)
              throw Error(o(191, l));
            l.call(r)
          }
        }
    }
    var ca = (new r.Component).refs;
    function fa(e, t, n, r) {
      n = null == (n = n(r, t = e.memoizedState)) ? t : l({}, t, n),
        e.memoizedState = n,
        0 === e.lanes && (e.updateQueue.baseState = n)
    }
    var da = {
      isMounted: function (e) {
        return !!(e = e._reactInternals) && Ye(e) === e
      },
      enqueueSetState: function (e, t, n) {
        e = e._reactInternals;
        var r = ai()
          , l = oi(e)
          , a = aa(r, l);
        a.payload = t,
          null != n && (a.callback = n),
          oa(e, a),
          ui(e, l, r)
      },
      enqueueReplaceState: function (e, t, n) {
        e = e._reactInternals;
        var r = ai()
          , l = oi(e)
          , a = aa(r, l);
        a.tag = 1,
          a.payload = t,
          null != n && (a.callback = n),
          oa(e, a),
          ui(e, l, r)
      },
      enqueueForceUpdate: function (e, t) {
        e = e._reactInternals;
        var n = ai()
          , r = oi(e)
          , l = aa(n, r);
        l.tag = 2,
          null != t && (l.callback = t),
          oa(e, l),
          ui(e, r, n)
      }
    };
    function pa(e, t, n, r, l, a, o) {
      return "function" == typeof (e = e.stateNode).shouldComponentUpdate ? e.shouldComponentUpdate(r, a, o) : !t.prototype || !t.prototype.isPureReactComponent || (!ir(n, r) || !ir(l, a))
    }
    function ha(e, t, n) {
      var r = !1
        , l = ul
        , a = t.contextType;
      return "object" == typeof a && null !== a ? a = ta(a) : (l = dl(t) ? cl : il.current,
        a = (r = null != (r = t.contextTypes)) ? fl(e, l) : ul),
        t = new t(n, a),
        e.memoizedState = null !== t.state && void 0 !== t.state ? t.state : null,
        t.updater = da,
        e.stateNode = t,
        t._reactInternals = e,
        r && ((e = e.stateNode).__reactInternalMemoizedUnmaskedChildContext = l,
          e.__reactInternalMemoizedMaskedChildContext = a),
        t
    }
    function ma(e, t, n, r) {
      e = t.state,
        "function" == typeof t.componentWillReceiveProps && t.componentWillReceiveProps(n, r),
        "function" == typeof t.UNSAFE_componentWillReceiveProps && t.UNSAFE_componentWillReceiveProps(n, r),
        t.state !== e && da.enqueueReplaceState(t, t.state, null)
    }
    function ga(e, t, n, r) {
      var l = e.stateNode;
      l.props = n,
        l.state = e.memoizedState,
        l.refs = ca,
        ra(e);
      var a = t.contextType;
      "object" == typeof a && null !== a ? l.context = ta(a) : (a = dl(t) ? cl : il.current,
        l.context = fl(e, a)),
        ia(e, n, l, r),
        l.state = e.memoizedState,
        "function" == typeof (a = t.getDerivedStateFromProps) && (fa(e, t, a, n),
          l.state = e.memoizedState),
        "function" == typeof t.getDerivedStateFromProps || "function" == typeof l.getSnapshotBeforeUpdate || "function" != typeof l.UNSAFE_componentWillMount && "function" != typeof l.componentWillMount || (t = l.state,
          "function" == typeof l.componentWillMount && l.componentWillMount(),
          "function" == typeof l.UNSAFE_componentWillMount && l.UNSAFE_componentWillMount(),
          t !== l.state && da.enqueueReplaceState(l, l.state, null),
          ia(e, n, l, r),
          l.state = e.memoizedState),
        "function" == typeof l.componentDidMount && (e.flags |= 4)
    }
    var va = Array.isArray;
    function ya(e, t, n) {
      if (null !== (e = n.ref) && "function" != typeof e && "object" != typeof e) {
        if (n._owner) {
          if (n = n._owner) {
            if (1 !== n.tag)
              throw Error(o(309));
            var r = n.stateNode
          }
          if (!r)
            throw Error(o(147, e));
          var l = "" + e;
          return null !== t && null !== t.ref && "function" == typeof t.ref && t.ref._stringRef === l ? t.ref : ((t = function (e) {
            var t = r.refs;
            t === ca && (t = r.refs = {}),
              null === e ? delete t[l] : t[l] = e
          }
          )._stringRef = l,
            t)
        }
        if ("string" != typeof e)
          throw Error(o(284));
        if (!n._owner)
          throw Error(o(290, e))
      }
      return e
    }
    function ba(e, t) {
      if ("textarea" !== e.type)
        throw Error(o(31, "[object Object]" === Object.prototype.toString.call(t) ? "object with keys {" + Object.keys(t).join(", ") + "}" : t))
    }
    function wa(e) {
      function t(t, n) {
        if (e) {
          var r = t.lastEffect;
          null !== r ? (r.nextEffect = n,
            t.lastEffect = n) : t.firstEffect = t.lastEffect = n,
            n.nextEffect = null,
            n.flags = 8
        }
      }
      function n(n, r) {
        if (!e)
          return null;
        for (; null !== r;)
          t(n, r),
            r = r.sibling;
        return null
      }
      function r(e, t) {
        for (e = new Map; null !== t;)
          null !== t.key ? e.set(t.key, t) : e.set(t.index, t),
            t = t.sibling;
        return e
      }
      function l(e, t) {
        return (e = Ui(e, t)).index = 0,
          e.sibling = null,
          e
      }
      function a(t, n, r) {
        return t.index = r,
          e ? null !== (r = t.alternate) ? (r = r.index) < n ? (t.flags = 2,
            n) : r : (t.flags = 2,
              n) : n
      }
      function u(t) {
        return e && null === t.alternate && (t.flags = 2),
          t
      }
      function i(e, t, n, r) {
        return null === t || 6 !== t.tag ? ((t = Bi(n, e.mode, r)).return = e,
          t) : ((t = l(t, n)).return = e,
            t)
      }
      function s(e, t, n, r) {
        return null !== t && t.elementType === n.type ? ((r = l(t, n.props)).ref = ya(e, t, n),
          r.return = e,
          r) : ((r = Ai(n.type, n.key, n.props, null, e.mode, r)).ref = ya(e, t, n),
            r.return = e,
            r)
      }
      function c(e, t, n, r) {
        return null === t || 4 !== t.tag || t.stateNode.containerInfo !== n.containerInfo || t.stateNode.implementation !== n.implementation ? ((t = Qi(n, e.mode, r)).return = e,
          t) : ((t = l(t, n.children || [])).return = e,
            t)
      }
      function f(e, t, n, r, a) {
        return null === t || 7 !== t.tag ? ((t = Wi(n, e.mode, r, a)).return = e,
          t) : ((t = l(t, n)).return = e,
            t)
      }
      function d(e, t, n) {
        if ("string" == typeof t || "number" == typeof t)
          return (t = Bi("" + t, e.mode, n)).return = e,
            t;
        if ("object" == typeof t && null !== t) {
          switch (t.$$typeof) {
            case E:
              return (n = Ai(t.type, t.key, t.props, null, e.mode, n)).ref = ya(e, null, t),
                n.return = e,
                n;
            case S:
              return (t = Qi(t, e.mode, n)).return = e,
                t
          }
          if (va(t) || V(t))
            return (t = Wi(t, e.mode, n, null)).return = e,
              t;
          ba(e, t)
        }
        return null
      }
      function p(e, t, n, r) {
        var l = null !== t ? t.key : null;
        if ("string" == typeof n || "number" == typeof n)
          return null !== l ? null : i(e, t, "" + n, r);
        if ("object" == typeof n && null !== n) {
          switch (n.$$typeof) {
            case E:
              return n.key === l ? n.type === _ ? f(e, t, n.props.children, r, l) : s(e, t, n, r) : null;
            case S:
              return n.key === l ? c(e, t, n, r) : null
          }
          if (va(n) || V(n))
            return null !== l ? null : f(e, t, n, r, null);
          ba(e, n)
        }
        return null
      }
      function h(e, t, n, r, l) {
        if ("string" == typeof r || "number" == typeof r)
          return i(t, e = e.get(n) || null, "" + r, l);
        if ("object" == typeof r && null !== r) {
          switch (r.$$typeof) {
            case E:
              return e = e.get(null === r.key ? n : r.key) || null,
                r.type === _ ? f(t, e, r.props.children, l, r.key) : s(t, e, r, l);
            case S:
              return c(t, e = e.get(null === r.key ? n : r.key) || null, r, l)
          }
          if (va(r) || V(r))
            return f(t, e = e.get(n) || null, r, l, null);
          ba(t, r)
        }
        return null
      }
      function m(l, o, u, i) {
        for (var s = null, c = null, f = o, m = o = 0, g = null; null !== f && m < u.length; m++) {
          f.index > m ? (g = f,
            f = null) : g = f.sibling;
          var v = p(l, f, u[m], i);
          if (null === v) {
            null === f && (f = g);
            break
          }
          e && f && null === v.alternate && t(l, f),
            o = a(v, o, m),
            null === c ? s = v : c.sibling = v,
            c = v,
            f = g
        }
        if (m === u.length)
          return n(l, f),
            s;
        if (null === f) {
          for (; m < u.length; m++)
            null !== (f = d(l, u[m], i)) && (o = a(f, o, m),
              null === c ? s = f : c.sibling = f,
              c = f);
          return s
        }
        for (f = r(l, f); m < u.length; m++)
          null !== (g = h(f, l, m, u[m], i)) && (e && null !== g.alternate && f.delete(null === g.key ? m : g.key),
            o = a(g, o, m),
            null === c ? s = g : c.sibling = g,
            c = g);
        return e && f.forEach((function (e) {
          return t(l, e)
        }
        )),
          s
      }
      function g(l, u, i, s) {
        var c = V(i);
        if ("function" != typeof c)
          throw Error(o(150));
        if (null == (i = c.call(i)))
          throw Error(o(151));
        for (var f = c = null, m = u, g = u = 0, v = null, y = i.next(); null !== m && !y.done; g++,
          y = i.next()) {
          m.index > g ? (v = m,
            m = null) : v = m.sibling;
          var b = p(l, m, y.value, s);
          if (null === b) {
            null === m && (m = v);
            break
          }
          e && m && null === b.alternate && t(l, m),
            u = a(b, u, g),
            null === f ? c = b : f.sibling = b,
            f = b,
            m = v
        }
        if (y.done)
          return n(l, m),
            c;
        if (null === m) {
          for (; !y.done; g++,
            y = i.next())
            null !== (y = d(l, y.value, s)) && (u = a(y, u, g),
              null === f ? c = y : f.sibling = y,
              f = y);
          return c
        }
        for (m = r(l, m); !y.done; g++,
          y = i.next())
          null !== (y = h(m, l, g, y.value, s)) && (e && null !== y.alternate && m.delete(null === y.key ? g : y.key),
            u = a(y, u, g),
            null === f ? c = y : f.sibling = y,
            f = y);
        return e && m.forEach((function (e) {
          return t(l, e)
        }
        )),
          c
      }
      return function (e, r, a, i) {
        var s = "object" == typeof a && null !== a && a.type === _ && null === a.key;
        s && (a = a.props.children);
        var c = "object" == typeof a && null !== a;
        if (c)
          switch (a.$$typeof) {
            case E:
              e: {
                for (c = a.key,
                  s = r; null !== s;) {
                  if (s.key === c) {
                    switch (s.tag) {
                      case 7:
                        if (a.type === _) {
                          n(e, s.sibling),
                            (r = l(s, a.props.children)).return = e,
                            e = r;
                          break e
                        }
                        break;
                      default:
                        if (s.elementType === a.type) {
                          n(e, s.sibling),
                            (r = l(s, a.props)).ref = ya(e, s, a),
                            r.return = e,
                            e = r;
                          break e
                        }
                    }
                    n(e, s);
                    break
                  }
                  t(e, s),
                    s = s.sibling
                }
                a.type === _ ? ((r = Wi(a.props.children, e.mode, i, a.key)).return = e,
                  e = r) : ((i = Ai(a.type, a.key, a.props, null, e.mode, i)).ref = ya(e, r, a),
                    i.return = e,
                    e = i)
              }
              return u(e);
            case S:
              e: {
                for (s = a.key; null !== r;) {
                  if (r.key === s) {
                    if (4 === r.tag && r.stateNode.containerInfo === a.containerInfo && r.stateNode.implementation === a.implementation) {
                      n(e, r.sibling),
                        (r = l(r, a.children || [])).return = e,
                        e = r;
                      break e
                    }
                    n(e, r);
                    break
                  }
                  t(e, r),
                    r = r.sibling
                }
                (r = Qi(a, e.mode, i)).return = e,
                  e = r
              }
              return u(e)
          }
        if ("string" == typeof a || "number" == typeof a)
          return a = "" + a,
            null !== r && 6 === r.tag ? (n(e, r.sibling),
              (r = l(r, a)).return = e,
              e = r) : (n(e, r),
                (r = Bi(a, e.mode, i)).return = e,
                e = r),
            u(e);
        if (va(a))
          return m(e, r, a, i);
        if (V(a))
          return g(e, r, a, i);
        if (c && ba(e, a),
          void 0 === a && !s)
          switch (e.tag) {
            case 1:
            case 22:
            case 0:
            case 11:
            case 15:
              throw Error(o(152, q(e.type) || "Component"))
          }
        return n(e, r)
      }
    }
    var ka = wa(!0)
      , Ea = wa(!1)
      , Sa = {}
      , _a = ll(Sa)
      , Ca = ll(Sa)
      , xa = ll(Sa);
    function Pa(e) {
      if (e === Sa)
        throw Error(o(174));
      return e
    }
    function Na(e, t) {
      switch (ol(xa, t),
      ol(Ca, e),
      ol(_a, Sa),
      e = t.nodeType) {
        case 9:
        case 11:
          t = (t = t.documentElement) ? t.namespaceURI : he(null, "");
          break;
        default:
          t = he(t = (e = 8 === e ? t.parentNode : t).namespaceURI || null, e = e.tagName)
      }
      al(_a),
        ol(_a, t)
    }
    function Ta() {
      al(_a),
        al(Ca),
        al(xa)
    }
    function La(e) {
      Pa(xa.current);
      var t = Pa(_a.current)
        , n = he(t, e.type);
      t !== n && (ol(Ca, e),
        ol(_a, n))
    }
    function za(e) {
      Ca.current === e && (al(_a),
        al(Ca))
    }
    var Oa = ll(0);
    function Ma(e) {
      for (var t = e; null !== t;) {
        if (13 === t.tag) {
          var n = t.memoizedState;
          if (null !== n && (null === (n = n.dehydrated) || "$?" === n.data || "$!" === n.data))
            return t
        } else if (19 === t.tag && void 0 !== t.memoizedProps.revealOrder) {
          if (0 != (64 & t.flags))
            return t
        } else if (null !== t.child) {
          t.child.return = t,
            t = t.child;
          continue
        }
        if (t === e)
          break;
        for (; null === t.sibling;) {
          if (null === t.return || t.return === e)
            return null;
          t = t.return
        }
        t.sibling.return = t.return,
          t = t.sibling
      }
      return null
    }
    var Ra = null
      , Da = null
      , Ia = !1;
    function Fa(e, t) {
      var n = Fi(5, null, null, 0);
      n.elementType = "DELETED",
        n.type = "DELETED",
        n.stateNode = t,
        n.return = e,
        n.flags = 8,
        null !== e.lastEffect ? (e.lastEffect.nextEffect = n,
          e.lastEffect = n) : e.firstEffect = e.lastEffect = n
    }
    function ja(e, t) {
      switch (e.tag) {
        case 5:
          var n = e.type;
          return null !== (t = 1 !== t.nodeType || n.toLowerCase() !== t.nodeName.toLowerCase() ? null : t) && (e.stateNode = t,
            !0);
        case 6:
          return null !== (t = "" === e.pendingProps || 3 !== t.nodeType ? null : t) && (e.stateNode = t,
            !0);
        case 13:
        default:
          return !1
      }
    }
    function Ua(e) {
      if (Ia) {
        var t = Da;
        if (t) {
          var n = t;
          if (!ja(e, t)) {
            if (!(t = Br(n.nextSibling)) || !ja(e, t))
              return e.flags = -1025 & e.flags | 2,
                Ia = !1,
                void (Ra = e);
            Fa(Ra, n)
          }
          Ra = e,
            Da = Br(t.firstChild)
        } else
          e.flags = -1025 & e.flags | 2,
            Ia = !1,
            Ra = e
      }
    }
    function Aa(e) {
      for (e = e.return; null !== e && 5 !== e.tag && 3 !== e.tag && 13 !== e.tag;)
        e = e.return;
      Ra = e
    }
    function Wa(e) {
      if (e !== Ra)
        return !1;
      if (!Ia)
        return Aa(e),
          Ia = !0,
          !1;
      var t = e.type;
      if (5 !== e.tag || "head" !== t && "body" !== t && !Ur(t, e.memoizedProps))
        for (t = Da; t;)
          Fa(e, t),
            t = Br(t.nextSibling);
      if (Aa(e),
        13 === e.tag) {
        if (!(e = null !== (e = e.memoizedState) ? e.dehydrated : null))
          throw Error(o(317));
        e: {
          for (e = e.nextSibling,
            t = 0; e;) {
            if (8 === e.nodeType) {
              var n = e.data;
              if ("/$" === n) {
                if (0 === t) {
                  Da = Br(e.nextSibling);
                  break e
                }
                t--
              } else
                "$" !== n && "$!" !== n && "$?" !== n || t++
            }
            e = e.nextSibling
          }
          Da = null
        }
      } else
        Da = Ra ? Br(e.stateNode.nextSibling) : null;
      return !0
    }
    function Va() {
      Da = Ra = null,
        Ia = !1
    }
    var Ba = [];
    function Qa() {
      for (var e = 0; e < Ba.length; e++)
        Ba[e]._workInProgressVersionPrimary = null;
      Ba.length = 0
    }
    var $a = k.ReactCurrentDispatcher
      , Ha = k.ReactCurrentBatchConfig
      , qa = 0
      , Ka = null
      , Ya = null
      , Xa = null
      , Ga = !1
      , Ja = !1;
    function Za() {
      throw Error(o(321))
    }
    function eo(e, t) {
      if (null === t)
        return !1;
      for (var n = 0; n < t.length && n < e.length; n++)
        if (!or(e[n], t[n]))
          return !1;
      return !0
    }
    function to(e, t, n, r, l, a) {
      if (qa = a,
        Ka = t,
        t.memoizedState = null,
        t.updateQueue = null,
        t.lanes = 0,
        $a.current = null === e || null === e.memoizedState ? No : To,
        e = n(r, l),
        Ja) {
        a = 0;
        do {
          if (Ja = !1,
            !(25 > a))
            throw Error(o(301));
          a += 1,
            Xa = Ya = null,
            t.updateQueue = null,
            $a.current = Lo,
            e = n(r, l)
        } while (Ja)
      }
      if ($a.current = Po,
        t = null !== Ya && null !== Ya.next,
        qa = 0,
        Xa = Ya = Ka = null,
        Ga = !1,
        t)
        throw Error(o(300));
      return e
    }
    function no() {
      var e = {
        memoizedState: null,
        baseState: null,
        baseQueue: null,
        queue: null,
        next: null
      };
      return null === Xa ? Ka.memoizedState = Xa = e : Xa = Xa.next = e,
        Xa
    }
    function ro() {
      if (null === Ya) {
        var e = Ka.alternate;
        e = null !== e ? e.memoizedState : null
      } else
        e = Ya.next;
      var t = null === Xa ? Ka.memoizedState : Xa.next;
      if (null !== t)
        Xa = t,
          Ya = e;
      else {
        if (null === e)
          throw Error(o(310));
        e = {
          memoizedState: (Ya = e).memoizedState,
          baseState: Ya.baseState,
          baseQueue: Ya.baseQueue,
          queue: Ya.queue,
          next: null
        },
          null === Xa ? Ka.memoizedState = Xa = e : Xa = Xa.next = e
      }
      return Xa
    }
    function lo(e, t) {
      return "function" == typeof t ? t(e) : t
    }
    function ao(e) {
      var t = ro()
        , n = t.queue;
      if (null === n)
        throw Error(o(311));
      n.lastRenderedReducer = e;
      var r = Ya
        , l = r.baseQueue
        , a = n.pending;
      if (null !== a) {
        if (null !== l) {
          var u = l.next;
          l.next = a.next,
            a.next = u
        }
        r.baseQueue = l = a,
          n.pending = null
      }
      if (null !== l) {
        l = l.next,
          r = r.baseState;
        var i = u = a = null
          , s = l;
        do {
          var c = s.lane;
          if ((qa & c) === c)
            null !== i && (i = i.next = {
              lane: 0,
              action: s.action,
              eagerReducer: s.eagerReducer,
              eagerState: s.eagerState,
              next: null
            }),
              r = s.eagerReducer === e ? s.eagerState : e(r, s.action);
          else {
            var f = {
              lane: c,
              action: s.action,
              eagerReducer: s.eagerReducer,
              eagerState: s.eagerState,
              next: null
            };
            null === i ? (u = i = f,
              a = r) : i = i.next = f,
              Ka.lanes |= c,
              Ru |= c
          }
          s = s.next
        } while (null !== s && s !== l);
        null === i ? a = r : i.next = u,
          or(r, t.memoizedState) || (Oo = !0),
          t.memoizedState = r,
          t.baseState = a,
          t.baseQueue = i,
          n.lastRenderedState = r
      }
      return [t.memoizedState, n.dispatch]
    }
    function oo(e) {
      var t = ro()
        , n = t.queue;
      if (null === n)
        throw Error(o(311));
      n.lastRenderedReducer = e;
      var r = n.dispatch
        , l = n.pending
        , a = t.memoizedState;
      if (null !== l) {
        n.pending = null;
        var u = l = l.next;
        do {
          a = e(a, u.action),
            u = u.next
        } while (u !== l);
        or(a, t.memoizedState) || (Oo = !0),
          t.memoizedState = a,
          null === t.baseQueue && (t.baseState = a),
          n.lastRenderedState = a
      }
      return [a, r]
    }
    function uo(e, t, n) {
      var r = t._getVersion;
      r = r(t._source);
      var l = t._workInProgressVersionPrimary;
      if (null !== l ? e = l === r : (e = e.mutableReadLanes,
        (e = (qa & e) === e) && (t._workInProgressVersionPrimary = r,
          Ba.push(t))),
        e)
        return n(t._source);
      throw Ba.push(t),
      Error(o(350))
    }
    function io(e, t, n, r) {
      var l = xu;
      if (null === l)
        throw Error(o(349));
      var a = t._getVersion
        , u = a(t._source)
        , i = $a.current
        , s = i.useState((function () {
          return uo(l, t, n)
        }
        ))
        , c = s[1]
        , f = s[0];
      s = Xa;
      var d = e.memoizedState
        , p = d.refs
        , h = p.getSnapshot
        , m = d.source;
      d = d.subscribe;
      var g = Ka;
      return e.memoizedState = {
        refs: p,
        source: t,
        subscribe: r
      },
        i.useEffect((function () {
          p.getSnapshot = n,
            p.setSnapshot = c;
          var e = a(t._source);
          if (!or(u, e)) {
            e = n(t._source),
              or(f, e) || (c(e),
                e = oi(g),
                l.mutableReadLanes |= e & l.pendingLanes),
              e = l.mutableReadLanes,
              l.entangledLanes |= e;
            for (var r = l.entanglements, o = e; 0 < o;) {
              var i = 31 - Bt(o)
                , s = 1 << i;
              r[i] |= e,
                o &= ~s
            }
          }
        }
        ), [n, t, r]),
        i.useEffect((function () {
          return r(t._source, (function () {
            var e = p.getSnapshot
              , n = p.setSnapshot;
            try {
              n(e(t._source));
              var r = oi(g);
              l.mutableReadLanes |= r & l.pendingLanes
            } catch (e) {
              n((function () {
                throw e
              }
              ))
            }
          }
          ))
        }
        ), [t, r]),
        or(h, n) && or(m, t) && or(d, r) || ((e = {
          pending: null,
          dispatch: null,
          lastRenderedReducer: lo,
          lastRenderedState: f
        }).dispatch = c = xo.bind(null, Ka, e),
          s.queue = e,
          s.baseQueue = null,
          f = uo(l, t, n),
          s.memoizedState = s.baseState = f),
        f
    }
    function so(e, t, n) {
      return io(ro(), e, t, n)
    }
    function co(e) {
      var t = no();
      return "function" == typeof e && (e = e()),
        t.memoizedState = t.baseState = e,
        e = (e = t.queue = {
          pending: null,
          dispatch: null,
          lastRenderedReducer: lo,
          lastRenderedState: e
        }).dispatch = xo.bind(null, Ka, e),
        [t.memoizedState, e]
    }
    function fo(e, t, n, r) {
      return e = {
        tag: e,
        create: t,
        destroy: n,
        deps: r,
        next: null
      },
        null === (t = Ka.updateQueue) ? (t = {
          lastEffect: null
        },
          Ka.updateQueue = t,
          t.lastEffect = e.next = e) : null === (n = t.lastEffect) ? t.lastEffect = e.next = e : (r = n.next,
            n.next = e,
            e.next = r,
            t.lastEffect = e),
        e
    }
    function po(e) {
      return e = {
        current: e
      },
        no().memoizedState = e
    }
    function ho() {
      return ro().memoizedState
    }
    function mo(e, t, n, r) {
      var l = no();
      Ka.flags |= e,
        l.memoizedState = fo(1 | t, n, void 0, void 0 === r ? null : r)
    }
    function go(e, t, n, r) {
      var l = ro();
      r = void 0 === r ? null : r;
      var a = void 0;
      if (null !== Ya) {
        var o = Ya.memoizedState;
        if (a = o.destroy,
          null !== r && eo(r, o.deps))
          return void fo(t, n, a, r)
      }
      Ka.flags |= e,
        l.memoizedState = fo(1 | t, n, a, r)
    }
    function vo(e, t) {
      return mo(516, 4, e, t)
    }
    function yo(e, t) {
      return go(516, 4, e, t)
    }
    function bo(e, t) {
      return go(4, 2, e, t)
    }
    function wo(e, t) {
      return "function" == typeof t ? (e = e(),
        t(e),
        function () {
          t(null)
        }
      ) : null != t ? (e = e(),
        t.current = e,
        function () {
          t.current = null
        }
      ) : void 0
    }
    function ko(e, t, n) {
      return n = null != n ? n.concat([e]) : null,
        go(4, 2, wo.bind(null, t, e), n)
    }
    function Eo() { }
    function So(e, t) {
      var n = ro();
      t = void 0 === t ? null : t;
      var r = n.memoizedState;
      return null !== r && null !== t && eo(t, r[1]) ? r[0] : (n.memoizedState = [e, t],
        e)
    }
    function _o(e, t) {
      var n = ro();
      t = void 0 === t ? null : t;
      var r = n.memoizedState;
      return null !== r && null !== t && eo(t, r[1]) ? r[0] : (e = e(),
        n.memoizedState = [e, t],
        e)
    }
    function Co(e, t) {
      var n = Ul();
      Wl(98 > n ? 98 : n, (function () {
        e(!0)
      }
      )),
        Wl(97 < n ? 97 : n, (function () {
          var n = Ha.transition;
          Ha.transition = 1;
          try {
            e(!1),
              t()
          } finally {
            Ha.transition = n
          }
        }
        ))
    }
    function xo(e, t, n) {
      var r = ai()
        , l = oi(e)
        , a = {
          lane: l,
          action: n,
          eagerReducer: null,
          eagerState: null,
          next: null
        }
        , o = t.pending;
      if (null === o ? a.next = a : (a.next = o.next,
        o.next = a),
        t.pending = a,
        o = e.alternate,
        e === Ka || null !== o && o === Ka)
        Ja = Ga = !0;
      else {
        if (0 === e.lanes && (null === o || 0 === o.lanes) && null !== (o = t.lastRenderedReducer))
          try {
            var u = t.lastRenderedState
              , i = o(u, n);
            if (a.eagerReducer = o,
              a.eagerState = i,
              or(i, u))
              return
          } catch (e) { }
        ui(e, l, r)
      }
    }
    var Po = {
      readContext: ta,
      useCallback: Za,
      useContext: Za,
      useEffect: Za,
      useImperativeHandle: Za,
      useLayoutEffect: Za,
      useMemo: Za,
      useReducer: Za,
      useRef: Za,
      useState: Za,
      useDebugValue: Za,
      useDeferredValue: Za,
      useTransition: Za,
      useMutableSource: Za,
      useOpaqueIdentifier: Za,
      unstable_isNewReconciler: !1
    }
      , No = {
        readContext: ta,
        useCallback: function (e, t) {
          return no().memoizedState = [e, void 0 === t ? null : t],
            e
        },
        useContext: ta,
        useEffect: vo,
        useImperativeHandle: function (e, t, n) {
          return n = null != n ? n.concat([e]) : null,
            mo(4, 2, wo.bind(null, t, e), n)
        },
        useLayoutEffect: function (e, t) {
          return mo(4, 2, e, t)
        },
        useMemo: function (e, t) {
          var n = no();
          return t = void 0 === t ? null : t,
            e = e(),
            n.memoizedState = [e, t],
            e
        },
        useReducer: function (e, t, n) {
          var r = no();
          return t = void 0 !== n ? n(t) : t,
            r.memoizedState = r.baseState = t,
            e = (e = r.queue = {
              pending: null,
              dispatch: null,
              lastRenderedReducer: e,
              lastRenderedState: t
            }).dispatch = xo.bind(null, Ka, e),
            [r.memoizedState, e]
        },
        useRef: po,
        useState: co,
        useDebugValue: Eo,
        useDeferredValue: function (e) {
          var t = co(e)
            , n = t[0]
            , r = t[1];
          return vo((function () {
            var t = Ha.transition;
            Ha.transition = 1;
            try {
              r(e)
            } finally {
              Ha.transition = t
            }
          }
          ), [e]),
            n
        },
        useTransition: function () {
          var e = co(!1)
            , t = e[0];
          return po(e = Co.bind(null, e[1])),
            [e, t]
        },
        useMutableSource: function (e, t, n) {
          var r = no();
          return r.memoizedState = {
            refs: {
              getSnapshot: t,
              setSnapshot: null
            },
            source: e,
            subscribe: n
          },
            io(r, e, t, n)
        },
        useOpaqueIdentifier: function () {
          if (Ia) {
            var e = !1
              , t = function (e) {
                return {
                  $$typeof: D,
                  toString: e,
                  valueOf: e
                }
              }((function () {
                throw e || (e = !0,
                  n("r:" + ($r++).toString(36))),
                Error(o(355))
              }
              ))
              , n = co(t)[1];
            return 0 == (2 & Ka.mode) && (Ka.flags |= 516,
              fo(5, (function () {
                n("r:" + ($r++).toString(36))
              }
              ), void 0, null)),
              t
          }
          return co(t = "r:" + ($r++).toString(36)),
            t
        },
        unstable_isNewReconciler: !1
      }
      , To = {
        readContext: ta,
        useCallback: So,
        useContext: ta,
        useEffect: yo,
        useImperativeHandle: ko,
        useLayoutEffect: bo,
        useMemo: _o,
        useReducer: ao,
        useRef: ho,
        useState: function () {
          return ao(lo)
        },
        useDebugValue: Eo,
        useDeferredValue: function (e) {
          var t = ao(lo)
            , n = t[0]
            , r = t[1];
          return yo((function () {
            var t = Ha.transition;
            Ha.transition = 1;
            try {
              r(e)
            } finally {
              Ha.transition = t
            }
          }
          ), [e]),
            n
        },
        useTransition: function () {
          var e = ao(lo)[0];
          return [ho().current, e]
        },
        useMutableSource: so,
        useOpaqueIdentifier: function () {
          return ao(lo)[0]
        },
        unstable_isNewReconciler: !1
      }
      , Lo = {
        readContext: ta,
        useCallback: So,
        useContext: ta,
        useEffect: yo,
        useImperativeHandle: ko,
        useLayoutEffect: bo,
        useMemo: _o,
        useReducer: oo,
        useRef: ho,
        useState: function () {
          return oo(lo)
        },
        useDebugValue: Eo,
        useDeferredValue: function (e) {
          var t = oo(lo)
            , n = t[0]
            , r = t[1];
          return yo((function () {
            var t = Ha.transition;
            Ha.transition = 1;
            try {
              r(e)
            } finally {
              Ha.transition = t
            }
          }
          ), [e]),
            n
        },
        useTransition: function () {
          var e = oo(lo)[0];
          return [ho().current, e]
        },
        useMutableSource: so,
        useOpaqueIdentifier: function () {
          return oo(lo)[0]
        },
        unstable_isNewReconciler: !1
      }
      , zo = k.ReactCurrentOwner
      , Oo = !1;
    function Mo(e, t, n, r) {
      t.child = null === e ? Ea(t, null, n, r) : ka(t, e.child, n, r)
    }
    function Ro(e, t, n, r, l) {
      n = n.render;
      var a = t.ref;
      return ea(t, l),
        r = to(e, t, n, r, a, l),
        null === e || Oo ? (t.flags |= 1,
          Mo(e, t, r, l),
          t.child) : (t.updateQueue = e.updateQueue,
            t.flags &= -517,
            e.lanes &= ~l,
            eu(e, t, l))
    }
    function Do(e, t, n, r, l, a) {
      if (null === e) {
        var o = n.type;
        return "function" != typeof o || ji(o) || void 0 !== o.defaultProps || null !== n.compare || void 0 !== n.defaultProps ? ((e = Ai(n.type, null, r, t, t.mode, a)).ref = t.ref,
          e.return = t,
          t.child = e) : (t.tag = 15,
            t.type = o,
            Io(e, t, o, r, l, a))
      }
      return o = e.child,
        0 == (l & a) && (l = o.memoizedProps,
          (n = null !== (n = n.compare) ? n : ir)(l, r) && e.ref === t.ref) ? eu(e, t, a) : (t.flags |= 1,
            (e = Ui(o, r)).ref = t.ref,
            e.return = t,
            t.child = e)
    }
    function Io(e, t, n, r, l, a) {
      if (null !== e && ir(e.memoizedProps, r) && e.ref === t.ref) {
        if (Oo = !1,
          0 == (a & l))
          return t.lanes = e.lanes,
            eu(e, t, a);
        0 != (16384 & e.flags) && (Oo = !0)
      }
      return Uo(e, t, n, r, a)
    }
    function Fo(e, t, n) {
      var r = t.pendingProps
        , l = r.children
        , a = null !== e ? e.memoizedState : null;
      if ("hidden" === r.mode || "unstable-defer-without-hiding" === r.mode)
        if (0 == (4 & t.mode))
          t.memoizedState = {
            baseLanes: 0
          },
            mi(t, n);
        else {
          if (0 == (1073741824 & n))
            return e = null !== a ? a.baseLanes | n : n,
              t.lanes = t.childLanes = 1073741824,
              t.memoizedState = {
                baseLanes: e
              },
              mi(t, e),
              null;
          t.memoizedState = {
            baseLanes: 0
          },
            mi(t, null !== a ? a.baseLanes : n)
        }
      else
        null !== a ? (r = a.baseLanes | n,
          t.memoizedState = null) : r = n,
          mi(t, r);
      return Mo(e, t, l, n),
        t.child
    }
    function jo(e, t) {
      var n = t.ref;
      (null === e && null !== n || null !== e && e.ref !== n) && (t.flags |= 128)
    }
    function Uo(e, t, n, r, l) {
      var a = dl(n) ? cl : il.current;
      return a = fl(t, a),
        ea(t, l),
        n = to(e, t, n, r, a, l),
        null === e || Oo ? (t.flags |= 1,
          Mo(e, t, n, l),
          t.child) : (t.updateQueue = e.updateQueue,
            t.flags &= -517,
            e.lanes &= ~l,
            eu(e, t, l))
    }
    function Ao(e, t, n, r, l) {
      if (dl(n)) {
        var a = !0;
        gl(t)
      } else
        a = !1;
      if (ea(t, l),
        null === t.stateNode)
        null !== e && (e.alternate = null,
          t.alternate = null,
          t.flags |= 2),
          ha(t, n, r),
          ga(t, n, r, l),
          r = !0;
      else if (null === e) {
        var o = t.stateNode
          , u = t.memoizedProps;
        o.props = u;
        var i = o.context
          , s = n.contextType;
        "object" == typeof s && null !== s ? s = ta(s) : s = fl(t, s = dl(n) ? cl : il.current);
        var c = n.getDerivedStateFromProps
          , f = "function" == typeof c || "function" == typeof o.getSnapshotBeforeUpdate;
        f || "function" != typeof o.UNSAFE_componentWillReceiveProps && "function" != typeof o.componentWillReceiveProps || (u !== r || i !== s) && ma(t, o, r, s),
          na = !1;
        var d = t.memoizedState;
        o.state = d,
          ia(t, r, o, l),
          i = t.memoizedState,
          u !== r || d !== i || sl.current || na ? ("function" == typeof c && (fa(t, n, c, r),
            i = t.memoizedState),
            (u = na || pa(t, n, u, r, d, i, s)) ? (f || "function" != typeof o.UNSAFE_componentWillMount && "function" != typeof o.componentWillMount || ("function" == typeof o.componentWillMount && o.componentWillMount(),
              "function" == typeof o.UNSAFE_componentWillMount && o.UNSAFE_componentWillMount()),
              "function" == typeof o.componentDidMount && (t.flags |= 4)) : ("function" == typeof o.componentDidMount && (t.flags |= 4),
                t.memoizedProps = r,
                t.memoizedState = i),
            o.props = r,
            o.state = i,
            o.context = s,
            r = u) : ("function" == typeof o.componentDidMount && (t.flags |= 4),
              r = !1)
      } else {
        o = t.stateNode,
          la(e, t),
          u = t.memoizedProps,
          s = t.type === t.elementType ? u : Hl(t.type, u),
          o.props = s,
          f = t.pendingProps,
          d = o.context,
          "object" == typeof (i = n.contextType) && null !== i ? i = ta(i) : i = fl(t, i = dl(n) ? cl : il.current);
        var p = n.getDerivedStateFromProps;
        (c = "function" == typeof p || "function" == typeof o.getSnapshotBeforeUpdate) || "function" != typeof o.UNSAFE_componentWillReceiveProps && "function" != typeof o.componentWillReceiveProps || (u !== f || d !== i) && ma(t, o, r, i),
          na = !1,
          d = t.memoizedState,
          o.state = d,
          ia(t, r, o, l);
        var h = t.memoizedState;
        u !== f || d !== h || sl.current || na ? ("function" == typeof p && (fa(t, n, p, r),
          h = t.memoizedState),
          (s = na || pa(t, n, s, r, d, h, i)) ? (c || "function" != typeof o.UNSAFE_componentWillUpdate && "function" != typeof o.componentWillUpdate || ("function" == typeof o.componentWillUpdate && o.componentWillUpdate(r, h, i),
            "function" == typeof o.UNSAFE_componentWillUpdate && o.UNSAFE_componentWillUpdate(r, h, i)),
            "function" == typeof o.componentDidUpdate && (t.flags |= 4),
            "function" == typeof o.getSnapshotBeforeUpdate && (t.flags |= 256)) : ("function" != typeof o.componentDidUpdate || u === e.memoizedProps && d === e.memoizedState || (t.flags |= 4),
              "function" != typeof o.getSnapshotBeforeUpdate || u === e.memoizedProps && d === e.memoizedState || (t.flags |= 256),
              t.memoizedProps = r,
              t.memoizedState = h),
          o.props = r,
          o.state = h,
          o.context = i,
          r = s) : ("function" != typeof o.componentDidUpdate || u === e.memoizedProps && d === e.memoizedState || (t.flags |= 4),
            "function" != typeof o.getSnapshotBeforeUpdate || u === e.memoizedProps && d === e.memoizedState || (t.flags |= 256),
            r = !1)
      }
      return Wo(e, t, n, r, a, l)
    }
    function Wo(e, t, n, r, l, a) {
      jo(e, t);
      var o = 0 != (64 & t.flags);
      if (!r && !o)
        return l && vl(t, n, !1),
          eu(e, t, a);
      r = t.stateNode,
        zo.current = t;
      var u = o && "function" != typeof n.getDerivedStateFromError ? null : r.render();
      return t.flags |= 1,
        null !== e && o ? (t.child = ka(t, e.child, null, a),
          t.child = ka(t, null, u, a)) : Mo(e, t, u, a),
        t.memoizedState = r.state,
        l && vl(t, n, !0),
        t.child
    }
    function Vo(e) {
      var t = e.stateNode;
      t.pendingContext ? hl(0, t.pendingContext, t.pendingContext !== t.context) : t.context && hl(0, t.context, !1),
        Na(e, t.containerInfo)
    }
    var Bo, Qo, $o, Ho = {
      dehydrated: null,
      retryLane: 0
    };
    function qo(e, t, n) {
      var r, l = t.pendingProps, a = Oa.current, o = !1;
      return (r = 0 != (64 & t.flags)) || (r = (null === e || null !== e.memoizedState) && 0 != (2 & a)),
        r ? (o = !0,
          t.flags &= -65) : null !== e && null === e.memoizedState || void 0 === l.fallback || !0 === l.unstable_avoidThisFallback || (a |= 1),
        ol(Oa, 1 & a),
        null === e ? (void 0 !== l.fallback && Ua(t),
          e = l.children,
          a = l.fallback,
          o ? (e = Ko(t, e, a, n),
            t.child.memoizedState = {
              baseLanes: n
            },
            t.memoizedState = Ho,
            e) : "number" == typeof l.unstable_expectedLoadTime ? (e = Ko(t, e, a, n),
              t.child.memoizedState = {
                baseLanes: n
              },
              t.memoizedState = Ho,
              t.lanes = 33554432,
              e) : ((n = Vi({
                mode: "visible",
                children: e
              }, t.mode, n, null)).return = t,
                t.child = n)) : (e.memoizedState,
                  o ? (l = Xo(e, t, l.children, l.fallback, n),
                    o = t.child,
                    a = e.child.memoizedState,
                    o.memoizedState = null === a ? {
                      baseLanes: n
                    } : {
                      baseLanes: a.baseLanes | n
                    },
                    o.childLanes = e.childLanes & ~n,
                    t.memoizedState = Ho,
                    l) : (n = Yo(e, t, l.children, n),
                      t.memoizedState = null,
                      n))
    }
    function Ko(e, t, n, r) {
      var l = e.mode
        , a = e.child;
      return t = {
        mode: "hidden",
        children: t
      },
        0 == (2 & l) && null !== a ? (a.childLanes = 0,
          a.pendingProps = t) : a = Vi(t, l, 0, null),
        n = Wi(n, l, r, null),
        a.return = e,
        n.return = e,
        a.sibling = n,
        e.child = a,
        n
    }
    function Yo(e, t, n, r) {
      var l = e.child;
      return e = l.sibling,
        n = Ui(l, {
          mode: "visible",
          children: n
        }),
        0 == (2 & t.mode) && (n.lanes = r),
        n.return = t,
        n.sibling = null,
        null !== e && (e.nextEffect = null,
          e.flags = 8,
          t.firstEffect = t.lastEffect = e),
        t.child = n
    }
    function Xo(e, t, n, r, l) {
      var a = t.mode
        , o = e.child;
      e = o.sibling;
      var u = {
        mode: "hidden",
        children: n
      };
      return 0 == (2 & a) && t.child !== o ? ((n = t.child).childLanes = 0,
        n.pendingProps = u,
        null !== (o = n.lastEffect) ? (t.firstEffect = n.firstEffect,
          t.lastEffect = o,
          o.nextEffect = null) : t.firstEffect = t.lastEffect = null) : n = Ui(o, u),
        null !== e ? r = Ui(e, r) : (r = Wi(r, a, l, null)).flags |= 2,
        r.return = t,
        n.return = t,
        n.sibling = r,
        t.child = n,
        r
    }
    function Go(e, t) {
      e.lanes |= t;
      var n = e.alternate;
      null !== n && (n.lanes |= t),
        Zl(e.return, t)
    }
    function Jo(e, t, n, r, l, a) {
      var o = e.memoizedState;
      null === o ? e.memoizedState = {
        isBackwards: t,
        rendering: null,
        renderingStartTime: 0,
        last: r,
        tail: n,
        tailMode: l,
        lastEffect: a
      } : (o.isBackwards = t,
        o.rendering = null,
        o.renderingStartTime = 0,
        o.last = r,
        o.tail = n,
        o.tailMode = l,
        o.lastEffect = a)
    }
    function Zo(e, t, n) {
      var r = t.pendingProps
        , l = r.revealOrder
        , a = r.tail;
      if (Mo(e, t, r.children, n),
        0 != (2 & (r = Oa.current)))
        r = 1 & r | 2,
          t.flags |= 64;
      else {
        if (null !== e && 0 != (64 & e.flags))
          e: for (e = t.child; null !== e;) {
            if (13 === e.tag)
              null !== e.memoizedState && Go(e, n);
            else if (19 === e.tag)
              Go(e, n);
            else if (null !== e.child) {
              e.child.return = e,
                e = e.child;
              continue
            }
            if (e === t)
              break e;
            for (; null === e.sibling;) {
              if (null === e.return || e.return === t)
                break e;
              e = e.return
            }
            e.sibling.return = e.return,
              e = e.sibling
          }
        r &= 1
      }
      if (ol(Oa, r),
        0 == (2 & t.mode))
        t.memoizedState = null;
      else
        switch (l) {
          case "forwards":
            for (n = t.child,
              l = null; null !== n;)
              null !== (e = n.alternate) && null === Ma(e) && (l = n),
                n = n.sibling;
            null === (n = l) ? (l = t.child,
              t.child = null) : (l = n.sibling,
                n.sibling = null),
              Jo(t, !1, l, n, a, t.lastEffect);
            break;
          case "backwards":
            for (n = null,
              l = t.child,
              t.child = null; null !== l;) {
              if (null !== (e = l.alternate) && null === Ma(e)) {
                t.child = l;
                break
              }
              e = l.sibling,
                l.sibling = n,
                n = l,
                l = e
            }
            Jo(t, !0, n, null, a, t.lastEffect);
            break;
          case "together":
            Jo(t, !1, null, null, void 0, t.lastEffect);
            break;
          default:
            t.memoizedState = null
        }
      return t.child
    }
    function eu(e, t, n) {
      if (null !== e && (t.dependencies = e.dependencies),
        Ru |= t.lanes,
        0 != (n & t.childLanes)) {
        if (null !== e && t.child !== e.child)
          throw Error(o(153));
        if (null !== t.child) {
          for (n = Ui(e = t.child, e.pendingProps),
            t.child = n,
            n.return = t; null !== e.sibling;)
            e = e.sibling,
              (n = n.sibling = Ui(e, e.pendingProps)).return = t;
          n.sibling = null
        }
        return t.child
      }
      return null
    }
    function tu(e, t) {
      if (!Ia)
        switch (e.tailMode) {
          case "hidden":
            t = e.tail;
            for (var n = null; null !== t;)
              null !== t.alternate && (n = t),
                t = t.sibling;
            null === n ? e.tail = null : n.sibling = null;
            break;
          case "collapsed":
            n = e.tail;
            for (var r = null; null !== n;)
              null !== n.alternate && (r = n),
                n = n.sibling;
            null === r ? t || null === e.tail ? e.tail = null : e.tail.sibling = null : r.sibling = null
        }
    }
    function nu(e, t, n) {
      var r = t.pendingProps;
      switch (t.tag) {
        case 2:
        case 16:
        case 15:
        case 0:
        case 11:
        case 7:
        case 8:
        case 12:
        case 9:
        case 14:
          return null;
        case 1:
          return dl(t.type) && pl(),
            null;
        case 3:
          return Ta(),
            al(sl),
            al(il),
            Qa(),
            (r = t.stateNode).pendingContext && (r.context = r.pendingContext,
              r.pendingContext = null),
            null !== e && null !== e.child || (Wa(t) ? t.flags |= 4 : r.hydrate || (t.flags |= 256)),
            null;
        case 5:
          za(t);
          var a = Pa(xa.current);
          if (n = t.type,
            null !== e && null != t.stateNode)
            Qo(e, t, n, r),
              e.ref !== t.ref && (t.flags |= 128);
          else {
            if (!r) {
              if (null === t.stateNode)
                throw Error(o(166));
              return null
            }
            if (e = Pa(_a.current),
              Wa(t)) {
              r = t.stateNode,
                n = t.type;
              var u = t.memoizedProps;
              switch (r[qr] = t,
              r[Kr] = u,
              n) {
                case "dialog":
                  Cr("cancel", r),
                    Cr("close", r);
                  break;
                case "iframe":
                case "object":
                case "embed":
                  Cr("load", r);
                  break;
                case "video":
                case "audio":
                  for (e = 0; e < kr.length; e++)
                    Cr(kr[e], r);
                  break;
                case "source":
                  Cr("error", r);
                  break;
                case "img":
                case "image":
                case "link":
                  Cr("error", r),
                    Cr("load", r);
                  break;
                case "details":
                  Cr("toggle", r);
                  break;
                case "input":
                  ee(r, u),
                    Cr("invalid", r);
                  break;
                case "select":
                  r._wrapperState = {
                    wasMultiple: !!u.multiple
                  },
                    Cr("invalid", r);
                  break;
                case "textarea":
                  ie(r, u),
                    Cr("invalid", r)
              }
              for (var s in Se(n, u),
                e = null,
                u)
                u.hasOwnProperty(s) && (a = u[s],
                  "children" === s ? "string" == typeof a ? r.textContent !== a && (e = ["children", a]) : "number" == typeof a && r.textContent !== "" + a && (e = ["children", "" + a]) : i.hasOwnProperty(s) && null != a && "onScroll" === s && Cr("scroll", r));
              switch (n) {
                case "input":
                  X(r),
                    re(r, u, !0);
                  break;
                case "textarea":
                  X(r),
                    ce(r);
                  break;
                case "select":
                case "option":
                  break;
                default:
                  "function" == typeof u.onClick && (r.onclick = Dr)
              }
              r = e,
                t.updateQueue = r,
                null !== r && (t.flags |= 4)
            } else {
              switch (s = 9 === a.nodeType ? a : a.ownerDocument,
              e === fe && (e = pe(n)),
              e === fe ? "script" === n ? ((e = s.createElement("div")).innerHTML = "<script><\/script>",
                e = e.removeChild(e.firstChild)) : "string" == typeof r.is ? e = s.createElement(n, {
                  is: r.is
                }) : (e = s.createElement(n),
                  "select" === n && (s = e,
                    r.multiple ? s.multiple = !0 : r.size && (s.size = r.size))) : e = s.createElementNS(e, n),
              e[qr] = t,
              e[Kr] = r,
              Bo(e, t),
              t.stateNode = e,
              s = _e(n, r),
              n) {
                case "dialog":
                  Cr("cancel", e),
                    Cr("close", e),
                    a = r;
                  break;
                case "iframe":
                case "object":
                case "embed":
                  Cr("load", e),
                    a = r;
                  break;
                case "video":
                case "audio":
                  for (a = 0; a < kr.length; a++)
                    Cr(kr[a], e);
                  a = r;
                  break;
                case "source":
                  Cr("error", e),
                    a = r;
                  break;
                case "img":
                case "image":
                case "link":
                  Cr("error", e),
                    Cr("load", e),
                    a = r;
                  break;
                case "details":
                  Cr("toggle", e),
                    a = r;
                  break;
                case "input":
                  ee(e, r),
                    a = Z(e, r),
                    Cr("invalid", e);
                  break;
                case "option":
                  a = ae(e, r);
                  break;
                case "select":
                  e._wrapperState = {
                    wasMultiple: !!r.multiple
                  },
                    a = l({}, r, {
                      value: void 0
                    }),
                    Cr("invalid", e);
                  break;
                case "textarea":
                  ie(e, r),
                    a = ue(e, r),
                    Cr("invalid", e);
                  break;
                default:
                  a = r
              }
              Se(n, a);
              var c = a;
              for (u in c)
                if (c.hasOwnProperty(u)) {
                  var f = c[u];
                  "style" === u ? ke(e, f) : "dangerouslySetInnerHTML" === u ? null != (f = f ? f.__html : void 0) && ge(e, f) : "children" === u ? "string" == typeof f ? ("textarea" !== n || "" !== f) && ve(e, f) : "number" == typeof f && ve(e, "" + f) : "suppressContentEditableWarning" !== u && "suppressHydrationWarning" !== u && "autoFocus" !== u && (i.hasOwnProperty(u) ? null != f && "onScroll" === u && Cr("scroll", e) : null != f && w(e, u, f, s))
                }
              switch (n) {
                case "input":
                  X(e),
                    re(e, r, !1);
                  break;
                case "textarea":
                  X(e),
                    ce(e);
                  break;
                case "option":
                  null != r.value && e.setAttribute("value", "" + K(r.value));
                  break;
                case "select":
                  e.multiple = !!r.multiple,
                    null != (u = r.value) ? oe(e, !!r.multiple, u, !1) : null != r.defaultValue && oe(e, !!r.multiple, r.defaultValue, !0);
                  break;
                default:
                  "function" == typeof a.onClick && (e.onclick = Dr)
              }
              jr(n, r) && (t.flags |= 4)
            }
            null !== t.ref && (t.flags |= 128)
          }
          return null;
        case 6:
          if (e && null != t.stateNode)
            $o(0, t, e.memoizedProps, r);
          else {
            if ("string" != typeof r && null === t.stateNode)
              throw Error(o(166));
            n = Pa(xa.current),
              Pa(_a.current),
              Wa(t) ? (r = t.stateNode,
                n = t.memoizedProps,
                r[qr] = t,
                r.nodeValue !== n && (t.flags |= 4)) : ((r = (9 === n.nodeType ? n : n.ownerDocument).createTextNode(r))[qr] = t,
                  t.stateNode = r)
          }
          return null;
        case 13:
          return al(Oa),
            r = t.memoizedState,
            0 != (64 & t.flags) ? (t.lanes = n,
              t) : (r = null !== r,
                n = !1,
                null === e ? void 0 !== t.memoizedProps.fallback && Wa(t) : n = null !== e.memoizedState,
                r && !n && 0 != (2 & t.mode) && (null === e && !0 !== t.memoizedProps.unstable_avoidThisFallback || 0 != (1 & Oa.current) ? 0 === zu && (zu = 3) : (0 !== zu && 3 !== zu || (zu = 4),
                  null === xu || 0 == (134217727 & Ru) && 0 == (134217727 & Du) || fi(xu, Nu))),
                (r || n) && (t.flags |= 4),
                null);
        case 4:
          return Ta(),
            null === e && Pr(t.stateNode.containerInfo),
            null;
        case 10:
          return Jl(t),
            null;
        case 17:
          return dl(t.type) && pl(),
            null;
        case 19:
          if (al(Oa),
            null === (r = t.memoizedState))
            return null;
          if (u = 0 != (64 & t.flags),
            null === (s = r.rendering))
            if (u)
              tu(r, !1);
            else {
              if (0 !== zu || null !== e && 0 != (64 & e.flags))
                for (e = t.child; null !== e;) {
                  if (null !== (s = Ma(e))) {
                    for (t.flags |= 64,
                      tu(r, !1),
                      null !== (u = s.updateQueue) && (t.updateQueue = u,
                        t.flags |= 4),
                      null === r.lastEffect && (t.firstEffect = null),
                      t.lastEffect = r.lastEffect,
                      r = n,
                      n = t.child; null !== n;)
                      e = r,
                        (u = n).flags &= 2,
                        u.nextEffect = null,
                        u.firstEffect = null,
                        u.lastEffect = null,
                        null === (s = u.alternate) ? (u.childLanes = 0,
                          u.lanes = e,
                          u.child = null,
                          u.memoizedProps = null,
                          u.memoizedState = null,
                          u.updateQueue = null,
                          u.dependencies = null,
                          u.stateNode = null) : (u.childLanes = s.childLanes,
                            u.lanes = s.lanes,
                            u.child = s.child,
                            u.memoizedProps = s.memoizedProps,
                            u.memoizedState = s.memoizedState,
                            u.updateQueue = s.updateQueue,
                            u.type = s.type,
                            e = s.dependencies,
                            u.dependencies = null === e ? null : {
                              lanes: e.lanes,
                              firstContext: e.firstContext
                            }),
                        n = n.sibling;
                    return ol(Oa, 1 & Oa.current | 2),
                      t.child
                  }
                  e = e.sibling
                }
              null !== r.tail && jl() > Uu && (t.flags |= 64,
                u = !0,
                tu(r, !1),
                t.lanes = 33554432)
            }
          else {
            if (!u)
              if (null !== (e = Ma(s))) {
                if (t.flags |= 64,
                  u = !0,
                  null !== (n = e.updateQueue) && (t.updateQueue = n,
                    t.flags |= 4),
                  tu(r, !0),
                  null === r.tail && "hidden" === r.tailMode && !s.alternate && !Ia)
                  return null !== (t = t.lastEffect = r.lastEffect) && (t.nextEffect = null),
                    null
              } else
                2 * jl() - r.renderingStartTime > Uu && 1073741824 !== n && (t.flags |= 64,
                  u = !0,
                  tu(r, !1),
                  t.lanes = 33554432);
            r.isBackwards ? (s.sibling = t.child,
              t.child = s) : (null !== (n = r.last) ? n.sibling = s : t.child = s,
                r.last = s)
          }
          return null !== r.tail ? (n = r.tail,
            r.rendering = n,
            r.tail = n.sibling,
            r.lastEffect = t.lastEffect,
            r.renderingStartTime = jl(),
            n.sibling = null,
            t = Oa.current,
            ol(Oa, u ? 1 & t | 2 : 1 & t),
            n) : null;
        case 23:
        case 24:
          return gi(),
            null !== e && null !== e.memoizedState != (null !== t.memoizedState) && "unstable-defer-without-hiding" !== r.mode && (t.flags |= 4),
            null
      }
      throw Error(o(156, t.tag))
    }
    function ru(e) {
      switch (e.tag) {
        case 1:
          dl(e.type) && pl();
          var t = e.flags;
          return 4096 & t ? (e.flags = -4097 & t | 64,
            e) : null;
        case 3:
          if (Ta(),
            al(sl),
            al(il),
            Qa(),
            0 != (64 & (t = e.flags)))
            throw Error(o(285));
          return e.flags = -4097 & t | 64,
            e;
        case 5:
          return za(e),
            null;
        case 13:
          return al(Oa),
            4096 & (t = e.flags) ? (e.flags = -4097 & t | 64,
              e) : null;
        case 19:
          return al(Oa),
            null;
        case 4:
          return Ta(),
            null;
        case 10:
          return Jl(e),
            null;
        case 23:
        case 24:
          return gi(),
            null;
        default:
          return null
      }
    }
    function lu(e, t) {
      try {
        var n = ""
          , r = t;
        do {
          n += H(r),
            r = r.return
        } while (r);
        var l = n
      } catch (e) {
        l = "\nError generating stack: " + e.message + "\n" + e.stack
      }
      return {
        value: e,
        source: t,
        stack: l
      }
    }
    function au(e, t) {
      try {
        console.error(t.value)
      } catch (e) {
        setTimeout((function () {
          throw e
        }
        ))
      }
    }
    Bo = function (e, t) {
      for (var n = t.child; null !== n;) {
        if (5 === n.tag || 6 === n.tag)
          e.appendChild(n.stateNode);
        else if (4 !== n.tag && null !== n.child) {
          n.child.return = n,
            n = n.child;
          continue
        }
        if (n === t)
          break;
        for (; null === n.sibling;) {
          if (null === n.return || n.return === t)
            return;
          n = n.return
        }
        n.sibling.return = n.return,
          n = n.sibling
      }
    }
      ,
      Qo = function (e, t, n, r) {
        var a = e.memoizedProps;
        if (a !== r) {
          e = t.stateNode,
            Pa(_a.current);
          var o, u = null;
          switch (n) {
            case "input":
              a = Z(e, a),
                r = Z(e, r),
                u = [];
              break;
            case "option":
              a = ae(e, a),
                r = ae(e, r),
                u = [];
              break;
            case "select":
              a = l({}, a, {
                value: void 0
              }),
                r = l({}, r, {
                  value: void 0
                }),
                u = [];
              break;
            case "textarea":
              a = ue(e, a),
                r = ue(e, r),
                u = [];
              break;
            default:
              "function" != typeof a.onClick && "function" == typeof r.onClick && (e.onclick = Dr)
          }
          for (f in Se(n, r),
            n = null,
            a)
            if (!r.hasOwnProperty(f) && a.hasOwnProperty(f) && null != a[f])
              if ("style" === f) {
                var s = a[f];
                for (o in s)
                  s.hasOwnProperty(o) && (n || (n = {}),
                    n[o] = "")
              } else
                "dangerouslySetInnerHTML" !== f && "children" !== f && "suppressContentEditableWarning" !== f && "suppressHydrationWarning" !== f && "autoFocus" !== f && (i.hasOwnProperty(f) ? u || (u = []) : (u = u || []).push(f, null));
          for (f in r) {
            var c = r[f];
            if (s = null != a ? a[f] : void 0,
              r.hasOwnProperty(f) && c !== s && (null != c || null != s))
              if ("style" === f)
                if (s) {
                  for (o in s)
                    !s.hasOwnProperty(o) || c && c.hasOwnProperty(o) || (n || (n = {}),
                      n[o] = "");
                  for (o in c)
                    c.hasOwnProperty(o) && s[o] !== c[o] && (n || (n = {}),
                      n[o] = c[o])
                } else
                  n || (u || (u = []),
                    u.push(f, n)),
                    n = c;
              else
                "dangerouslySetInnerHTML" === f ? (c = c ? c.__html : void 0,
                  s = s ? s.__html : void 0,
                  null != c && s !== c && (u = u || []).push(f, c)) : "children" === f ? "string" != typeof c && "number" != typeof c || (u = u || []).push(f, "" + c) : "suppressContentEditableWarning" !== f && "suppressHydrationWarning" !== f && (i.hasOwnProperty(f) ? (null != c && "onScroll" === f && Cr("scroll", e),
                    u || s === c || (u = [])) : "object" == typeof c && null !== c && c.$$typeof === D ? c.toString() : (u = u || []).push(f, c))
          }
          n && (u = u || []).push("style", n);
          var f = u;
          (t.updateQueue = f) && (t.flags |= 4)
        }
      }
      ,
      $o = function (e, t, n, r) {
        n !== r && (t.flags |= 4)
      }
      ;
    var ou = "function" == typeof WeakMap ? WeakMap : Map;
    function uu(e, t, n) {
      (n = aa(-1, n)).tag = 3,
        n.payload = {
          element: null
        };
      var r = t.value;
      return n.callback = function () {
        Bu || (Bu = !0,
          Qu = r),
          au(0, t)
      }
        ,
        n
    }
    function iu(e, t, n) {
      (n = aa(-1, n)).tag = 3;
      var r = e.type.getDerivedStateFromError;
      if ("function" == typeof r) {
        var l = t.value;
        n.payload = function () {
          return au(0, t),
            r(l)
        }
      }
      var a = e.stateNode;
      return null !== a && "function" == typeof a.componentDidCatch && (n.callback = function () {
        "function" != typeof r && (null === $u ? $u = new Set([this]) : $u.add(this),
          au(0, t));
        var e = t.stack;
        this.componentDidCatch(t.value, {
          componentStack: null !== e ? e : ""
        })
      }
      ),
        n
    }
    var su = "function" == typeof WeakSet ? WeakSet : Set;
    function cu(e) {
      var t = e.ref;
      if (null !== t)
        if ("function" == typeof t)
          try {
            t(null)
          } catch (t) {
            Mi(e, t)
          }
        else
          t.current = null
    }
    function fu(e, t) {
      switch (t.tag) {
        case 0:
        case 11:
        case 15:
        case 22:
          return;
        case 1:
          if (256 & t.flags && null !== e) {
            var n = e.memoizedProps
              , r = e.memoizedState;
            t = (e = t.stateNode).getSnapshotBeforeUpdate(t.elementType === t.type ? n : Hl(t.type, n), r),
              e.__reactInternalSnapshotBeforeUpdate = t
          }
          return;
        case 3:
          return void (256 & t.flags && Vr(t.stateNode.containerInfo));
        case 5:
        case 6:
        case 4:
        case 17:
          return
      }
      throw Error(o(163))
    }
    function du(e, t, n) {
      switch (n.tag) {
        case 0:
        case 11:
        case 15:
        case 22:
          if (null !== (t = null !== (t = n.updateQueue) ? t.lastEffect : null)) {
            e = t = t.next;
            do {
              if (3 == (3 & e.tag)) {
                var r = e.create;
                e.destroy = r()
              }
              e = e.next
            } while (e !== t)
          }
          if (null !== (t = null !== (t = n.updateQueue) ? t.lastEffect : null)) {
            e = t = t.next;
            do {
              var l = e;
              r = l.next,
                0 != (4 & (l = l.tag)) && 0 != (1 & l) && (Li(n, e),
                  Ti(n, e)),
                e = r
            } while (e !== t)
          }
          return;
        case 1:
          return e = n.stateNode,
            4 & n.flags && (null === t ? e.componentDidMount() : (r = n.elementType === n.type ? t.memoizedProps : Hl(n.type, t.memoizedProps),
              e.componentDidUpdate(r, t.memoizedState, e.__reactInternalSnapshotBeforeUpdate))),
            void (null !== (t = n.updateQueue) && sa(n, t, e));
        case 3:
          if (null !== (t = n.updateQueue)) {
            if (e = null,
              null !== n.child)
              switch (n.child.tag) {
                case 5:
                  e = n.child.stateNode;
                  break;
                case 1:
                  e = n.child.stateNode
              }
            sa(n, t, e)
          }
          return;
        case 5:
          return e = n.stateNode,
            void (null === t && 4 & n.flags && jr(n.type, n.memoizedProps) && e.focus());
        case 6:
        case 4:
        case 12:
          return;
        case 13:
          return void (null === n.memoizedState && (n = n.alternate,
            null !== n && (n = n.memoizedState,
              null !== n && (n = n.dehydrated,
                null !== n && kt(n)))));
        case 19:
        case 17:
        case 20:
        case 21:
        case 23:
        case 24:
          return
      }
      throw Error(o(163))
    }
    function pu(e, t) {
      for (var n = e; ;) {
        if (5 === n.tag) {
          var r = n.stateNode;
          if (t)
            "function" == typeof (r = r.style).setProperty ? r.setProperty("display", "none", "important") : r.display = "none";
          else {
            r = n.stateNode;
            var l = n.memoizedProps.style;
            l = null != l && l.hasOwnProperty("display") ? l.display : null,
              r.style.display = we("display", l)
          }
        } else if (6 === n.tag)
          n.stateNode.nodeValue = t ? "" : n.memoizedProps;
        else if ((23 !== n.tag && 24 !== n.tag || null === n.memoizedState || n === e) && null !== n.child) {
          n.child.return = n,
            n = n.child;
          continue
        }
        if (n === e)
          break;
        for (; null === n.sibling;) {
          if (null === n.return || n.return === e)
            return;
          n = n.return
        }
        n.sibling.return = n.return,
          n = n.sibling
      }
    }
    function hu(e, t) {
      if (bl && "function" == typeof bl.onCommitFiberUnmount)
        try {
          bl.onCommitFiberUnmount(yl, t)
        } catch (e) { }
      switch (t.tag) {
        case 0:
        case 11:
        case 14:
        case 15:
        case 22:
          if (null !== (e = t.updateQueue) && null !== (e = e.lastEffect)) {
            var n = e = e.next;
            do {
              var r = n
                , l = r.destroy;
              if (r = r.tag,
                void 0 !== l)
                if (0 != (4 & r))
                  Li(t, n);
                else {
                  r = t;
                  try {
                    l()
                  } catch (e) {
                    Mi(r, e)
                  }
                }
              n = n.next
            } while (n !== e)
          }
          break;
        case 1:
          if (cu(t),
            "function" == typeof (e = t.stateNode).componentWillUnmount)
            try {
              e.props = t.memoizedProps,
                e.state = t.memoizedState,
                e.componentWillUnmount()
            } catch (e) {
              Mi(t, e)
            }
          break;
        case 5:
          cu(t);
          break;
        case 4:
          yu(e, t)
      }
    }
    function mu(e) {
      e.alternate = null,
        e.child = null,
        e.dependencies = null,
        e.firstEffect = null,
        e.lastEffect = null,
        e.memoizedProps = null,
        e.memoizedState = null,
        e.pendingProps = null,
        e.return = null,
        e.updateQueue = null
    }
    function gu(e) {
      return 5 === e.tag || 3 === e.tag || 4 === e.tag
    }
    function vu(e) {
      e: {
        for (var t = e.return; null !== t;) {
          if (gu(t))
            break e;
          t = t.return
        }
        throw Error(o(160))
      }
      var n = t;
      switch (t = n.stateNode,
      n.tag) {
        case 5:
          var r = !1;
          break;
        case 3:
        case 4:
          t = t.containerInfo,
            r = !0;
          break;
        default:
          throw Error(o(161))
      }
      16 & n.flags && (ve(t, ""),
        n.flags &= -17);
      e: t: for (n = e; ;) {
        for (; null === n.sibling;) {
          if (null === n.return || gu(n.return)) {
            n = null;
            break e
          }
          n = n.return
        }
        for (n.sibling.return = n.return,
          n = n.sibling; 5 !== n.tag && 6 !== n.tag && 18 !== n.tag;) {
          if (2 & n.flags)
            continue t;
          if (null === n.child || 4 === n.tag)
            continue t;
          n.child.return = n,
            n = n.child
        }
        if (!(2 & n.flags)) {
          n = n.stateNode;
          break e
        }
      }
      r ? function e(t, n, r) {
        var l = t.tag
          , a = 5 === l || 6 === l;
        if (a)
          t = a ? t.stateNode : t.stateNode.instance,
            n ? 8 === r.nodeType ? r.parentNode.insertBefore(t, n) : r.insertBefore(t, n) : (8 === r.nodeType ? (n = r.parentNode).insertBefore(t, r) : (n = r).appendChild(t),
              null !== (r = r._reactRootContainer) && void 0 !== r || null !== n.onclick || (n.onclick = Dr));
        else if (4 !== l && null !== (t = t.child))
          for (e(t, n, r),
            t = t.sibling; null !== t;)
            e(t, n, r),
              t = t.sibling
      }(e, n, t) : function e(t, n, r) {
        var l = t.tag
          , a = 5 === l || 6 === l;
        if (a)
          t = a ? t.stateNode : t.stateNode.instance,
            n ? r.insertBefore(t, n) : r.appendChild(t);
        else if (4 !== l && null !== (t = t.child))
          for (e(t, n, r),
            t = t.sibling; null !== t;)
            e(t, n, r),
              t = t.sibling
      }(e, n, t)
    }
    function yu(e, t) {
      for (var n, r, l = t, a = !1; ;) {
        if (!a) {
          a = l.return;
          e: for (; ;) {
            if (null === a)
              throw Error(o(160));
            switch (n = a.stateNode,
            a.tag) {
              case 5:
                r = !1;
                break e;
              case 3:
              case 4:
                n = n.containerInfo,
                  r = !0;
                break e
            }
            a = a.return
          }
          a = !0
        }
        if (5 === l.tag || 6 === l.tag) {
          e: for (var u = e, i = l, s = i; ;)
            if (hu(u, s),
              null !== s.child && 4 !== s.tag)
              s.child.return = s,
                s = s.child;
            else {
              if (s === i)
                break e;
              for (; null === s.sibling;) {
                if (null === s.return || s.return === i)
                  break e;
                s = s.return
              }
              s.sibling.return = s.return,
                s = s.sibling
            }
          r ? (u = n,
            i = l.stateNode,
            8 === u.nodeType ? u.parentNode.removeChild(i) : u.removeChild(i)) : n.removeChild(l.stateNode)
        } else if (4 === l.tag) {
          if (null !== l.child) {
            n = l.stateNode.containerInfo,
              r = !0,
              l.child.return = l,
              l = l.child;
            continue
          }
        } else if (hu(e, l),
          null !== l.child) {
          l.child.return = l,
            l = l.child;
          continue
        }
        if (l === t)
          break;
        for (; null === l.sibling;) {
          if (null === l.return || l.return === t)
            return;
          4 === (l = l.return).tag && (a = !1)
        }
        l.sibling.return = l.return,
          l = l.sibling
      }
    }
    function bu(e, t) {
      switch (t.tag) {
        case 0:
        case 11:
        case 14:
        case 15:
        case 22:
          var n = t.updateQueue;
          if (null !== (n = null !== n ? n.lastEffect : null)) {
            var r = n = n.next;
            do {
              3 == (3 & r.tag) && (e = r.destroy,
                r.destroy = void 0,
                void 0 !== e && e()),
                r = r.next
            } while (r !== n)
          }
          return;
        case 1:
          return;
        case 5:
          if (null != (n = t.stateNode)) {
            r = t.memoizedProps;
            var l = null !== e ? e.memoizedProps : r;
            e = t.type;
            var a = t.updateQueue;
            if (t.updateQueue = null,
              null !== a) {
              for (n[Kr] = r,
                "input" === e && "radio" === r.type && null != r.name && te(n, r),
                _e(e, l),
                t = _e(e, r),
                l = 0; l < a.length; l += 2) {
                var u = a[l]
                  , i = a[l + 1];
                "style" === u ? ke(n, i) : "dangerouslySetInnerHTML" === u ? ge(n, i) : "children" === u ? ve(n, i) : w(n, u, i, t)
              }
              switch (e) {
                case "input":
                  ne(n, r);
                  break;
                case "textarea":
                  se(n, r);
                  break;
                case "select":
                  e = n._wrapperState.wasMultiple,
                    n._wrapperState.wasMultiple = !!r.multiple,
                    null != (a = r.value) ? oe(n, !!r.multiple, a, !1) : e !== !!r.multiple && (null != r.defaultValue ? oe(n, !!r.multiple, r.defaultValue, !0) : oe(n, !!r.multiple, r.multiple ? [] : "", !1))
              }
            }
          }
          return;
        case 6:
          if (null === t.stateNode)
            throw Error(o(162));
          return void (t.stateNode.nodeValue = t.memoizedProps);
        case 3:
          return void ((n = t.stateNode).hydrate && (n.hydrate = !1,
            kt(n.containerInfo)));
        case 12:
          return;
        case 13:
          return null !== t.memoizedState && (ju = jl(),
            pu(t.child, !0)),
            void wu(t);
        case 19:
          return void wu(t);
        case 17:
          return;
        case 23:
        case 24:
          return void pu(t, null !== t.memoizedState)
      }
      throw Error(o(163))
    }
    function wu(e) {
      var t = e.updateQueue;
      if (null !== t) {
        e.updateQueue = null;
        var n = e.stateNode;
        null === n && (n = e.stateNode = new su),
          t.forEach((function (t) {
            var r = Di.bind(null, e, t);
            n.has(t) || (n.add(t),
              t.then(r, r))
          }
          ))
      }
    }
    function ku(e, t) {
      return null !== e && (null === (e = e.memoizedState) || null !== e.dehydrated) && (null !== (t = t.memoizedState) && null === t.dehydrated)
    }
    var Eu = Math.ceil
      , Su = k.ReactCurrentDispatcher
      , _u = k.ReactCurrentOwner
      , Cu = 0
      , xu = null
      , Pu = null
      , Nu = 0
      , Tu = 0
      , Lu = ll(0)
      , zu = 0
      , Ou = null
      , Mu = 0
      , Ru = 0
      , Du = 0
      , Iu = 0
      , Fu = null
      , ju = 0
      , Uu = 1 / 0;
    function Au() {
      Uu = jl() + 500
    }
    var Wu, Vu = null, Bu = !1, Qu = null, $u = null, Hu = !1, qu = null, Ku = 90, Yu = [], Xu = [], Gu = null, Ju = 0, Zu = null, ei = -1, ti = 0, ni = 0, ri = null, li = !1;
    function ai() {
      return 0 != (48 & Cu) ? jl() : -1 !== ei ? ei : ei = jl()
    }
    function oi(e) {
      if (0 == (2 & (e = e.mode)))
        return 1;
      if (0 == (4 & e))
        return 99 === Ul() ? 1 : 2;
      if (0 === ti && (ti = Mu),
        0 !== $l.transition) {
        0 !== ni && (ni = null !== Fu ? Fu.pendingLanes : 0),
          e = ti;
        var t = 4186112 & ~ni;
        return 0 === (t &= -t) && (0 === (t = (e = 4186112 & ~e) & -e) && (t = 8192)),
          t
      }
      return e = Ul(),
        0 != (4 & Cu) && 98 === e ? e = Ut(12, ti) : e = Ut(e = function (e) {
          switch (e) {
            case 99:
              return 15;
            case 98:
              return 10;
            case 97:
            case 96:
              return 8;
            case 95:
              return 2;
            default:
              return 0
          }
        }(e), ti),
        e
    }
    function ui(e, t, n) {
      if (50 < Ju)
        throw Ju = 0,
        Zu = null,
        Error(o(185));
      if (null === (e = ii(e, t)))
        return null;
      Vt(e, t, n),
        e === xu && (Du |= t,
          4 === zu && fi(e, Nu));
      var r = Ul();
      1 === t ? 0 != (8 & Cu) && 0 == (48 & Cu) ? di(e) : (si(e, n),
        0 === Cu && (Au(),
          Bl())) : (0 == (4 & Cu) || 98 !== r && 99 !== r || (null === Gu ? Gu = new Set([e]) : Gu.add(e)),
            si(e, n)),
        Fu = e
    }
    function ii(e, t) {
      e.lanes |= t;
      var n = e.alternate;
      for (null !== n && (n.lanes |= t),
        n = e,
        e = e.return; null !== e;)
        e.childLanes |= t,
          null !== (n = e.alternate) && (n.childLanes |= t),
          n = e,
          e = e.return;
      return 3 === n.tag ? n.stateNode : null
    }
    function si(e, t) {
      for (var n = e.callbackNode, r = e.suspendedLanes, l = e.pingedLanes, a = e.expirationTimes, u = e.pendingLanes; 0 < u;) {
        var i = 31 - Bt(u)
          , s = 1 << i
          , c = a[i];
        if (-1 === c) {
          if (0 == (s & r) || 0 != (s & l)) {
            c = t,
              It(s);
            var f = Dt;
            a[i] = 10 <= f ? c + 250 : 6 <= f ? c + 5e3 : -1
          }
        } else
          c <= t && (e.expiredLanes |= s);
        u &= ~s
      }
      if (r = Ft(e, e === xu ? Nu : 0),
        t = Dt,
        0 === r)
        null !== n && (n !== Ol && El(n),
          e.callbackNode = null,
          e.callbackPriority = 0);
      else {
        if (null !== n) {
          if (e.callbackPriority === t)
            return;
          n !== Ol && El(n)
        }
        15 === t ? (n = di.bind(null, e),
          null === Rl ? (Rl = [n],
            Dl = kl(Pl, Ql)) : Rl.push(n),
          n = Ol) : 14 === t ? n = Vl(99, di.bind(null, e)) : n = Vl(n = function (e) {
            switch (e) {
              case 15:
              case 14:
                return 99;
              case 13:
              case 12:
              case 11:
              case 10:
                return 98;
              case 9:
              case 8:
              case 7:
              case 6:
              case 4:
              case 5:
                return 97;
              case 3:
              case 2:
              case 1:
                return 95;
              case 0:
                return 90;
              default:
                throw Error(o(358, e))
            }
          }(t), ci.bind(null, e)),
          e.callbackPriority = t,
          e.callbackNode = n
      }
    }
    function ci(e) {
      if (ei = -1,
        ni = ti = 0,
        0 != (48 & Cu))
        throw Error(o(327));
      var t = e.callbackNode;
      if (Ni() && e.callbackNode !== t)
        return null;
      var n = Ft(e, e === xu ? Nu : 0);
      if (0 === n)
        return null;
      var r = n
        , l = Cu;
      Cu |= 16;
      var a = bi();
      for (xu === e && Nu === r || (Au(),
        vi(e, r)); ;)
        try {
          Ei();
          break
        } catch (t) {
          yi(e, t)
        }
      if (Gl(),
        Su.current = a,
        Cu = l,
        null !== Pu ? r = 0 : (xu = null,
          Nu = 0,
          r = zu),
        0 != (Mu & Du))
        vi(e, 0);
      else if (0 !== r) {
        if (2 === r && (Cu |= 64,
          e.hydrate && (e.hydrate = !1,
            Vr(e.containerInfo)),
          0 !== (n = jt(e)) && (r = wi(e, n))),
          1 === r)
          throw t = Ou,
          vi(e, 0),
          fi(e, n),
          si(e, jl()),
          t;
        switch (e.finishedWork = e.current.alternate,
        e.finishedLanes = n,
        r) {
          case 0:
          case 1:
            throw Error(o(345));
          case 2:
            Ci(e);
            break;
          case 3:
            if (fi(e, n),
              (62914560 & n) === n && 10 < (r = ju + 500 - jl())) {
              if (0 !== Ft(e, 0))
                break;
              if (((l = e.suspendedLanes) & n) !== n) {
                ai(),
                  e.pingedLanes |= e.suspendedLanes & l;
                break
              }
              e.timeoutHandle = Ar(Ci.bind(null, e), r);
              break
            }
            Ci(e);
            break;
          case 4:
            if (fi(e, n),
              (4186112 & n) === n)
              break;
            for (r = e.eventTimes,
              l = -1; 0 < n;) {
              var u = 31 - Bt(n);
              a = 1 << u,
                (u = r[u]) > l && (l = u),
                n &= ~a
            }
            if (n = l,
              10 < (n = (120 > (n = jl() - n) ? 120 : 480 > n ? 480 : 1080 > n ? 1080 : 1920 > n ? 1920 : 3e3 > n ? 3e3 : 4320 > n ? 4320 : 1960 * Eu(n / 1960)) - n)) {
              e.timeoutHandle = Ar(Ci.bind(null, e), n);
              break
            }
            Ci(e);
            break;
          case 5:
            Ci(e);
            break;
          default:
            throw Error(o(329))
        }
      }
      return si(e, jl()),
        e.callbackNode === t ? ci.bind(null, e) : null
    }
    function fi(e, t) {
      for (t &= ~Iu,
        t &= ~Du,
        e.suspendedLanes |= t,
        e.pingedLanes &= ~t,
        e = e.expirationTimes; 0 < t;) {
        var n = 31 - Bt(t)
          , r = 1 << n;
        e[n] = -1,
          t &= ~r
      }
    }
    function di(e) {
      if (0 != (48 & Cu))
        throw Error(o(327));
      if (Ni(),
        e === xu && 0 != (e.expiredLanes & Nu)) {
        var t = Nu
          , n = wi(e, t);
        0 != (Mu & Du) && (n = wi(e, t = Ft(e, t)))
      } else
        n = wi(e, t = Ft(e, 0));
      if (0 !== e.tag && 2 === n && (Cu |= 64,
        e.hydrate && (e.hydrate = !1,
          Vr(e.containerInfo)),
        0 !== (t = jt(e)) && (n = wi(e, t))),
        1 === n)
        throw n = Ou,
        vi(e, 0),
        fi(e, t),
        si(e, jl()),
        n;
      return e.finishedWork = e.current.alternate,
        e.finishedLanes = t,
        Ci(e),
        si(e, jl()),
        null
    }
    function pi(e, t) {
      var n = Cu;
      Cu |= 1;
      try {
        return e(t)
      } finally {
        0 === (Cu = n) && (Au(),
          Bl())
      }
    }
    function hi(e, t) {
      var n = Cu;
      Cu &= -2,
        Cu |= 8;
      try {
        return e(t)
      } finally {
        0 === (Cu = n) && (Au(),
          Bl())
      }
    }
    function mi(e, t) {
      ol(Lu, Tu),
        Tu |= t,
        Mu |= t
    }
    function gi() {
      Tu = Lu.current,
        al(Lu)
    }
    function vi(e, t) {
      e.finishedWork = null,
        e.finishedLanes = 0;
      var n = e.timeoutHandle;
      if (-1 !== n && (e.timeoutHandle = -1,
        Wr(n)),
        null !== Pu)
        for (n = Pu.return; null !== n;) {
          var r = n;
          switch (r.tag) {
            case 1:
              null != (r = r.type.childContextTypes) && pl();
              break;
            case 3:
              Ta(),
                al(sl),
                al(il),
                Qa();
              break;
            case 5:
              za(r);
              break;
            case 4:
              Ta();
              break;
            case 13:
            case 19:
              al(Oa);
              break;
            case 10:
              Jl(r);
              break;
            case 23:
            case 24:
              gi()
          }
          n = n.return
        }
      xu = e,
        Pu = Ui(e.current, null),
        Nu = Tu = Mu = t,
        zu = 0,
        Ou = null,
        Iu = Du = Ru = 0
    }
    function yi(e, t) {
      for (; ;) {
        var n = Pu;
        try {
          if (Gl(),
            $a.current = Po,
            Ga) {
            for (var r = Ka.memoizedState; null !== r;) {
              var l = r.queue;
              null !== l && (l.pending = null),
                r = r.next
            }
            Ga = !1
          }
          if (qa = 0,
            Xa = Ya = Ka = null,
            Ja = !1,
            _u.current = null,
            null === n || null === n.return) {
            zu = 1,
              Ou = t,
              Pu = null;
            break
          }
          e: {
            var a = e
              , o = n.return
              , u = n
              , i = t;
            if (t = Nu,
              u.flags |= 2048,
              u.firstEffect = u.lastEffect = null,
              null !== i && "object" == typeof i && "function" == typeof i.then) {
              var s = i;
              if (0 == (2 & u.mode)) {
                var c = u.alternate;
                c ? (u.updateQueue = c.updateQueue,
                  u.memoizedState = c.memoizedState,
                  u.lanes = c.lanes) : (u.updateQueue = null,
                    u.memoizedState = null)
              }
              var f = 0 != (1 & Oa.current)
                , d = o;
              do {
                var p;
                if (p = 13 === d.tag) {
                  var h = d.memoizedState;
                  if (null !== h)
                    p = null !== h.dehydrated;
                  else {
                    var m = d.memoizedProps;
                    p = void 0 !== m.fallback && (!0 !== m.unstable_avoidThisFallback || !f)
                  }
                }
                if (p) {
                  var g = d.updateQueue;
                  if (null === g) {
                    var v = new Set;
                    v.add(s),
                      d.updateQueue = v
                  } else
                    g.add(s);
                  if (0 == (2 & d.mode)) {
                    if (d.flags |= 64,
                      u.flags |= 16384,
                      u.flags &= -2981,
                      1 === u.tag)
                      if (null === u.alternate)
                        u.tag = 17;
                      else {
                        var y = aa(-1, 1);
                        y.tag = 2,
                          oa(u, y)
                      }
                    u.lanes |= 1;
                    break e
                  }
                  i = void 0,
                    u = t;
                  var b = a.pingCache;
                  if (null === b ? (b = a.pingCache = new ou,
                    i = new Set,
                    b.set(s, i)) : void 0 === (i = b.get(s)) && (i = new Set,
                      b.set(s, i)),
                    !i.has(u)) {
                    i.add(u);
                    var w = Ri.bind(null, a, s, u);
                    s.then(w, w)
                  }
                  d.flags |= 4096,
                    d.lanes = t;
                  break e
                }
                d = d.return
              } while (null !== d);
              i = Error((q(u.type) || "A React component") + " suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")
            }
            5 !== zu && (zu = 2),
              i = lu(i, u),
              d = o;
            do {
              switch (d.tag) {
                case 3:
                  a = i,
                    d.flags |= 4096,
                    t &= -t,
                    d.lanes |= t,
                    ua(d, uu(0, a, t));
                  break e;
                case 1:
                  a = i;
                  var k = d.type
                    , E = d.stateNode;
                  if (0 == (64 & d.flags) && ("function" == typeof k.getDerivedStateFromError || null !== E && "function" == typeof E.componentDidCatch && (null === $u || !$u.has(E)))) {
                    d.flags |= 4096,
                      t &= -t,
                      d.lanes |= t,
                      ua(d, iu(d, a, t));
                    break e
                  }
              }
              d = d.return
            } while (null !== d)
          }
          _i(n)
        } catch (e) {
          t = e,
            Pu === n && null !== n && (Pu = n = n.return);
          continue
        }
        break
      }
    }
    function bi() {
      var e = Su.current;
      return Su.current = Po,
        null === e ? Po : e
    }
    function wi(e, t) {
      var n = Cu;
      Cu |= 16;
      var r = bi();
      for (xu === e && Nu === t || vi(e, t); ;)
        try {
          ki();
          break
        } catch (t) {
          yi(e, t)
        }
      if (Gl(),
        Cu = n,
        Su.current = r,
        null !== Pu)
        throw Error(o(261));
      return xu = null,
        Nu = 0,
        zu
    }
    function ki() {
      for (; null !== Pu;)
        Si(Pu)
    }
    function Ei() {
      for (; null !== Pu && !Sl();)
        Si(Pu)
    }
    function Si(e) {
      var t = Wu(e.alternate, e, Tu);
      e.memoizedProps = e.pendingProps,
        null === t ? _i(e) : Pu = t,
        _u.current = null
    }
    function _i(e) {
      var t = e;
      do {
        var n = t.alternate;
        if (e = t.return,
          0 == (2048 & t.flags)) {
          if (null !== (n = nu(n, t, Tu)))
            return void (Pu = n);
          if (24 !== (n = t).tag && 23 !== n.tag || null === n.memoizedState || 0 != (1073741824 & Tu) || 0 == (4 & n.mode)) {
            for (var r = 0, l = n.child; null !== l;)
              r |= l.lanes | l.childLanes,
                l = l.sibling;
            n.childLanes = r
          }
          null !== e && 0 == (2048 & e.flags) && (null === e.firstEffect && (e.firstEffect = t.firstEffect),
            null !== t.lastEffect && (null !== e.lastEffect && (e.lastEffect.nextEffect = t.firstEffect),
              e.lastEffect = t.lastEffect),
            1 < t.flags && (null !== e.lastEffect ? e.lastEffect.nextEffect = t : e.firstEffect = t,
              e.lastEffect = t))
        } else {
          if (null !== (n = ru(t)))
            return n.flags &= 2047,
              void (Pu = n);
          null !== e && (e.firstEffect = e.lastEffect = null,
            e.flags |= 2048)
        }
        if (null !== (t = t.sibling))
          return void (Pu = t);
        Pu = t = e
      } while (null !== t);
      0 === zu && (zu = 5)
    }
    function Ci(e) {
      var t = Ul();
      return Wl(99, xi.bind(null, e, t)),
        null
    }
    function xi(e, t) {
      do {
        Ni()
      } while (null !== qu);
      if (0 != (48 & Cu))
        throw Error(o(327));
      var n = e.finishedWork;
      if (null === n)
        return null;
      if (e.finishedWork = null,
        e.finishedLanes = 0,
        n === e.current)
        throw Error(o(177));
      e.callbackNode = null;
      var r = n.lanes | n.childLanes
        , l = r
        , a = e.pendingLanes & ~l;
      e.pendingLanes = l,
        e.suspendedLanes = 0,
        e.pingedLanes = 0,
        e.expiredLanes &= l,
        e.mutableReadLanes &= l,
        e.entangledLanes &= l,
        l = e.entanglements;
      for (var u = e.eventTimes, i = e.expirationTimes; 0 < a;) {
        var s = 31 - Bt(a)
          , c = 1 << s;
        l[s] = 0,
          u[s] = -1,
          i[s] = -1,
          a &= ~c
      }
      if (null !== Gu && 0 == (24 & r) && Gu.has(e) && Gu.delete(e),
        e === xu && (Pu = xu = null,
          Nu = 0),
        1 < n.flags ? null !== n.lastEffect ? (n.lastEffect.nextEffect = n,
          r = n.firstEffect) : r = n : r = n.firstEffect,
        null !== r) {
        if (l = Cu,
          Cu |= 32,
          _u.current = null,
          Ir = Kt,
          dr(u = fr())) {
          if ("selectionStart" in u)
            i = {
              start: u.selectionStart,
              end: u.selectionEnd
            };
          else
            e: if (i = (i = u.ownerDocument) && i.defaultView || window,
              (c = i.getSelection && i.getSelection()) && 0 !== c.rangeCount) {
              i = c.anchorNode,
                a = c.anchorOffset,
                s = c.focusNode,
                c = c.focusOffset;
              try {
                i.nodeType,
                  s.nodeType
              } catch (e) {
                i = null;
                break e
              }
              var f = 0
                , d = -1
                , p = -1
                , h = 0
                , m = 0
                , g = u
                , v = null;
              t: for (; ;) {
                for (var y; g !== i || 0 !== a && 3 !== g.nodeType || (d = f + a),
                  g !== s || 0 !== c && 3 !== g.nodeType || (p = f + c),
                  3 === g.nodeType && (f += g.nodeValue.length),
                  null !== (y = g.firstChild);)
                  v = g,
                    g = y;
                for (; ;) {
                  if (g === u)
                    break t;
                  if (v === i && ++h === a && (d = f),
                    v === s && ++m === c && (p = f),
                    null !== (y = g.nextSibling))
                    break;
                  v = (g = v).parentNode
                }
                g = y
              }
              i = -1 === d || -1 === p ? null : {
                start: d,
                end: p
              }
            } else
              i = null;
          i = i || {
            start: 0,
            end: 0
          }
        } else
          i = null;
        Fr = {
          focusedElem: u,
          selectionRange: i
        },
          Kt = !1,
          ri = null,
          li = !1,
          Vu = r;
        do {
          try {
            Pi()
          } catch (e) {
            if (null === Vu)
              throw Error(o(330));
            Mi(Vu, e),
              Vu = Vu.nextEffect
          }
        } while (null !== Vu);
        ri = null,
          Vu = r;
        do {
          try {
            for (u = e; null !== Vu;) {
              var b = Vu.flags;
              if (16 & b && ve(Vu.stateNode, ""),
                128 & b) {
                var w = Vu.alternate;
                if (null !== w) {
                  var k = w.ref;
                  null !== k && ("function" == typeof k ? k(null) : k.current = null)
                }
              }
              switch (1038 & b) {
                case 2:
                  vu(Vu),
                    Vu.flags &= -3;
                  break;
                case 6:
                  vu(Vu),
                    Vu.flags &= -3,
                    bu(Vu.alternate, Vu);
                  break;
                case 1024:
                  Vu.flags &= -1025;
                  break;
                case 1028:
                  Vu.flags &= -1025,
                    bu(Vu.alternate, Vu);
                  break;
                case 4:
                  bu(Vu.alternate, Vu);
                  break;
                case 8:
                  yu(u, i = Vu);
                  var E = i.alternate;
                  mu(i),
                    null !== E && mu(E)
              }
              Vu = Vu.nextEffect
            }
          } catch (e) {
            if (null === Vu)
              throw Error(o(330));
            Mi(Vu, e),
              Vu = Vu.nextEffect
          }
        } while (null !== Vu);
        if (k = Fr,
          w = fr(),
          b = k.focusedElem,
          u = k.selectionRange,
          w !== b && b && b.ownerDocument && function e(t, n) {
            return !(!t || !n) && (t === n || (!t || 3 !== t.nodeType) && (n && 3 === n.nodeType ? e(t, n.parentNode) : "contains" in t ? t.contains(n) : !!t.compareDocumentPosition && !!(16 & t.compareDocumentPosition(n))))
          }(b.ownerDocument.documentElement, b)) {
          null !== u && dr(b) && (w = u.start,
            void 0 === (k = u.end) && (k = w),
            "selectionStart" in b ? (b.selectionStart = w,
              b.selectionEnd = Math.min(k, b.value.length)) : (k = (w = b.ownerDocument || document) && w.defaultView || window).getSelection && (k = k.getSelection(),
                i = b.textContent.length,
                E = Math.min(u.start, i),
                u = void 0 === u.end ? E : Math.min(u.end, i),
                !k.extend && E > u && (i = u,
                  u = E,
                  E = i),
                i = cr(b, E),
                a = cr(b, u),
                i && a && (1 !== k.rangeCount || k.anchorNode !== i.node || k.anchorOffset !== i.offset || k.focusNode !== a.node || k.focusOffset !== a.offset) && ((w = w.createRange()).setStart(i.node, i.offset),
                  k.removeAllRanges(),
                  E > u ? (k.addRange(w),
                    k.extend(a.node, a.offset)) : (w.setEnd(a.node, a.offset),
                      k.addRange(w))))),
            w = [];
          for (k = b; k = k.parentNode;)
            1 === k.nodeType && w.push({
              element: k,
              left: k.scrollLeft,
              top: k.scrollTop
            });
          for ("function" == typeof b.focus && b.focus(),
            b = 0; b < w.length; b++)
            (k = w[b]).element.scrollLeft = k.left,
              k.element.scrollTop = k.top
        }
        Kt = !!Ir,
          Fr = Ir = null,
          e.current = n,
          Vu = r;
        do {
          try {
            for (b = e; null !== Vu;) {
              var S = Vu.flags;
              if (36 & S && du(b, Vu.alternate, Vu),
                128 & S) {
                w = void 0;
                var _ = Vu.ref;
                if (null !== _) {
                  var C = Vu.stateNode;
                  switch (Vu.tag) {
                    case 5:
                      w = C;
                      break;
                    default:
                      w = C
                  }
                  "function" == typeof _ ? _(w) : _.current = w
                }
              }
              Vu = Vu.nextEffect
            }
          } catch (e) {
            if (null === Vu)
              throw Error(o(330));
            Mi(Vu, e),
              Vu = Vu.nextEffect
          }
        } while (null !== Vu);
        Vu = null,
          Ml(),
          Cu = l
      } else
        e.current = n;
      if (Hu)
        Hu = !1,
          qu = e,
          Ku = t;
      else
        for (Vu = r; null !== Vu;)
          t = Vu.nextEffect,
            Vu.nextEffect = null,
            8 & Vu.flags && ((S = Vu).sibling = null,
              S.stateNode = null),
            Vu = t;
      if (0 === (r = e.pendingLanes) && ($u = null),
        1 === r ? e === Zu ? Ju++ : (Ju = 0,
          Zu = e) : Ju = 0,
        n = n.stateNode,
        bl && "function" == typeof bl.onCommitFiberRoot)
        try {
          bl.onCommitFiberRoot(yl, n, void 0, 64 == (64 & n.current.flags))
        } catch (e) { }
      if (si(e, jl()),
        Bu)
        throw Bu = !1,
        e = Qu,
        Qu = null,
        e;
      return 0 != (8 & Cu) || Bl(),
        null
    }
    function Pi() {
      for (; null !== Vu;) {
        var e = Vu.alternate;
        li || null === ri || (0 != (8 & Vu.flags) ? Ze(Vu, ri) && (li = !0) : 13 === Vu.tag && ku(e, Vu) && Ze(Vu, ri) && (li = !0));
        var t = Vu.flags;
        0 != (256 & t) && fu(e, Vu),
          0 == (512 & t) || Hu || (Hu = !0,
            Vl(97, (function () {
              return Ni(),
                null
            }
            ))),
          Vu = Vu.nextEffect
      }
    }
    function Ni() {
      if (90 !== Ku) {
        var e = 97 < Ku ? 97 : Ku;
        return Ku = 90,
          Wl(e, zi)
      }
      return !1
    }
    function Ti(e, t) {
      Yu.push(t, e),
        Hu || (Hu = !0,
          Vl(97, (function () {
            return Ni(),
              null
          }
          )))
    }
    function Li(e, t) {
      Xu.push(t, e),
        Hu || (Hu = !0,
          Vl(97, (function () {
            return Ni(),
              null
          }
          )))
    }
    function zi() {
      if (null === qu)
        return !1;
      var e = qu;
      if (qu = null,
        0 != (48 & Cu))
        throw Error(o(331));
      var t = Cu;
      Cu |= 32;
      var n = Xu;
      Xu = [];
      for (var r = 0; r < n.length; r += 2) {
        var l = n[r]
          , a = n[r + 1]
          , u = l.destroy;
        if (l.destroy = void 0,
          "function" == typeof u)
          try {
            u()
          } catch (e) {
            if (null === a)
              throw Error(o(330));
            Mi(a, e)
          }
      }
      for (n = Yu,
        Yu = [],
        r = 0; r < n.length; r += 2) {
        l = n[r],
          a = n[r + 1];
        try {
          var i = l.create;
          l.destroy = i()
        } catch (e) {
          if (null === a)
            throw Error(o(330));
          Mi(a, e)
        }
      }
      for (i = e.current.firstEffect; null !== i;)
        e = i.nextEffect,
          i.nextEffect = null,
          8 & i.flags && (i.sibling = null,
            i.stateNode = null),
          i = e;
      return Cu = t,
        Bl(),
        !0
    }
    function Oi(e, t, n) {
      oa(e, t = uu(0, t = lu(n, t), 1)),
        t = ai(),
        null !== (e = ii(e, 1)) && (Vt(e, 1, t),
          si(e, t))
    }
    function Mi(e, t) {
      if (3 === e.tag)
        Oi(e, e, t);
      else
        for (var n = e.return; null !== n;) {
          if (3 === n.tag) {
            Oi(n, e, t);
            break
          }
          if (1 === n.tag) {
            var r = n.stateNode;
            if ("function" == typeof n.type.getDerivedStateFromError || "function" == typeof r.componentDidCatch && (null === $u || !$u.has(r))) {
              var l = iu(n, e = lu(t, e), 1);
              if (oa(n, l),
                l = ai(),
                null !== (n = ii(n, 1)))
                Vt(n, 1, l),
                  si(n, l);
              else if ("function" == typeof r.componentDidCatch && (null === $u || !$u.has(r)))
                try {
                  r.componentDidCatch(t, e)
                } catch (e) { }
              break
            }
          }
          n = n.return
        }
    }
    function Ri(e, t, n) {
      var r = e.pingCache;
      null !== r && r.delete(t),
        t = ai(),
        e.pingedLanes |= e.suspendedLanes & n,
        xu === e && (Nu & n) === n && (4 === zu || 3 === zu && (62914560 & Nu) === Nu && 500 > jl() - ju ? vi(e, 0) : Iu |= n),
        si(e, t)
    }
    function Di(e, t) {
      var n = e.stateNode;
      null !== n && n.delete(t),
        0 === (t = 0) && (0 == (2 & (t = e.mode)) ? t = 1 : 0 == (4 & t) ? t = 99 === Ul() ? 1 : 2 : (0 === ti && (ti = Mu),
          0 === (t = At(62914560 & ~ti)) && (t = 4194304))),
        n = ai(),
        null !== (e = ii(e, t)) && (Vt(e, t, n),
          si(e, n))
    }
    function Ii(e, t, n, r) {
      this.tag = e,
        this.key = n,
        this.sibling = this.child = this.return = this.stateNode = this.type = this.elementType = null,
        this.index = 0,
        this.ref = null,
        this.pendingProps = t,
        this.dependencies = this.memoizedState = this.updateQueue = this.memoizedProps = null,
        this.mode = r,
        this.flags = 0,
        this.lastEffect = this.firstEffect = this.nextEffect = null,
        this.childLanes = this.lanes = 0,
        this.alternate = null
    }
    function Fi(e, t, n, r) {
      return new Ii(e, t, n, r)
    }
    function ji(e) {
      return !(!(e = e.prototype) || !e.isReactComponent)
    }
    function Ui(e, t) {
      var n = e.alternate;
      return null === n ? ((n = Fi(e.tag, t, e.key, e.mode)).elementType = e.elementType,
        n.type = e.type,
        n.stateNode = e.stateNode,
        n.alternate = e,
        e.alternate = n) : (n.pendingProps = t,
          n.type = e.type,
          n.flags = 0,
          n.nextEffect = null,
          n.firstEffect = null,
          n.lastEffect = null),
        n.childLanes = e.childLanes,
        n.lanes = e.lanes,
        n.child = e.child,
        n.memoizedProps = e.memoizedProps,
        n.memoizedState = e.memoizedState,
        n.updateQueue = e.updateQueue,
        t = e.dependencies,
        n.dependencies = null === t ? null : {
          lanes: t.lanes,
          firstContext: t.firstContext
        },
        n.sibling = e.sibling,
        n.index = e.index,
        n.ref = e.ref,
        n
    }
    function Ai(e, t, n, r, l, a) {
      var u = 2;
      if (r = e,
        "function" == typeof e)
        ji(e) && (u = 1);
      else if ("string" == typeof e)
        u = 5;
      else
        e: switch (e) {
          case _:
            return Wi(n.children, l, a, t);
          case I:
            u = 8,
              l |= 16;
            break;
          case C:
            u = 8,
              l |= 1;
            break;
          case x:
            return (e = Fi(12, n, t, 8 | l)).elementType = x,
              e.type = x,
              e.lanes = a,
              e;
          case L:
            return (e = Fi(13, n, t, l)).type = L,
              e.elementType = L,
              e.lanes = a,
              e;
          case z:
            return (e = Fi(19, n, t, l)).elementType = z,
              e.lanes = a,
              e;
          case F:
            return Vi(n, l, a, t);
          case j:
            return (e = Fi(24, n, t, l)).elementType = j,
              e.lanes = a,
              e;
          default:
            if ("object" == typeof e && null !== e)
              switch (e.$$typeof) {
                case P:
                  u = 10;
                  break e;
                case N:
                  u = 9;
                  break e;
                case T:
                  u = 11;
                  break e;
                case O:
                  u = 14;
                  break e;
                case M:
                  u = 16,
                    r = null;
                  break e;
                case R:
                  u = 22;
                  break e
              }
            throw Error(o(130, null == e ? e : typeof e, ""))
        }
      return (t = Fi(u, n, t, l)).elementType = e,
        t.type = r,
        t.lanes = a,
        t
    }
    function Wi(e, t, n, r) {
      return (e = Fi(7, e, r, t)).lanes = n,
        e
    }
    function Vi(e, t, n, r) {
      return (e = Fi(23, e, r, t)).elementType = F,
        e.lanes = n,
        e
    }
    function Bi(e, t, n) {
      return (e = Fi(6, e, null, t)).lanes = n,
        e
    }
    function Qi(e, t, n) {
      return (t = Fi(4, null !== e.children ? e.children : [], e.key, t)).lanes = n,
        t.stateNode = {
          containerInfo: e.containerInfo,
          pendingChildren: null,
          implementation: e.implementation
        },
        t
    }
    function $i(e, t, n) {
      this.tag = t,
        this.containerInfo = e,
        this.finishedWork = this.pingCache = this.current = this.pendingChildren = null,
        this.timeoutHandle = -1,
        this.pendingContext = this.context = null,
        this.hydrate = n,
        this.callbackNode = null,
        this.callbackPriority = 0,
        this.eventTimes = Wt(0),
        this.expirationTimes = Wt(-1),
        this.entangledLanes = this.finishedLanes = this.mutableReadLanes = this.expiredLanes = this.pingedLanes = this.suspendedLanes = this.pendingLanes = 0,
        this.entanglements = Wt(0),
        this.mutableSourceEagerHydrationData = null
    }
    function Hi(e, t, n) {
      var r = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null;
      return {
        $$typeof: S,
        key: null == r ? null : "" + r,
        children: e,
        containerInfo: t,
        implementation: n
      }
    }
    function qi(e, t, n, r) {
      var l = t.current
        , a = ai()
        , u = oi(l);
      e: if (n) {
        t: {
          if (Ye(n = n._reactInternals) !== n || 1 !== n.tag)
            throw Error(o(170));
          var i = n;
          do {
            switch (i.tag) {
              case 3:
                i = i.stateNode.context;
                break t;
              case 1:
                if (dl(i.type)) {
                  i = i.stateNode.__reactInternalMemoizedMergedChildContext;
                  break t
                }
            }
            i = i.return
          } while (null !== i);
          throw Error(o(171))
        }
        if (1 === n.tag) {
          var s = n.type;
          if (dl(s)) {
            n = ml(n, s, i);
            break e
          }
        }
        n = i
      } else
        n = ul;
      return null === t.context ? t.context = n : t.pendingContext = n,
        (t = aa(a, u)).payload = {
          element: e
        },
        null !== (r = void 0 === r ? null : r) && (t.callback = r),
        oa(l, t),
        ui(l, u, a),
        u
    }
    function Ki(e) {
      if (!(e = e.current).child)
        return null;
      switch (e.child.tag) {
        case 5:
        default:
          return e.child.stateNode
      }
    }
    function Yi(e, t) {
      if (null !== (e = e.memoizedState) && null !== e.dehydrated) {
        var n = e.retryLane;
        e.retryLane = 0 !== n && n < t ? n : t
      }
    }
    function Xi(e, t) {
      Yi(e, t),
        (e = e.alternate) && Yi(e, t)
    }
    function Gi(e, t, n) {
      var r = null != n && null != n.hydrationOptions && n.hydrationOptions.mutableSources || null;
      if (n = new $i(e, t, null != n && !0 === n.hydrate),
        t = Fi(3, null, null, 2 === t ? 7 : 1 === t ? 3 : 0),
        n.current = t,
        t.stateNode = n,
        ra(t),
        e[Yr] = n.current,
        Pr(8 === e.nodeType ? e.parentNode : e),
        r)
        for (e = 0; e < r.length; e++) {
          var l = (t = r[e])._getVersion;
          l = l(t._source),
            null == n.mutableSourceEagerHydrationData ? n.mutableSourceEagerHydrationData = [t, l] : n.mutableSourceEagerHydrationData.push(t, l)
        }
      this._internalRoot = n
    }
    function Ji(e) {
      return !(!e || 1 !== e.nodeType && 9 !== e.nodeType && 11 !== e.nodeType && (8 !== e.nodeType || " react-mount-point-unstable " !== e.nodeValue))
    }
    function Zi(e, t, n, r, l) {
      var a = n._reactRootContainer;
      if (a) {
        var o = a._internalRoot;
        if ("function" == typeof l) {
          var u = l;
          l = function () {
            var e = Ki(o);
            u.call(e)
          }
        }
        qi(t, o, e, l)
      } else {
        if (a = n._reactRootContainer = function (e, t) {
          if (t || (t = !(!(t = e ? 9 === e.nodeType ? e.documentElement : e.firstChild : null) || 1 !== t.nodeType || !t.hasAttribute("data-reactroot"))),
            !t)
            for (var n; n = e.lastChild;)
              e.removeChild(n);
          return new Gi(e, 0, t ? {
            hydrate: !0
          } : void 0)
        }(n, r),
          o = a._internalRoot,
          "function" == typeof l) {
          var i = l;
          l = function () {
            var e = Ki(o);
            i.call(e)
          }
        }
        hi((function () {
          qi(t, o, e, l)
        }
        ))
      }
      return Ki(o)
    }
    function es(e, t) {
      var n = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null;
      if (!Ji(t))
        throw Error(o(200));
      return Hi(e, t, null, n)
    }
    Wu = function (e, t, n) {
      var r = t.lanes;
      if (null !== e)
        if (e.memoizedProps !== t.pendingProps || sl.current)
          Oo = !0;
        else {
          if (0 == (n & r)) {
            switch (Oo = !1,
            t.tag) {
              case 3:
                Vo(t),
                  Va();
                break;
              case 5:
                La(t);
                break;
              case 1:
                dl(t.type) && gl(t);
                break;
              case 4:
                Na(t, t.stateNode.containerInfo);
                break;
              case 10:
                r = t.memoizedProps.value;
                var l = t.type._context;
                ol(ql, l._currentValue),
                  l._currentValue = r;
                break;
              case 13:
                if (null !== t.memoizedState)
                  return 0 != (n & t.child.childLanes) ? qo(e, t, n) : (ol(Oa, 1 & Oa.current),
                    null !== (t = eu(e, t, n)) ? t.sibling : null);
                ol(Oa, 1 & Oa.current);
                break;
              case 19:
                if (r = 0 != (n & t.childLanes),
                  0 != (64 & e.flags)) {
                  if (r)
                    return Zo(e, t, n);
                  t.flags |= 64
                }
                if (null !== (l = t.memoizedState) && (l.rendering = null,
                  l.tail = null,
                  l.lastEffect = null),
                  ol(Oa, Oa.current),
                  r)
                  break;
                return null;
              case 23:
              case 24:
                return t.lanes = 0,
                  Fo(e, t, n)
            }
            return eu(e, t, n)
          }
          Oo = 0 != (16384 & e.flags)
        }
      else
        Oo = !1;
      switch (t.lanes = 0,
      t.tag) {
        case 2:
          if (r = t.type,
            null !== e && (e.alternate = null,
              t.alternate = null,
              t.flags |= 2),
            e = t.pendingProps,
            l = fl(t, il.current),
            ea(t, n),
            l = to(null, t, r, e, l, n),
            t.flags |= 1,
            "object" == typeof l && null !== l && "function" == typeof l.render && void 0 === l.$$typeof) {
            if (t.tag = 1,
              t.memoizedState = null,
              t.updateQueue = null,
              dl(r)) {
              var a = !0;
              gl(t)
            } else
              a = !1;
            t.memoizedState = null !== l.state && void 0 !== l.state ? l.state : null,
              ra(t);
            var u = r.getDerivedStateFromProps;
            "function" == typeof u && fa(t, r, u, e),
              l.updater = da,
              t.stateNode = l,
              l._reactInternals = t,
              ga(t, r, e, n),
              t = Wo(null, t, r, !0, a, n)
          } else
            t.tag = 0,
              Mo(null, t, l, n),
              t = t.child;
          return t;
        case 16:
          l = t.elementType;
          e: {
            switch (null !== e && (e.alternate = null,
              t.alternate = null,
              t.flags |= 2),
            e = t.pendingProps,
            l = (a = l._init)(l._payload),
            t.type = l,
            a = t.tag = function (e) {
              if ("function" == typeof e)
                return ji(e) ? 1 : 0;
              if (null != e) {
                if ((e = e.$$typeof) === T)
                  return 11;
                if (e === O)
                  return 14
              }
              return 2
            }(l),
            e = Hl(l, e),
            a) {
              case 0:
                t = Uo(null, t, l, e, n);
                break e;
              case 1:
                t = Ao(null, t, l, e, n);
                break e;
              case 11:
                t = Ro(null, t, l, e, n);
                break e;
              case 14:
                t = Do(null, t, l, Hl(l.type, e), r, n);
                break e
            }
            throw Error(o(306, l, ""))
          }
          return t;
        case 0:
          return r = t.type,
            l = t.pendingProps,
            Uo(e, t, r, l = t.elementType === r ? l : Hl(r, l), n);
        case 1:
          return r = t.type,
            l = t.pendingProps,
            Ao(e, t, r, l = t.elementType === r ? l : Hl(r, l), n);
        case 3:
          if (Vo(t),
            r = t.updateQueue,
            null === e || null === r)
            throw Error(o(282));
          if (r = t.pendingProps,
            l = null !== (l = t.memoizedState) ? l.element : null,
            la(e, t),
            ia(t, r, null, n),
            (r = t.memoizedState.element) === l)
            Va(),
              t = eu(e, t, n);
          else {
            if ((a = (l = t.stateNode).hydrate) && (Da = Br(t.stateNode.containerInfo.firstChild),
              Ra = t,
              a = Ia = !0),
              a) {
              if (null != (e = l.mutableSourceEagerHydrationData))
                for (l = 0; l < e.length; l += 2)
                  (a = e[l])._workInProgressVersionPrimary = e[l + 1],
                    Ba.push(a);
              for (n = Ea(t, null, r, n),
                t.child = n; n;)
                n.flags = -3 & n.flags | 1024,
                  n = n.sibling
            } else
              Mo(e, t, r, n),
                Va();
            t = t.child
          }
          return t;
        case 5:
          return La(t),
            null === e && Ua(t),
            r = t.type,
            l = t.pendingProps,
            a = null !== e ? e.memoizedProps : null,
            u = l.children,
            Ur(r, l) ? u = null : null !== a && Ur(r, a) && (t.flags |= 16),
            jo(e, t),
            Mo(e, t, u, n),
            t.child;
        case 6:
          return null === e && Ua(t),
            null;
        case 13:
          return qo(e, t, n);
        case 4:
          return Na(t, t.stateNode.containerInfo),
            r = t.pendingProps,
            null === e ? t.child = ka(t, null, r, n) : Mo(e, t, r, n),
            t.child;
        case 11:
          return r = t.type,
            l = t.pendingProps,
            Ro(e, t, r, l = t.elementType === r ? l : Hl(r, l), n);
        case 7:
          return Mo(e, t, t.pendingProps, n),
            t.child;
        case 8:
        case 12:
          return Mo(e, t, t.pendingProps.children, n),
            t.child;
        case 10:
          e: {
            r = t.type._context,
              l = t.pendingProps,
              u = t.memoizedProps,
              a = l.value;
            var i = t.type._context;
            if (ol(ql, i._currentValue),
              i._currentValue = a,
              null !== u)
              if (i = u.value,
                0 === (a = or(i, a) ? 0 : 0 | ("function" == typeof r._calculateChangedBits ? r._calculateChangedBits(i, a) : 1073741823))) {
                if (u.children === l.children && !sl.current) {
                  t = eu(e, t, n);
                  break e
                }
              } else
                for (null !== (i = t.child) && (i.return = t); null !== i;) {
                  var s = i.dependencies;
                  if (null !== s) {
                    u = i.child;
                    for (var c = s.firstContext; null !== c;) {
                      if (c.context === r && 0 != (c.observedBits & a)) {
                        1 === i.tag && ((c = aa(-1, n & -n)).tag = 2,
                          oa(i, c)),
                          i.lanes |= n,
                          null !== (c = i.alternate) && (c.lanes |= n),
                          Zl(i.return, n),
                          s.lanes |= n;
                        break
                      }
                      c = c.next
                    }
                  } else
                    u = 10 === i.tag && i.type === t.type ? null : i.child;
                  if (null !== u)
                    u.return = i;
                  else
                    for (u = i; null !== u;) {
                      if (u === t) {
                        u = null;
                        break
                      }
                      if (null !== (i = u.sibling)) {
                        i.return = u.return,
                          u = i;
                        break
                      }
                      u = u.return
                    }
                  i = u
                }
            Mo(e, t, l.children, n),
              t = t.child
          }
          return t;
        case 9:
          return l = t.type,
            r = (a = t.pendingProps).children,
            ea(t, n),
            r = r(l = ta(l, a.unstable_observedBits)),
            t.flags |= 1,
            Mo(e, t, r, n),
            t.child;
        case 14:
          return a = Hl(l = t.type, t.pendingProps),
            Do(e, t, l, a = Hl(l.type, a), r, n);
        case 15:
          return Io(e, t, t.type, t.pendingProps, r, n);
        case 17:
          return r = t.type,
            l = t.pendingProps,
            l = t.elementType === r ? l : Hl(r, l),
            null !== e && (e.alternate = null,
              t.alternate = null,
              t.flags |= 2),
            t.tag = 1,
            dl(r) ? (e = !0,
              gl(t)) : e = !1,
            ea(t, n),
            ha(t, r, l),
            ga(t, r, l, n),
            Wo(null, t, r, !0, e, n);
        case 19:
          return Zo(e, t, n);
        case 23:
        case 24:
          return Fo(e, t, n)
      }
      throw Error(o(156, t.tag))
    }
      ,
      Gi.prototype.render = function (e) {
        qi(e, this._internalRoot, null, null)
      }
      ,
      Gi.prototype.unmount = function () {
        var e = this._internalRoot
          , t = e.containerInfo;
        qi(null, e, null, (function () {
          t[Yr] = null
        }
        ))
      }
      ,
      et = function (e) {
        13 === e.tag && (ui(e, 4, ai()),
          Xi(e, 4))
      }
      ,
      tt = function (e) {
        13 === e.tag && (ui(e, 67108864, ai()),
          Xi(e, 67108864))
      }
      ,
      nt = function (e) {
        if (13 === e.tag) {
          var t = ai()
            , n = oi(e);
          ui(e, n, t),
            Xi(e, n)
        }
      }
      ,
      rt = function (e, t) {
        return t()
      }
      ,
      xe = function (e, t, n) {
        switch (t) {
          case "input":
            if (ne(e, n),
              t = n.name,
              "radio" === n.type && null != t) {
              for (n = e; n.parentNode;)
                n = n.parentNode;
              for (n = n.querySelectorAll("input[name=" + JSON.stringify("" + t) + '][type="radio"]'),
                t = 0; t < n.length; t++) {
                var r = n[t];
                if (r !== e && r.form === e.form) {
                  var l = el(r);
                  if (!l)
                    throw Error(o(90));
                  G(r),
                    ne(r, l)
                }
              }
            }
            break;
          case "textarea":
            se(e, n);
            break;
          case "select":
            null != (t = n.value) && oe(e, !!n.multiple, t, !1)
        }
      }
      ,
      Oe = pi,
      Me = function (e, t, n, r, l) {
        var a = Cu;
        Cu |= 4;
        try {
          return Wl(98, e.bind(null, t, n, r, l))
        } finally {
          0 === (Cu = a) && (Au(),
            Bl())
        }
      }
      ,
      Re = function () {
        0 == (49 & Cu) && (function () {
          if (null !== Gu) {
            var e = Gu;
            Gu = null,
              e.forEach((function (e) {
                e.expiredLanes |= 24 & e.pendingLanes,
                  si(e, jl())
              }
              ))
          }
          Bl()
        }(),
          Ni())
      }
      ,
      De = function (e, t) {
        var n = Cu;
        Cu |= 2;
        try {
          return e(t)
        } finally {
          0 === (Cu = n) && (Au(),
            Bl())
        }
      }
      ;
    var ts = {
      Events: [Jr, Zr, el, Le, ze, Ni, {
        current: !1
      }]
    }
      , ns = {
        findFiberByHostInstance: Gr,
        bundleType: 0,
        version: "17.0.2",
        rendererPackageName: "react-dom"
      }
      , rs = {
        bundleType: ns.bundleType,
        version: ns.version,
        rendererPackageName: ns.rendererPackageName,
        rendererConfig: ns.rendererConfig,
        overrideHookState: null,
        overrideHookStateDeletePath: null,
        overrideHookStateRenamePath: null,
        overrideProps: null,
        overridePropsDeletePath: null,
        overridePropsRenamePath: null,
        setSuspenseHandler: null,
        scheduleUpdate: null,
        currentDispatcherRef: k.ReactCurrentDispatcher,
        findHostInstanceByFiber: function (e) {
          return null === (e = Je(e)) ? null : e.stateNode
        },
        findFiberByHostInstance: ns.findFiberByHostInstance || function () {
          return null
        }
        ,
        findHostInstancesForRefresh: null,
        scheduleRefresh: null,
        scheduleRoot: null,
        setRefreshHandler: null,
        getCurrentFiber: null
      };
    if ("undefined" != typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {
      var ls = __REACT_DEVTOOLS_GLOBAL_HOOK__;
      if (!ls.isDisabled && ls.supportsFiber)
        try {
          yl = ls.inject(rs),
            bl = ls
        } catch (e) { }
    }
    n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = ts,
      n.createPortal = es,
      n.findDOMNode = function (e) {
        if (null == e)
          return null;
        if (1 === e.nodeType)
          return e;
        var t = e._reactInternals;
        if (void 0 === t) {
          if ("function" == typeof e.render)
            throw Error(o(188));
          throw Error(o(268, Object.keys(e)))
        }
        return e = null === (e = Je(t)) ? null : e.stateNode
      }
      ,
      n.flushSync = function (e, t) {
        var n = Cu;
        if (0 != (48 & n))
          return e(t);
        Cu |= 1;
        try {
          if (e)
            return Wl(99, e.bind(null, t))
        } finally {
          Cu = n,
            Bl()
        }
      }
      ,
      n.hydrate = function (e, t, n) {
        if (!Ji(t))
          throw Error(o(200));
        return Zi(null, e, t, !0, n)
      }
      ,
      n.render = function (e, t, n) {
        if (!Ji(t))
          throw Error(o(200));
        return Zi(null, e, t, !1, n)
      }
      ,
      n.unmountComponentAtNode = function (e) {
        if (!Ji(e))
          throw Error(o(40));
        return !!e._reactRootContainer && (hi((function () {
          Zi(null, null, e, !1, (function () {
            e._reactRootContainer = null,
              e[Yr] = null
          }
          ))
        }
        )),
          !0)
      }
      ,
      n.unstable_batchedUpdates = pi,
      n.unstable_createPortal = function (e, t) {
        return es(e, t, 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null)
      }
      ,
      n.unstable_renderSubtreeIntoContainer = function (e, t, n, r) {
        if (!Ji(n))
          throw Error(o(200));
        if (null == e || void 0 === e._reactInternals)
          throw Error(o(38));
        return Zi(e, t, n, !1, r)
      }
      ,
      n.version = "17.0.2"
  }
    , {
    "object-assign": 5,
    react: 11,
    scheduler: 16
  }],
  8: [function (e, t, n) {
    "use strict";
    !function e() {
      if ("undefined" != typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ && "function" == typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE) {
        0;
        try {
          __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)
        } catch (e) {
          console.error(e)
        }
      }
    }(),
      t.exports = e("./cjs/react-dom.production.min.js")
  }
    , {
    "./cjs/react-dom.development.js": 6,
    "./cjs/react-dom.production.min.js": 7
  }],
  9: [function (e, t, n) {
    /** @license React v17.0.2
* react.development.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/
    "use strict"
  }
    , {
    "object-assign": 5
  }],
  10: [function (e, t, n) {
    /** @license React v17.0.2
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/
    "use strict";
    var r = e("object-assign")
      , l = 60103
      , a = 60106;
    n.Fragment = 60107,
      n.StrictMode = 60108,
      n.Profiler = 60114;
    var o = 60109
      , u = 60110
      , i = 60112;
    n.Suspense = 60113;
    var s = 60115
      , c = 60116;
    if ("function" == typeof Symbol && Symbol.for) {
      var f = Symbol.for;
      l = f("react.element"),
        a = f("react.portal"),
        n.Fragment = f("react.fragment"),
        n.StrictMode = f("react.strict_mode"),
        n.Profiler = f("react.profiler"),
        o = f("react.provider"),
        u = f("react.context"),
        i = f("react.forward_ref"),
        n.Suspense = f("react.suspense"),
        s = f("react.memo"),
        c = f("react.lazy")
    }
    var d = "function" == typeof Symbol && Symbol.iterator;
    function p(e) {
      for (var t = "https://reactjs.org/docs/error-decoder.html?invariant=" + e, n = 1; n < arguments.length; n++)
        t += "&args[]=" + encodeURIComponent(arguments[n]);
      return "Minified React error #" + e + "; visit " + t + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings."
    }
    var h = {
      isMounted: function () {
        return !1
      },
      enqueueForceUpdate: function () { },
      enqueueReplaceState: function () { },
      enqueueSetState: function () { }
    }
      , m = {};
    function g(e, t, n) {
      this.props = e,
        this.context = t,
        this.refs = m,
        this.updater = n || h
    }
    function v() { }
    function y(e, t, n) {
      this.props = e,
        this.context = t,
        this.refs = m,
        this.updater = n || h
    }
    g.prototype.isReactComponent = {},
      g.prototype.setState = function (e, t) {
        if ("object" != typeof e && "function" != typeof e && null != e)
          throw Error(p(85));
        this.updater.enqueueSetState(this, e, t, "setState")
      }
      ,
      g.prototype.forceUpdate = function (e) {
        this.updater.enqueueForceUpdate(this, e, "forceUpdate")
      }
      ,
      v.prototype = g.prototype;
    var b = y.prototype = new v;
    b.constructor = y,
      r(b, g.prototype),
      b.isPureReactComponent = !0;
    var w = {
      current: null
    }
      , k = Object.prototype.hasOwnProperty
      , E = {
        key: !0,
        ref: !0,
        __self: !0,
        __source: !0
      };
    function S(e, t, n) {
      var r, a = {}, o = null, u = null;
      if (null != t)
        for (r in void 0 !== t.ref && (u = t.ref),
          void 0 !== t.key && (o = "" + t.key),
          t)
          k.call(t, r) && !E.hasOwnProperty(r) && (a[r] = t[r]);
      var i = arguments.length - 2;
      if (1 === i)
        a.children = n;
      else if (1 < i) {
        for (var s = Array(i), c = 0; c < i; c++)
          s[c] = arguments[c + 2];
        a.children = s
      }
      if (e && e.defaultProps)
        for (r in i = e.defaultProps)
          void 0 === a[r] && (a[r] = i[r]);
      return {
        $$typeof: l,
        type: e,
        key: o,
        ref: u,
        props: a,
        _owner: w.current
      }
    }
    function _(e) {
      return "object" == typeof e && null !== e && e.$$typeof === l
    }
    var C = /\/+/g;
    function x(e, t) {
      return "object" == typeof e && null !== e && null != e.key ? function (e) {
        var t = {
          "=": "=0",
          ":": "=2"
        };
        return "$" + e.replace(/[=:]/g, (function (e) {
          return t[e]
        }
        ))
      }("" + e.key) : t.toString(36)
    }
    function P(e, t, n, r, o) {
      var u = typeof e;
      "undefined" !== u && "boolean" !== u || (e = null);
      var i = !1;
      if (null === e)
        i = !0;
      else
        switch (u) {
          case "string":
          case "number":
            i = !0;
            break;
          case "object":
            switch (e.$$typeof) {
              case l:
              case a:
                i = !0
            }
        }
      if (i)
        return o = o(i = e),
          e = "" === r ? "." + x(i, 0) : r,
          Array.isArray(o) ? (n = "",
            null != e && (n = e.replace(C, "$&/") + "/"),
            P(o, t, n, "", (function (e) {
              return e
            }
            ))) : null != o && (_(o) && (o = function (e, t) {
              return {
                $$typeof: l,
                type: e.type,
                key: t,
                ref: e.ref,
                props: e.props,
                _owner: e._owner
              }
            }(o, n + (!o.key || i && i.key === o.key ? "" : ("" + o.key).replace(C, "$&/") + "/") + e)),
              t.push(o)),
          1;
      if (i = 0,
        r = "" === r ? "." : r + ":",
        Array.isArray(e))
        for (var s = 0; s < e.length; s++) {
          var c = r + x(u = e[s], s);
          i += P(u, t, n, c, o)
        }
      else if ("function" == typeof (c = function (e) {
        return null === e || "object" != typeof e ? null : "function" == typeof (e = d && e[d] || e["@@iterator"]) ? e : null
      }(e)))
        for (e = c.call(e),
          s = 0; !(u = e.next()).done;)
          i += P(u = u.value, t, n, c = r + x(u, s++), o);
      else if ("object" === u)
        throw t = "" + e,
        Error(p(31, "[object Object]" === t ? "object with keys {" + Object.keys(e).join(", ") + "}" : t));
      return i
    }
    function N(e, t, n) {
      if (null == e)
        return e;
      var r = []
        , l = 0;
      return P(e, r, "", "", (function (e) {
        return t.call(n, e, l++)
      }
      )),
        r
    }
    function T(e) {
      if (-1 === e._status) {
        var t = e._result;
        t = t(),
          e._status = 0,
          e._result = t,
          t.then((function (t) {
            0 === e._status && (t = t.default,
              e._status = 1,
              e._result = t)
          }
          ), (function (t) {
            0 === e._status && (e._status = 2,
              e._result = t)
          }
          ))
      }
      if (1 === e._status)
        return e._result;
      throw e._result
    }
    var L = {
      current: null
    };
    function z() {
      var e = L.current;
      if (null === e)
        throw Error(p(321));
      return e
    }
    var O = {
      ReactCurrentDispatcher: L,
      ReactCurrentBatchConfig: {
        transition: 0
      },
      ReactCurrentOwner: w,
      IsSomeRendererActing: {
        current: !1
      },
      assign: r
    };
    n.Children = {
      map: N,
      forEach: function (e, t, n) {
        N(e, (function () {
          t.apply(this, arguments)
        }
        ), n)
      },
      count: function (e) {
        var t = 0;
        return N(e, (function () {
          t++
        }
        )),
          t
      },
      toArray: function (e) {
        return N(e, (function (e) {
          return e
        }
        )) || []
      },
      only: function (e) {
        if (!_(e))
          throw Error(p(143));
        return e
      }
    },
      n.Component = g,
      n.PureComponent = y,
      n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = O,
      n.cloneElement = function (e, t, n) {
        if (null == e)
          throw Error(p(267, e));
        var a = r({}, e.props)
          , o = e.key
          , u = e.ref
          , i = e._owner;
        if (null != t) {
          if (void 0 !== t.ref && (u = t.ref,
            i = w.current),
            void 0 !== t.key && (o = "" + t.key),
            e.type && e.type.defaultProps)
            var s = e.type.defaultProps;
          for (c in t)
            k.call(t, c) && !E.hasOwnProperty(c) && (a[c] = void 0 === t[c] && void 0 !== s ? s[c] : t[c])
        }
        var c = arguments.length - 2;
        if (1 === c)
          a.children = n;
        else if (1 < c) {
          s = Array(c);
          for (var f = 0; f < c; f++)
            s[f] = arguments[f + 2];
          a.children = s
        }
        return {
          $$typeof: l,
          type: e.type,
          key: o,
          ref: u,
          props: a,
          _owner: i
        }
      }
      ,
      n.createContext = function (e, t) {
        return void 0 === t && (t = null),
          (e = {
            $$typeof: u,
            _calculateChangedBits: t,
            _currentValue: e,
            _currentValue2: e,
            _threadCount: 0,
            Provider: null,
            Consumer: null
          }).Provider = {
            $$typeof: o,
            _context: e
          },
          e.Consumer = e
      }
      ,
      n.createElement = S,
      n.createFactory = function (e) {
        var t = S.bind(null, e);
        return t.type = e,
          t
      }
      ,
      n.createRef = function () {
        return {
          current: null
        }
      }
      ,
      n.forwardRef = function (e) {
        return {
          $$typeof: i,
          render: e
        }
      }
      ,
      n.isValidElement = _,
      n.lazy = function (e) {
        return {
          $$typeof: c,
          _payload: {
            _status: -1,
            _result: e
          },
          _init: T
        }
      }
      ,
      n.memo = function (e, t) {
        return {
          $$typeof: s,
          type: e,
          compare: void 0 === t ? null : t
        }
      }
      ,
      n.useCallback = function (e, t) {
        return z().useCallback(e, t)
      }
      ,
      n.useContext = function (e, t) {
        return z().useContext(e, t)
      }
      ,
      n.useDebugValue = function () { }
      ,
      n.useEffect = function (e, t) {
        return z().useEffect(e, t)
      }
      ,
      n.useImperativeHandle = function (e, t, n) {
        return z().useImperativeHandle(e, t, n)
      }
      ,
      n.useLayoutEffect = function (e, t) {
        return z().useLayoutEffect(e, t)
      }
      ,
      n.useMemo = function (e, t) {
        return z().useMemo(e, t)
      }
      ,
      n.useReducer = function (e, t, n) {
        return z().useReducer(e, t, n)
      }
      ,
      n.useRef = function (e) {
        return z().useRef(e)
      }
      ,
      n.useState = function (e) {
        return z().useState(e)
      }
      ,
      n.version = "17.0.2"
  }
    , {
    "object-assign": 5
  }],
  11: [function (e, t, n) {
    "use strict";
    t.exports = e("./cjs/react.production.min.js")
  }
    , {
    "./cjs/react.development.js": 9,
    "./cjs/react.production.min.js": 10
  }],
  12: [function (e, t, n) {
    /** @license React v0.20.2
* scheduler-tracing.development.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/
    "use strict"
  }
    , {}],
  13: [function (e, t, n) {
    /** @license React v0.20.2
* scheduler-tracing.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/
    "use strict";
    var r = 0;
    n.__interactionsRef = null,
      n.__subscriberRef = null,
      n.unstable_clear = function (e) {
        return e()
      }
      ,
      n.unstable_getCurrent = function () {
        return null
      }
      ,
      n.unstable_getThreadID = function () {
        return ++r
      }
      ,
      n.unstable_subscribe = function () { }
      ,
      n.unstable_trace = function (e, t, n) {
        return n()
      }
      ,
      n.unstable_unsubscribe = function () { }
      ,
      n.unstable_wrap = function (e) {
        return e
      }
  }
    , {}],
  14: [function (e, t, n) {
    /** @license React v0.20.2
* scheduler.development.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/
    "use strict"
  }
    , {}],
  15: [function (e, t, n) {
    /** @license React v0.20.2
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/
    "use strict";
    var r, l, a, o;
    if ("object" == typeof performance && "function" == typeof performance.now) {
      var u = performance;
      n.unstable_now = function () {
        return u.now()
      }
    } else {
      var i = Date
        , s = i.now();
      n.unstable_now = function () {
        return i.now() - s
      }
    }
    if ("undefined" == typeof window || "function" != typeof MessageChannel) {
      var c = null
        , f = null
        , d = function () {
          if (null !== c)
            try {
              var e = n.unstable_now();
              c(!0, e),
                c = null
            } catch (e) {
              throw setTimeout(d, 0),
              e
            }
        };
      r = function (e) {
        null !== c ? setTimeout(r, 0, e) : (c = e,
          setTimeout(d, 0))
      }
        ,
        l = function (e, t) {
          f = setTimeout(e, t)
        }
        ,
        a = function () {
          clearTimeout(f)
        }
        ,
        n.unstable_shouldYield = function () {
          return !1
        }
        ,
        o = n.unstable_forceFrameRate = function () { }
    } else {
      var p = window.setTimeout
        , h = window.clearTimeout;
      if ("undefined" != typeof console) {
        var m = window.cancelAnimationFrame;
        "function" != typeof window.requestAnimationFrame && console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),
          "function" != typeof m && console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")
      }
      var g = !1
        , v = null
        , y = -1
        , b = 5
        , w = 0;
      n.unstable_shouldYield = function () {
        return n.unstable_now() >= w
      }
        ,
        o = function () { }
        ,
        n.unstable_forceFrameRate = function (e) {
          0 > e || 125 < e ? console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported") : b = 0 < e ? Math.floor(1e3 / e) : 5
        }
        ;
      var k = new MessageChannel
        , E = k.port2;
      k.port1.onmessage = function () {
        if (null !== v) {
          var e = n.unstable_now();
          w = e + b;
          try {
            v(!0, e) ? E.postMessage(null) : (g = !1,
              v = null)
          } catch (e) {
            throw E.postMessage(null),
            e
          }
        } else
          g = !1
      }
        ,
        r = function (e) {
          v = e,
            g || (g = !0,
              E.postMessage(null))
        }
        ,
        l = function (e, t) {
          y = p((function () {
            e(n.unstable_now())
          }
          ), t)
        }
        ,
        a = function () {
          h(y),
            y = -1
        }
    }
    function S(e, t) {
      var n = e.length;
      e.push(t);
      e: for (; ;) {
        var r = n - 1 >>> 1
          , l = e[r];
        if (!(void 0 !== l && 0 < x(l, t)))
          break e;
        e[r] = t,
          e[n] = l,
          n = r
      }
    }
    function _(e) {
      return void 0 === (e = e[0]) ? null : e
    }
    function C(e) {
      var t = e[0];
      if (void 0 !== t) {
        var n = e.pop();
        if (n !== t) {
          e[0] = n;
          e: for (var r = 0, l = e.length; r < l;) {
            var a = 2 * (r + 1) - 1
              , o = e[a]
              , u = a + 1
              , i = e[u];
            if (void 0 !== o && 0 > x(o, n))
              void 0 !== i && 0 > x(i, o) ? (e[r] = i,
                e[u] = n,
                r = u) : (e[r] = o,
                  e[a] = n,
                  r = a);
            else {
              if (!(void 0 !== i && 0 > x(i, n)))
                break e;
              e[r] = i,
                e[u] = n,
                r = u
            }
          }
        }
        return t
      }
      return null
    }
    function x(e, t) {
      var n = e.sortIndex - t.sortIndex;
      return 0 !== n ? n : e.id - t.id
    }
    var P = []
      , N = []
      , T = 1
      , L = null
      , z = 3
      , O = !1
      , M = !1
      , R = !1;
    function D(e) {
      for (var t = _(N); null !== t;) {
        if (null === t.callback)
          C(N);
        else {
          if (!(t.startTime <= e))
            break;
          C(N),
            t.sortIndex = t.expirationTime,
            S(P, t)
        }
        t = _(N)
      }
    }
    function I(e) {
      if (R = !1,
        D(e),
        !M)
        if (null !== _(P))
          M = !0,
            r(F);
        else {
          var t = _(N);
          null !== t && l(I, t.startTime - e)
        }
    }
    function F(e, t) {
      M = !1,
        R && (R = !1,
          a()),
        O = !0;
      var r = z;
      try {
        for (D(t),
          L = _(P); null !== L && (!(L.expirationTime > t) || e && !n.unstable_shouldYield());) {
          var o = L.callback;
          if ("function" == typeof o) {
            L.callback = null,
              z = L.priorityLevel;
            var u = o(L.expirationTime <= t);
            t = n.unstable_now(),
              "function" == typeof u ? L.callback = u : L === _(P) && C(P),
              D(t)
          } else
            C(P);
          L = _(P)
        }
        if (null !== L)
          var i = !0;
        else {
          var s = _(N);
          null !== s && l(I, s.startTime - t),
            i = !1
        }
        return i
      } finally {
        L = null,
          z = r,
          O = !1
      }
    }
    var j = o;
    n.unstable_IdlePriority = 5,
      n.unstable_ImmediatePriority = 1,
      n.unstable_LowPriority = 4,
      n.unstable_NormalPriority = 3,
      n.unstable_Profiling = null,
      n.unstable_UserBlockingPriority = 2,
      n.unstable_cancelCallback = function (e) {
        e.callback = null
      }
      ,
      n.unstable_continueExecution = function () {
        M || O || (M = !0,
          r(F))
      }
      ,
      n.unstable_getCurrentPriorityLevel = function () {
        return z
      }
      ,
      n.unstable_getFirstCallbackNode = function () {
        return _(P)
      }
      ,
      n.unstable_next = function (e) {
        switch (z) {
          case 1:
          case 2:
          case 3:
            var t = 3;
            break;
          default:
            t = z
        }
        var n = z;
        z = t;
        try {
          return e()
        } finally {
          z = n
        }
      }
      ,
      n.unstable_pauseExecution = function () { }
      ,
      n.unstable_requestPaint = j,
      n.unstable_runWithPriority = function (e, t) {
        switch (e) {
          case 1:
          case 2:
          case 3:
          case 4:
          case 5:
            break;
          default:
            e = 3
        }
        var n = z;
        z = e;
        try {
          return t()
        } finally {
          z = n
        }
      }
      ,
      n.unstable_scheduleCallback = function (e, t, o) {
        var u = n.unstable_now();
        switch ("object" == typeof o && null !== o ? o = "number" == typeof (o = o.delay) && 0 < o ? u + o : u : o = u,
        e) {
          case 1:
            var i = -1;
            break;
          case 2:
            i = 250;
            break;
          case 5:
            i = 1073741823;
            break;
          case 4:
            i = 1e4;
            break;
          default:
            i = 5e3
        }
        return e = {
          id: T++,
          callback: t,
          priorityLevel: e,
          startTime: o,
          expirationTime: i = o + i,
          sortIndex: -1
        },
          o > u ? (e.sortIndex = o,
            S(N, e),
            null === _(P) && e === _(N) && (R ? a() : R = !0,
              l(I, o - u))) : (e.sortIndex = i,
                S(P, e),
                M || O || (M = !0,
                  r(F))),
          e
      }
      ,
      n.unstable_wrapCallback = function (e) {
        var t = z;
        return function () {
          var n = z;
          z = t;
          try {
            return e.apply(this, arguments)
          } finally {
            z = n
          }
        }
      }
  }
    , {}],
  16: [function (e, t, n) {
    "use strict";
    t.exports = e("./cjs/scheduler.production.min.js")
  }
    , {
    "./cjs/scheduler.development.js": 14,
    "./cjs/scheduler.production.min.js": 15
  }],
  17: [function (e, t, n) {
    "use strict";
    t.exports = e("./cjs/scheduler-tracing.production.min.js")
  }
    , {
    "./cjs/scheduler-tracing.development.js": 12,
    "./cjs/scheduler-tracing.production.min.js": 13
  }]
}, {}, [4]);
/**
 * Minified by jsDelivr using UglifyJS v3.3.21.
 * Original file: /npm/canvas-confetti@0.0.3/dist/confetti.browser.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function (m) {
  var f = {};
  !function () {
    var M, u = m.requestAnimationFrame || m.webkitRequestAnimationFrame || m.mozRequestAnimationFrame || m.oRequestAnimationFrame || m.msRequestAnimationFrame || function (t) {
      m.setTimeout(t, 1e3 / 60)
    }
      , r = {
        particleCount: 50,
        angle: 90,
        spread: 45,
        startVelocity: 45,
        decay: .9,
        ticks: 200,
        x: .5,
        y: .5,
        zIndex: 100,
        colors: ["#26ccff", "#a25afd", "#ff5e7e", "#88ff5a", "#fcff42", "#ffa62d", "#ff36ff"]
      };
    function d() { }
    function p(t, e, o) {
      return n = t && null != t[e] ? t[e] : r[e],
        (i = o) ? i(n) : n;
      var n, i
    }
    function l(t) {
      return parseInt(t, 16)
    }
    function x(t) {
      t.width = document.documentElement.clientWidth,
        t.height = document.documentElement.clientHeight
    }
    function v(t) {
      var e, o, n = t.angle * (Math.PI / 180), i = t.spread * (Math.PI / 180);
      return {
        x: t.x,
        y: t.y,
        wobble: 10 * Math.random(),
        velocity: .5 * t.startVelocity + Math.random() * t.startVelocity,
        angle2D: -n + (.5 * i - Math.random() * i),
        tiltAngle: Math.random() * Math.PI,
        color: (e = t.color,
          o = String(e).replace(/[^0-9a-f]/gi, ""),
          o.length < 6 && (o = o[0] + o[0] + o[1] + o[1] + o[2] + o[2]),
        {
          r: l(o.substring(0, 2)),
          g: l(o.substring(2, 4)),
          b: l(o.substring(4, 6))
        }),
        tick: 0,
        totalTicks: t.ticks,
        decay: t.decay,
        random: Math.random() + 5,
        tiltSin: 0,
        tiltCos: 0,
        wobbleX: 0,
        wobbleY: 0
      }
    }
    function w(o, t, n) {
      var i = t.slice()
        , r = o.getContext("2d")
        , l = o.width
        , a = o.height;
      function c() {
        l = a = null
      }
      var e, s = (e = function (e) {
        u(function t() {
          l || a || (x(o),
            l = o.width,
            a = o.height),
            r.clearRect(0, 0, l, a),
            (i = i.filter(function (t) {
              return function (t, e) {
                e.x += Math.cos(e.angle2D) * e.velocity,
                  e.y += Math.sin(e.angle2D) * e.velocity + 3,
                  e.wobble += .1,
                  e.velocity *= e.decay,
                  e.tiltAngle += .1,
                  e.tiltSin = Math.sin(e.tiltAngle),
                  e.tiltCos = Math.cos(e.tiltAngle),
                  e.random = Math.random() + 5,
                  e.wobbleX = e.x + 10 * Math.cos(e.wobble),
                  e.wobbleY = e.y + 10 * Math.sin(e.wobble);
                var o = e.tick++ / e.totalTicks
                  , n = e.x + e.random * e.tiltCos
                  , i = e.y + e.random * e.tiltSin
                  , r = e.wobbleX + e.random * e.tiltCos
                  , l = e.wobbleY + e.random * e.tiltSin;
                return t.fillStyle = "rgba(" + e.color.r + ", " + e.color.g + ", " + e.color.b + ", " + (1 - o) + ")",
                  t.beginPath(),
                  t.moveTo(Math.floor(e.x), Math.floor(e.y)),
                  t.lineTo(Math.floor(e.wobbleX), Math.floor(i)),
                  t.lineTo(Math.floor(r), Math.floor(l)),
                  t.lineTo(Math.floor(n), Math.floor(e.wobbleY)),
                  t.closePath(),
                  t.fill(),
                  e.tick < e.totalTicks
              }(r, t)
            })).length ? u(t) : (m.removeEventListener("resize", c),
              n(),
              e())
        })
      }
        ,
        f.exports.Promise ? new f.exports.Promise(e) : (e(d, d),
          null));
      return m.addEventListener("resize", c, !1),
      {
        addFettis: function (t) {
          return i = i.concat(t),
            s
        },
        canvas: o,
        promise: s
      }
    }
    f.exports = function (t) {
      for (var e, o, n, i = p(t, "particleCount", Math.floor), r = p(t, "angle", Number), l = p(t, "spread", Number), a = p(t, "startVelocity", Number), c = p(t, "decay", Number), s = p(t, "colors"), u = p(t, "ticks", Number), d = p(t, "zIndex", Number), m = ((e = p(t, "origin", Object)).x = p(e, "x", Number),
        e.y = p(e, "y", Number),
        e), f = i, h = [], b = M ? M.canvas : (o = d,
          x(n = document.createElement("canvas")),
          n.style.position = "fixed",
          n.style.top = "0px",
          n.style.left = "0px",
          n.style.pointerEvents = "none",
          n.style.zIndex = o,
          n), y = b.width * m.x, g = b.height * m.y; f--;)
        h.push(v({
          x: y,
          y: g,
          angle: r,
          spread: l,
          startVelocity: a,
          color: s[f % s.length],
          ticks: u,
          decay: c
        }));
      return M ? M.addFettis(h) : (document.body.appendChild(b),
        (M = w(b, h, function () {
          M = null,
            document.body.removeChild(b)
        })).promise)
    }
      ,
      f.exports.Promise = m.Promise || null
  }(),
    m.confetti = f.exports
}(window);
//# sourceMappingURL=/sm/0a8d62b60f6246400536f80bd03f9a3321bd3a4e3850786fe5a3d70ab2b6e827.map

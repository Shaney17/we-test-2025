<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Question Extractor - Usage Guide</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .code-block {
            background-color: #f4f4f4;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            margin: 10px 0;
            overflow-x: auto;
        }
        .console-output {
            background-color: #1e1e1e;
            color: #d4d4d4;
            padding: 15px;
            border-radius: 4px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
        }
        .step {
            margin: 20px 0;
            padding: 15px;
            border-left: 4px solid #007acc;
            background-color: #f9f9f9;
        }
        .warning {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .success {
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>ğŸ¯ Question Extractor Module - Usage Guide</h1>
    
    <div class="success">
        <strong>âœ… File Updated:</strong> <code>questionExtractor.js</code> Ä‘Ã£ Ä‘Æ°á»£c cáº­p nháº­t vá»›i Google Gemini AI integration!
    </div>

    <h2>ğŸ“ MÃ´ táº£</h2>
    <p>Module nÃ y sáº½ tá»± Ä‘á»™ng hook vÃ o function <code>displayQuestionText</code> trong <code>gamePlayer.js</code>, extract dá»¯ liá»‡u cÃ¢u há»i + Ä‘Ã¡p Ã¡n, gá»™p thÃ nh 1 biáº¿n duy nháº¥t, vÃ  gá»­i Ä‘áº¿n Google Gemini AI Ä‘á»ƒ láº¥y cÃ¢u tráº£ lá»i thÃ´ng minh.</p>

    <h2>ğŸ†• TÃ­nh nÄƒng má»›i</h2>
    <ul>
        <li>âœ… <strong>Gá»™p dá»¯ liá»‡u:</strong> CÃ¢u há»i vÃ  Ä‘Ã¡p Ã¡n Ä‘Æ°á»£c gá»™p thÃ nh 1 biáº¿n <code>combinedText</code></li>
        <li>ğŸ¤– <strong>Google Gemini AI:</strong> Tá»± Ä‘á»™ng call API Ä‘á»ƒ láº¥y cÃ¢u tráº£ lá»i thÃ´ng minh</li>
        <li>ğŸ”‘ <strong>API Key built-in:</strong> API key Ä‘Æ°á»£c khai bÃ¡o trá»±c tiáº¿p trong file</li>
        <li>ğŸ“Š <strong>Enhanced logging:</strong> Console output chi tiáº¿t hÆ¡n</li>
    </ul>

    <h2>ğŸš€ CÃ¡ch sá»­ dá»¥ng</h2>
    
    <div class="step">
        <h3>âš ï¸ BÆ°á»›c 0: Cáº¥u hÃ¬nh API Key</h3>
        <p>TrÆ°á»›c khi sá»­ dá»¥ng, cáº§n thay tháº¿ API key trong file <code>questionExtractor.js</code>:</p>
        <div class="code-block">
// TÃ¬m dÃ²ng nÃ y trong file questionExtractor.js:
var GEMINI_API_KEY = 'AIzaSyDH8vQF2K3lJ9xRm5tA7bC8eN1oP6qS4uV'; 

// Thay tháº¿ báº±ng API key tháº­t cá»§a báº¡n tá»« Google AI Studio
var GEMINI_API_KEY = 'YOUR_ACTUAL_GEMINI_API_KEY_HERE';
        </div>
        <p><strong>Láº¥y API key táº¡i:</strong> <a href="https://makersuite.google.com/app/apikey" target="_blank">Google AI Studio</a></p>
    </div>
    <div class="step">
        <h3>BÆ°á»›c 1: ThÃªm script vÃ o quiz.html</h3>
        <p>ThÃªm dÃ²ng sau vÃ o file <code>quiz.html</code>, sau tháº» script cá»§a <code>gamePlayer.js</code>:</p>
        <div class="code-block">
&lt;script src="questionExtractor.js"&gt;&lt;/script&gt;
        </div>
    </div>

    <div class="step">
        <h3>BÆ°á»›c 2: Script sáº½ tá»± Ä‘á»™ng hoáº¡t Ä‘á»™ng</h3>
        <p>Module sáº½ tá»± Ä‘á»™ng:</p>
        <ul>
            <li>TÃ¬m vÃ  hook vÃ o <code>questionAnswerModule.displayQuestionText</code></li>
            <li>Sau má»—i láº§n hiá»ƒn thá»‹ cÃ¢u há»i, sáº½ extract vÃ  gá»™p dá»¯ liá»‡u</li>
            <li>ğŸ¤– Gá»­i cÃ¢u há»i Ä‘áº¿n Google Gemini AI Ä‘á»ƒ láº¥y cÃ¢u tráº£ lá»i</li>
            <li>In káº¿t quáº£ ra console</li>
        </ul>
    </div>

    <h2>ğŸ“Š Káº¿t quáº£ trong Console</h2>
    <p>Khi cÃ³ cÃ¢u há»i má»›i, báº¡n sáº½ tháº¥y output nhÆ° nÃ y trong browser console:</p>
    
    <div class="console-output">
=== QUESTION DATA EXTRACTED ===<br>
ğŸ“ Combined Question Data:<br>
Question: Which of the following banks is known for its partnership with One Mount and focuses on digital banking solutions in Vietnam?<br><br>
Answer options:<br>
A. Techcombank<br>
B. Vietcombank<br>
C. BIDV<br>
D. Sacombank<br>
================================<br><br>
ğŸ¤– Calling Google Gemini API...<br>
ğŸ“¤ Prompt sent to Gemini: [Question content with analysis request]<br>
âœ… Gemini API Response received<br><br>
=== GEMINI AI ANALYSIS ===<br>
ğŸ¤– Gemini Response: Answer: A - Techcombank is known for its partnership with One Mount and focus on digital banking solutions in Vietnam. The bank has been actively developing digital services and fintech partnerships.<br>
==========================
    </div>

    <h2>ğŸ› ï¸ API Commands (Debug)</h2>
    <p>Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¡c command sau trong browser console Ä‘á»ƒ debug:</p>
    
    <div class="code-block">
// Kiá»ƒm tra xem Ä‘Ã£ hook thÃ nh cÃ´ng chÆ°a
questionExtractor.isHooked()

// Extract dá»¯ liá»‡u ngay láº­p tá»©c (manual)
questionExtractor.extractNow()

// Extract chá»‰ cÃ¢u há»i
questionExtractor.extractQuestionText()

// Extract chá»‰ Ä‘Ã¡p Ã¡n
questionExtractor.extractAnswers()

// Gá»™p cÃ¢u há»i vÃ  Ä‘Ã¡p Ã¡n thÃ nh 1 biáº¿n
questionExtractor.combineQuestionData()

// Test Gemini API vá»›i cÃ¢u há»i máº«u
questionExtractor.testGeminiAPI()

// Test Gemini API vá»›i cÃ¢u há»i tÃ¹y chá»‰nh
questionExtractor.testGeminiAPI("Your question here?\\nA. Option 1\\nB. Option 2")

// Gá»i Gemini API trá»±c tiáº¿p
questionExtractor.callGeminiAPI({combinedText: "Your question"})

// Unhook khá»i displayQuestionText
questionExtractor.unhook()

// Hook láº¡i
questionExtractor.hook()
    </div>

    <h2>âš™ï¸ CÃ¡ch hoáº¡t Ä‘á»™ng</h2>
    <ol>
        <li><strong>Auto-detection:</strong> Script tá»± Ä‘á»™ng tÃ¬m <code>questionAnswerModule</code></li>
        <li><strong>Function hooking:</strong> Override <code>displayQuestionText</code> Ä‘á»ƒ thÃªm logic extract</li>
        <li><strong>DOM extraction:</strong> Sau khi DOM Ä‘Æ°á»£c update, extract dá»¯ liá»‡u tá»«:
            <ul>
                <li><code>[wa-id="questionDetails__Text"]</code> - CÃ¢u há»i</li>
                <li><code>#questionDetails__Answers .answerButton</code> - ÄÃ¡p Ã¡n</li>
            </ul>
        </li>
        <li><strong>Data combination:</strong> Gá»™p cÃ¢u há»i vÃ  Ä‘Ã¡p Ã¡n thÃ nh 1 biáº¿n <code>combinedText</code></li>
        <li><strong>Gemini API call:</strong> Gá»­i dá»¯ liá»‡u Ä‘áº¿n Google Gemini AI Ä‘á»ƒ phÃ¢n tÃ­ch</li>
        <li><strong>Console logging:</strong> In ra console vá»›i format dá»… Ä‘á»c + káº¿t quáº£ AI</li>
    </ol>

    <div class="warning">
        <strong>âš ï¸ LÆ°u Ã½:</strong>
        <ul>
            <li>Script cáº§n Ä‘Æ°á»£c load sau <code>gamePlayer.js</code></li>
            <li>CÃ³ delay 100ms Ä‘á»ƒ Ä‘áº£m báº£o DOM Ä‘Æ°á»£c update hoÃ n toÃ n</li>
            <li>Script sáº½ timeout sau 10 giÃ¢y náº¿u khÃ´ng tÃ¬m tháº¥y module</li>
        </ul>
    </div>

    <h2>ğŸ” Troubleshooting</h2>
    
    <h3>Náº¿u khÃ´ng tháº¥y output trong console:</h3>
    <ol>
        <li>Kiá»ƒm tra script Ä‘Ã£ Ä‘Æ°á»£c load: <code>typeof questionExtractor !== 'undefined'</code></li>
        <li>Kiá»ƒm tra Ä‘Ã£ hook thÃ nh cÃ´ng: <code>questionExtractor.isHooked()</code></li>
        <li>Thá»­ extract manual: <code>questionExtractor.extractNow()</code></li>
        <li>Kiá»ƒm tra console cÃ³ lá»—i khÃ´ng</li>
    </ol>

    <h3>Náº¿u gáº·p lá»—i:</h3>
    <div class="code-block">
// Check xem cÃ¡c element cÃ³ tá»“n táº¡i khÃ´ng
document.querySelector('[wa-id="questionDetails__Text"]')
document.getElementById('questionDetails__Answers')

// Check module cÃ³ tá»“n táº¡i khÃ´ng  
typeof questionAnswerModule !== 'undefined'
typeof questionAnswerModule.displayQuestionText === 'function'
    </div>

    <h2>ğŸ“ File Structure</h2>
    <div class="code-block">
e:\TCB\Wepro\
â”œâ”€â”€ gamePlayer.js          (existing)
â”œâ”€â”€ quiz.html             (existing) 
â”œâ”€â”€ questionExtractor.js  (new - your script)
â””â”€â”€ usage-guide.html      (new - this file)
    </div>

    <div class="success">
        <strong>ğŸ‰ HoÃ n thÃ nh!</strong> Script Ä‘Ã£ sáºµn sÃ ng sá»­ dá»¥ng. Chá»‰ cáº§n thÃªm vÃ o quiz.html vÃ  test thÃ´i!
    </div>
</body>
</html>
